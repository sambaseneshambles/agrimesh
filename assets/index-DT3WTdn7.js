var dq=Object.defineProperty;var pq=(t,e,n)=>e in t?dq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Wi=(t,e,n)=>pq(t,typeof e!="symbol"?e+"":e,n);function mq(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function jl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kA={exports:{}},k0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IN;function gq(){if(IN)return k0;IN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,a){var s=null;if(a!==void 0&&(s=""+a),r.key!==void 0&&(s=""+r.key),"key"in r){a={};for(var l in r)l!=="key"&&(a[l]=r[l])}else a=r;return r=a.ref,{$$typeof:t,type:i,key:s,ref:r!==void 0?r:null,props:a}}return k0.Fragment=e,k0.jsx=n,k0.jsxs=n,k0}var NN;function vq(){return NN||(NN=1,kA.exports=gq()),kA.exports}var ye=vq(),FA={exports:{}},vn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LN;function yq(){if(LN)return vn;LN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function x(Y){return Y===null||typeof Y!="object"?null:(Y=v&&Y[v]||Y["@@iterator"],typeof Y=="function"?Y:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function M(Y,re,Me){this.props=Y,this.context=re,this.refs=S,this.updater=Me||_}M.prototype.isReactComponent={},M.prototype.setState=function(Y,re){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,re,"setState")},M.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function T(){}T.prototype=M.prototype;function R(Y,re,Me){this.props=Y,this.context=re,this.refs=S,this.updater=Me||_}var P=R.prototype=new T;P.constructor=R,w(P,M.prototype),P.isPureReactComponent=!0;var L=Array.isArray;function I(){}var B={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function z(Y,re,Me){var ke=Me.ref;return{$$typeof:t,type:Y,key:re,ref:ke!==void 0?ke:null,props:Me}}function W(Y,re){return z(Y.type,re,Y.props)}function j(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function G(Y){var re={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Me){return re[Me]})}var J=/\/+/g;function te(Y,re){return typeof Y=="object"&&Y!==null&&Y.key!=null?G(""+Y.key):re.toString(36)}function ie(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(I,I):(Y.status="pending",Y.then(function(re){Y.status==="pending"&&(Y.status="fulfilled",Y.value=re)},function(re){Y.status==="pending"&&(Y.status="rejected",Y.reason=re)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function q(Y,re,Me,ke,mt){var me=typeof Y;(me==="undefined"||me==="boolean")&&(Y=null);var De=!1;if(Y===null)De=!0;else switch(me){case"bigint":case"string":case"number":De=!0;break;case"object":switch(Y.$$typeof){case t:case e:De=!0;break;case p:return De=Y._init,q(De(Y._payload),re,Me,ke,mt)}}if(De)return mt=mt(Y),De=ke===""?"."+te(Y,0):ke,L(mt)?(Me="",De!=null&&(Me=De.replace(J,"$&/")+"/"),q(mt,re,Me,"",function(ot){return ot})):mt!=null&&(j(mt)&&(mt=W(mt,Me+(mt.key==null||Y&&Y.key===mt.key?"":(""+mt.key).replace(J,"$&/")+"/")+De)),re.push(mt)),1;De=0;var Ye=ke===""?".":ke+":";if(L(Y))for(var xe=0;xe<Y.length;xe++)ke=Y[xe],me=Ye+te(ke,xe),De+=q(ke,re,Me,me,mt);else if(xe=x(Y),typeof xe=="function")for(Y=xe.call(Y),xe=0;!(ke=Y.next()).done;)ke=ke.value,me=Ye+te(ke,xe++),De+=q(ke,re,Me,me,mt);else if(me==="object"){if(typeof Y.then=="function")return q(ie(Y),re,Me,ke,mt);throw re=String(Y),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return De}function K(Y,re,Me){if(Y==null)return Y;var ke=[],mt=0;return q(Y,ke,"","",function(me){return re.call(Me,me,mt++)}),ke}function pe(Y){if(Y._status===-1){var re=Y._result;re=re(),re.then(function(Me){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Me)},function(Me){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Me)}),Y._status===-1&&(Y._status=0,Y._result=re)}if(Y._status===1)return Y._result.default;throw Y._result}var de=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},_e={map:K,forEach:function(Y,re,Me){K(Y,function(){re.apply(this,arguments)},Me)},count:function(Y){var re=0;return K(Y,function(){re++}),re},toArray:function(Y){return K(Y,function(re){return re})||[]},only:function(Y){if(!j(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return vn.Activity=g,vn.Children=_e,vn.Component=M,vn.Fragment=n,vn.Profiler=r,vn.PureComponent=R,vn.StrictMode=i,vn.Suspense=c,vn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,vn.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return B.H.useMemoCache(Y)}},vn.cache=function(Y){return function(){return Y.apply(null,arguments)}},vn.cacheSignal=function(){return null},vn.cloneElement=function(Y,re,Me){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var ke=w({},Y.props),mt=Y.key;if(re!=null)for(me in re.key!==void 0&&(mt=""+re.key),re)!D.call(re,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&re.ref===void 0||(ke[me]=re[me]);var me=arguments.length-2;if(me===1)ke.children=Me;else if(1<me){for(var De=Array(me),Ye=0;Ye<me;Ye++)De[Ye]=arguments[Ye+2];ke.children=De}return z(Y.type,mt,ke)},vn.createContext=function(Y){return Y={$$typeof:s,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},vn.createElement=function(Y,re,Me){var ke,mt={},me=null;if(re!=null)for(ke in re.key!==void 0&&(me=""+re.key),re)D.call(re,ke)&&ke!=="key"&&ke!=="__self"&&ke!=="__source"&&(mt[ke]=re[ke]);var De=arguments.length-2;if(De===1)mt.children=Me;else if(1<De){for(var Ye=Array(De),xe=0;xe<De;xe++)Ye[xe]=arguments[xe+2];mt.children=Ye}if(Y&&Y.defaultProps)for(ke in De=Y.defaultProps,De)mt[ke]===void 0&&(mt[ke]=De[ke]);return z(Y,me,mt)},vn.createRef=function(){return{current:null}},vn.forwardRef=function(Y){return{$$typeof:l,render:Y}},vn.isValidElement=j,vn.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:pe}},vn.memo=function(Y,re){return{$$typeof:h,type:Y,compare:re===void 0?null:re}},vn.startTransition=function(Y){var re=B.T,Me={};B.T=Me;try{var ke=Y(),mt=B.S;mt!==null&&mt(Me,ke),typeof ke=="object"&&ke!==null&&typeof ke.then=="function"&&ke.then(I,de)}catch(me){de(me)}finally{re!==null&&Me.types!==null&&(re.types=Me.types),B.T=re}},vn.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},vn.use=function(Y){return B.H.use(Y)},vn.useActionState=function(Y,re,Me){return B.H.useActionState(Y,re,Me)},vn.useCallback=function(Y,re){return B.H.useCallback(Y,re)},vn.useContext=function(Y){return B.H.useContext(Y)},vn.useDebugValue=function(){},vn.useDeferredValue=function(Y,re){return B.H.useDeferredValue(Y,re)},vn.useEffect=function(Y,re){return B.H.useEffect(Y,re)},vn.useEffectEvent=function(Y){return B.H.useEffectEvent(Y)},vn.useId=function(){return B.H.useId()},vn.useImperativeHandle=function(Y,re,Me){return B.H.useImperativeHandle(Y,re,Me)},vn.useInsertionEffect=function(Y,re){return B.H.useInsertionEffect(Y,re)},vn.useLayoutEffect=function(Y,re){return B.H.useLayoutEffect(Y,re)},vn.useMemo=function(Y,re){return B.H.useMemo(Y,re)},vn.useOptimistic=function(Y,re){return B.H.useOptimistic(Y,re)},vn.useReducer=function(Y,re,Me){return B.H.useReducer(Y,re,Me)},vn.useRef=function(Y){return B.H.useRef(Y)},vn.useState=function(Y){return B.H.useState(Y)},vn.useSyncExternalStore=function(Y,re,Me){return B.H.useSyncExternalStore(Y,re,Me)},vn.useTransition=function(){return B.H.useTransition()},vn.version="19.2.4",vn}var UN;function Xg(){return UN||(UN=1,FA.exports=yq()),FA.exports}var U=Xg();const BO=jl(U),xq=mq({__proto__:null,default:BO},[U]);var VA={exports:{}},F0={},HA={exports:{}},jA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zN;function bq(){return zN||(zN=1,(function(t){function e(q,K){var pe=q.length;q.push(K);e:for(;0<pe;){var de=pe-1>>>1,_e=q[de];if(0<r(_e,K))q[de]=K,q[pe]=_e,pe=de;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var K=q[0],pe=q.pop();if(pe!==K){q[0]=pe;e:for(var de=0,_e=q.length,Y=_e>>>1;de<Y;){var re=2*(de+1)-1,Me=q[re],ke=re+1,mt=q[ke];if(0>r(Me,pe))ke<_e&&0>r(mt,Me)?(q[de]=mt,q[ke]=pe,de=ke):(q[de]=Me,q[re]=pe,de=re);else if(ke<_e&&0>r(mt,pe))q[de]=mt,q[ke]=pe,de=ke;else break e}}return K}function r(q,K){var pe=q.sortIndex-K.sortIndex;return pe!==0?pe:q.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],h=[],p=1,g=null,v=3,x=!1,_=!1,w=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function P(q){for(var K=n(h);K!==null;){if(K.callback===null)i(h);else if(K.startTime<=q)i(h),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(h)}}function L(q){if(w=!1,P(q),!_)if(n(c)!==null)_=!0,I||(I=!0,G());else{var K=n(h);K!==null&&ie(L,K.startTime-q)}}var I=!1,B=-1,D=5,z=-1;function W(){return S?!0:!(t.unstable_now()-z<D)}function j(){if(S=!1,I){var q=t.unstable_now();z=q;var K=!0;try{e:{_=!1,w&&(w=!1,T(B),B=-1),x=!0;var pe=v;try{t:{for(P(q),g=n(c);g!==null&&!(g.expirationTime>q&&W());){var de=g.callback;if(typeof de=="function"){g.callback=null,v=g.priorityLevel;var _e=de(g.expirationTime<=q);if(q=t.unstable_now(),typeof _e=="function"){g.callback=_e,P(q),K=!0;break t}g===n(c)&&i(c),P(q)}else i(c);g=n(c)}if(g!==null)K=!0;else{var Y=n(h);Y!==null&&ie(L,Y.startTime-q),K=!1}}break e}finally{g=null,v=pe,x=!1}K=void 0}}finally{K?G():I=!1}}}var G;if(typeof R=="function")G=function(){R(j)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,te=J.port2;J.port1.onmessage=j,G=function(){te.postMessage(null)}}else G=function(){M(j,0)};function ie(q,K){B=M(function(){q(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(q){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var pe=v;v=K;try{return q()}finally{v=pe}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var pe=v;v=q;try{return K()}finally{v=pe}},t.unstable_scheduleCallback=function(q,K,pe){var de=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?de+pe:de):pe=de,q){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=pe+_e,q={id:p++,callback:K,priorityLevel:q,startTime:pe,expirationTime:_e,sortIndex:-1},pe>de?(q.sortIndex=pe,e(h,q),n(c)===null&&q===n(h)&&(w?(T(B),B=-1):w=!0,ie(L,pe-de))):(q.sortIndex=_e,e(c,q),_||x||(_=!0,I||(I=!0,G()))),q},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(q){var K=v;return function(){var pe=v;v=K;try{return q.apply(this,arguments)}finally{v=pe}}}})(jA)),jA}var BN;function SV(){return BN||(BN=1,HA.exports=bq()),HA.exports}var GA={exports:{}},Va={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kN;function _q(){if(kN)return Va;kN=1;var t=Xg();function e(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(c,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:c,containerInfo:h,implementation:p}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Va.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Va.createPortal=function(c,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(c,h,null,p)},Va.flushSync=function(c){var h=s.T,p=i.p;try{if(s.T=null,i.p=2,c)return c()}finally{s.T=h,i.p=p,i.d.f()}},Va.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(c,h))},Va.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Va.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var p=h.as,g=l(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?i.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:x}):p==="script"&&i.d.X(c,{crossOrigin:g,integrity:v,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Va.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=l(h.as,h.crossOrigin);i.d.M(c,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(c)},Va.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=l(p,h.crossOrigin);i.d.L(c,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Va.preloadModule=function(c,h){if(typeof c=="string")if(h){var p=l(h.as,h.crossOrigin);i.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(c)},Va.requestFormReset=function(c){i.d.r(c)},Va.unstable_batchedUpdates=function(c,h){return c(h)},Va.useFormState=function(c,h,p){return s.H.useFormState(c,h,p)},Va.useFormStatus=function(){return s.H.useHostTransitionStatus()},Va.version="19.2.4",Va}var FN;function MV(){if(FN)return GA.exports;FN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),GA.exports=_q(),GA.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VN;function Sq(){if(VN)return F0;VN=1;var t=SV(),e=Xg(),n=MV();function i(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,m=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(m=u.return),o=u.return;while(o)}return u.tag===3?m:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(i(188))}function h(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(i(188));return u!==o?null:o}for(var m=o,y=u;;){var A=m.return;if(A===null)break;var C=A.alternate;if(C===null){if(y=A.return,y!==null){m=y;continue}break}if(A.child===C.child){for(C=A.child;C;){if(C===m)return c(A),o;if(C===y)return c(A),u;C=C.sibling}throw Error(i(188))}if(m.return!==y.return)m=A,y=C;else{for(var k=!1,$=A.child;$;){if($===m){k=!0,m=A,y=C;break}if($===y){k=!0,y=A,m=C;break}$=$.sibling}if(!k){for($=C.child;$;){if($===m){k=!0,m=C,y=A;break}if($===y){k=!0,y=C,m=A;break}$=$.sibling}if(!k)throw Error(i(189))}}if(m.alternate!==y)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?o:u}function p(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=p(o),u!==null)return u;o=o.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function G(o){return o===null||typeof o!="object"?null:(o=j&&o[j]||o["@@iterator"],typeof o=="function"?o:null)}var J=Symbol.for("react.client.reference");function te(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===J?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case M:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case I:return"SuspenseList";case z:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case R:return o.displayName||"Context";case T:return(o._context.displayName||"Context")+".Consumer";case P:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case B:return u=o.displayName||null,u!==null?u:te(o.type)||"Memo";case D:u=o._payload,o=o._init;try{return te(o(u))}catch{}}return null}var ie=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},de=[],_e=-1;function Y(o){return{current:o}}function re(o){0>_e||(o.current=de[_e],de[_e]=null,_e--)}function Me(o,u){_e++,de[_e]=o.current,o.current=u}var ke=Y(null),mt=Y(null),me=Y(null),De=Y(null);function Ye(o,u){switch(Me(me,u),Me(mt,o),Me(ke,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?nN(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=nN(u),o=iN(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}re(ke),Me(ke,o)}function xe(){re(ke),re(mt),re(me)}function ot(o){o.memoizedState!==null&&Me(De,o);var u=ke.current,m=iN(u,o.type);u!==m&&(Me(mt,o),Me(ke,m))}function xt(o){mt.current===o&&(re(ke),re(mt)),De.current===o&&(re(De),L0._currentValue=pe)}var je,Nt;function Pe(o){if(je===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);je=u&&u[1]||"",Nt=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+o+Nt}var qe=!1;function He(o,u){if(!o||qe)return"";qe=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(u){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Be){var Re=Be}Reflect.construct(o,[],Ke)}else{try{Ke.call()}catch(Be){Re=Be}o.call(Ke.prototype)}}else{try{throw Error()}catch(Be){Re=Be}(Ke=o())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Be){if(Be&&Re&&typeof Be.stack=="string")return[Be.stack,Re.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=y.DetermineComponentFrameRoot(),k=C[0],$=C[1];if(k&&$){var se=k.split(`
`),Ae=$.split(`
`);for(A=y=0;y<se.length&&!se[y].includes("DetermineComponentFrameRoot");)y++;for(;A<Ae.length&&!Ae[A].includes("DetermineComponentFrameRoot");)A++;if(y===se.length||A===Ae.length)for(y=se.length-1,A=Ae.length-1;1<=y&&0<=A&&se[y]!==Ae[A];)A--;for(;1<=y&&0<=A;y--,A--)if(se[y]!==Ae[A]){if(y!==1||A!==1)do if(y--,A--,0>A||se[y]!==Ae[A]){var We=`
`+se[y].replace(" at new "," at ");return o.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",o.displayName)),We}while(1<=y&&0<=A);break}}}finally{qe=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?Pe(m):""}function ft(o,u){switch(o.tag){case 26:case 27:case 5:return Pe(o.type);case 16:return Pe("Lazy");case 13:return o.child!==u&&u!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return He(o.type,!1);case 11:return He(o.type.render,!1);case 1:return He(o.type,!0);case 31:return Pe("Activity");default:return""}}function ne(o){try{var u="",m=null;do u+=ft(o,m),m=o,o=o.return;while(o);return u}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var Vt=Object.prototype.hasOwnProperty,Mt=t.unstable_scheduleCallback,Gt=t.unstable_cancelCallback,ht=t.unstable_shouldYield,Q=t.unstable_requestPaint,F=t.unstable_now,ge=t.unstable_getCurrentPriorityLevel,Ie=t.unstable_ImmediatePriority,Xe=t.unstable_UserBlockingPriority,Ue=t.unstable_NormalPriority,Et=t.unstable_LowPriority,dt=t.unstable_IdlePriority,Ht=t.log,Yt=t.unstable_setDisableYieldValue,Je=null,Ze=null;function Ot(o){if(typeof Ht=="function"&&Yt(o),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(Je,o)}catch{}}var wt=Math.clz32?Math.clz32:ve,St=Math.log,Xt=Math.LN2;function ve(o){return o>>>=0,o===0?32:31-(St(o)/Xt|0)|0}var Te=256,ut=262144,Pt=4194304;function at(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Fe(o,u,m){var y=o.pendingLanes;if(y===0)return 0;var A=0,C=o.suspendedLanes,k=o.pingedLanes;o=o.warmLanes;var $=y&134217727;return $!==0?(y=$&~C,y!==0?A=at(y):(k&=$,k!==0?A=at(k):m||(m=$&~o,m!==0&&(A=at(m))))):($=y&~C,$!==0?A=at($):k!==0?A=at(k):m||(m=y&~o,m!==0&&(A=at(m)))),A===0?0:u!==0&&u!==A&&(u&C)===0&&(C=A&-A,m=u&-u,C>=m||C===32&&(m&4194048)!==0)?u:A}function Lt(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function rn(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rn(){var o=Pt;return Pt<<=1,(Pt&62914560)===0&&(Pt=4194304),o}function In(o){for(var u=[],m=0;31>m;m++)u.push(o);return u}function Er(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function $r(o,u,m,y,A,C){var k=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var $=o.entanglements,se=o.expirationTimes,Ae=o.hiddenUpdates;for(m=k&~m;0<m;){var We=31-wt(m),Ke=1<<We;$[We]=0,se[We]=-1;var Re=Ae[We];if(Re!==null)for(Ae[We]=null,We=0;We<Re.length;We++){var Be=Re[We];Be!==null&&(Be.lane&=-536870913)}m&=~Ke}y!==0&&qs(o,y,0),C!==0&&A===0&&o.tag!==0&&(o.suspendedLanes|=C&~(k&~u))}function qs(o,u,m){o.pendingLanes|=u,o.suspendedLanes&=~u;var y=31-wt(u);o.entangledLanes|=u,o.entanglements[y]=o.entanglements[y]|1073741824|m&261930}function Xs(o,u){var m=o.entangledLanes|=u;for(o=o.entanglements;m;){var y=31-wt(m),A=1<<y;A&u|o[y]&u&&(o[y]|=u),m&=~A}}function po(o,u){var m=u&-u;return m=(m&42)!==0?1:$s(m),(m&(o.suspendedLanes|u))!==0?0:m}function $s(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function fa(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ar(){var o=K.p;return o!==0?o:(o=window.event,o===void 0?32:AN(o.type))}function ln(o,u){var m=K.p;try{return K.p=o,u()}finally{K.p=m}}var ha=Math.random().toString(36).slice(2),vi="__reactFiber$"+ha,V="__reactProps$"+ha,Z="__reactContainer$"+ha,ae="__reactEvents$"+ha,we="__reactListeners$"+ha,ze="__reactHandles$"+ha,Ve="__reactResources$"+ha,lt="__reactMarker$"+ha;function nt(o){delete o[vi],delete o[V],delete o[ae],delete o[we],delete o[ze]}function vt(o){var u=o[vi];if(u)return u;for(var m=o.parentNode;m;){if(u=m[Z]||m[vi]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(o=cN(o);o!==null;){if(m=o[vi])return m;o=cN(o)}return u}o=m,m=o.parentNode}return null}function gt(o){if(o=o[vi]||o[Z]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function bt(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(i(33))}function H(o){var u=o[Ve];return u||(u=o[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function oe(o){o[lt]=!0}var ce=new Set,ue={};function fe(o,u){Ge(o,u),Ge(o+"Capture",u)}function Ge(o,u){for(ue[o]=u,o=0;o<u.length;o++)ce.add(u[o])}var et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},rt={};function Tt(o){return Vt.call(rt,o)?!0:Vt.call(tt,o)?!1:et.test(o)?rt[o]=!0:(tt[o]=!0,!1)}function Rt(o,u,m){if(Tt(u))if(m===null)o.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var y=u.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+m)}}function Zt(o,u,m){if(m===null)o.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+m)}}function pt(o,u,m,y){if(y===null)o.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(u,m,""+y)}}function Wt(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Nn(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Wn(o,u,m){var y=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var A=y.get,C=y.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return A.call(this)},set:function(k){m=""+k,C.call(this,k)}}),Object.defineProperty(o,u,{enumerable:y.enumerable}),{getValue:function(){return m},setValue:function(k){m=""+k},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function cn(o){if(!o._valueTracker){var u=Nn(o)?"checked":"value";o._valueTracker=Wn(o,u,""+o[u])}}function jt(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var m=u.getValue(),y="";return o&&(y=Nn(o)?o.checked?"true":"false":o.value),o=y,o!==m?(u.setValue(o),!0):!1}function st(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var dn=/[\n"\\]/g;function At(o){return o.replace(dn,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function $n(o,u,m,y,A,C,k,$){o.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?o.type=k:o.removeAttribute("type"),u!=null?k==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Wt(u)):o.value!==""+Wt(u)&&(o.value=""+Wt(u)):k!=="submit"&&k!=="reset"||o.removeAttribute("value"),u!=null?jn(o,k,Wt(u)):m!=null?jn(o,k,Wt(m)):y!=null&&o.removeAttribute("value"),A==null&&C!=null&&(o.defaultChecked=!!C),A!=null&&(o.checked=A&&typeof A!="function"&&typeof A!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?o.name=""+Wt($):o.removeAttribute("name")}function Ci(o,u,m,y,A,C,k,$){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.type=C),u!=null||m!=null){if(!(C!=="submit"&&C!=="reset"||u!=null)){cn(o);return}m=m!=null?""+Wt(m):"",u=u!=null?""+Wt(u):m,$||u===o.value||(o.value=u),o.defaultValue=u}y=y??A,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=$?o.checked:!!y,o.defaultChecked=!!y,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(o.name=k),cn(o)}function jn(o,u,m){u==="number"&&st(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function yi(o,u,m,y){if(o=o.options,u){u={};for(var A=0;A<m.length;A++)u["$"+m[A]]=!0;for(m=0;m<o.length;m++)A=u.hasOwnProperty("$"+o[m].value),o[m].selected!==A&&(o[m].selected=A),A&&y&&(o[m].defaultSelected=!0)}else{for(m=""+Wt(m),u=null,A=0;A<o.length;A++){if(o[A].value===m){o[A].selected=!0,y&&(o[A].defaultSelected=!0);return}u!==null||o[A].disabled||(u=o[A])}u!==null&&(u.selected=!0)}}function qn(o,u,m){if(u!=null&&(u=""+Wt(u),u!==o.value&&(o.value=u),m==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=m!=null?""+Wt(m):""}function Fi(o,u,m,y){if(u==null){if(y!=null){if(m!=null)throw Error(i(92));if(ie(y)){if(1<y.length)throw Error(i(93));y=y[0]}m=y}m==null&&(m=""),u=m}m=Wt(u),o.defaultValue=m,y=o.textContent,y===m&&y!==""&&y!==null&&(o.value=y),cn(o)}function Yr(o,u){if(u){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=u;return}}o.textContent=u}var Yi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bs(o,u,m){var y=u.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?y?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":y?o.setProperty(u,m):typeof m!="number"||m===0||Yi.has(u)?u==="float"?o.cssFloat=m:o[u]=(""+m).trim():o[u]=m+"px"}function mo(o,u,m){if(u!=null&&typeof u!="object")throw Error(i(62));if(o=o.style,m!=null){for(var y in m)!m.hasOwnProperty(y)||u!=null&&u.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var A in u)y=u[A],u.hasOwnProperty(A)&&m[A]!==y&&bs(o,A,y)}else for(var C in u)u.hasOwnProperty(C)&&bs(o,C,u[C])}function Gu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rh(o){return mv.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function il(){}var Ap=null;function Tp(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Wu=null,ql=null;function gv(o){var u=gt(o);if(u&&(o=u.stateNode)){var m=o[V]||null;e:switch(o=u.stateNode,u.type){case"input":if($n(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),u=m.name,m.type==="radio"&&u!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+At(""+u)+'"][type="radio"]'),u=0;u<m.length;u++){var y=m[u];if(y!==o&&y.form===o.form){var A=y[V]||null;if(!A)throw Error(i(90));$n(y,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(u=0;u<m.length;u++)y=m[u],y.form===o.form&&jt(y)}break e;case"textarea":qn(o,m.value,m.defaultValue);break e;case"select":u=m.value,u!=null&&yi(o,!!m.multiple,u,!1)}}}var Cp=!1;function vv(o,u,m){if(Cp)return o(u,m);Cp=!0;try{var y=o(u);return y}finally{if(Cp=!1,(Wu!==null||ql!==null)&&(Js(),Wu&&(u=Wu,o=ql,ql=Wu=null,gv(u),o)))for(u=0;u<o.length;u++)gv(o[u])}}function ef(o,u){var m=o.stateNode;if(m===null)return null;var y=m[V]||null;if(y===null)return null;m=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(i(231,u,typeof m));return m}var go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yv=!1;if(go)try{var tf={};Object.defineProperty(tf,"passive",{get:function(){yv=!0}}),window.addEventListener("test",tf,tf),window.removeEventListener("test",tf,tf)}catch{yv=!1}var Za=null,Rp=null,qu=null;function Ph(){if(qu)return qu;var o,u=Rp,m=u.length,y,A="value"in Za?Za.value:Za.textContent,C=A.length;for(o=0;o<m&&u[o]===A[o];o++);var k=m-o;for(y=1;y<=k&&u[m-y]===A[C-y];y++);return qu=A.slice(o,1<y?1-y:void 0)}function Oh(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function nf(){return!0}function hb(){return!1}function da(o){function u(m,y,A,C,k){this._reactName=m,this._targetInst=A,this.type=y,this.nativeEvent=C,this.target=k,this.currentTarget=null;for(var $ in o)o.hasOwnProperty($)&&(m=o[$],this[$]=m?m(C):C[$]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?nf:hb,this.isPropagationStopped=hb,this}return g(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=nf)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=nf)},persist:function(){},isPersistent:nf}),u}var Xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dh=da(Xl),rf=g({},Xl,{view:0,detail:0}),db=da(rf),Ih,Pp,af,sf=g({},rf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Np,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==af&&(af&&o.type==="mousemove"?(Ih=o.screenX-af.screenX,Pp=o.screenY-af.screenY):Pp=Ih=0,af=o),Ih)},movementY:function(o){return"movementY"in o?o.movementY:Pp}}),xv=da(sf),pb=g({},sf,{dataTransfer:0}),mb=da(pb),bv=g({},rf,{relatedTarget:0}),Op=da(bv),gb=g({},Xl,{animationName:0,elapsedTime:0,pseudoElement:0}),aA=da(gb),sA=g({},Xl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),vb=da(sA),Nh=g({},Xl,{data:0}),Dp=da(Nh),Ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _v(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=xb[o])?!!u[o]:!1}function Np(){return _v}var bb=g({},rf,{key:function(o){if(o.key){var u=Ip[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Oh(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?yb[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Np,charCode:function(o){return o.type==="keypress"?Oh(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Oh(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Xu=da(bb),Lp=g({},sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sv=da(Lp),Mv=g({},rf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Np}),_b=da(Mv),Sb=g({},Xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),oA=da(Sb),Ur=g({},sf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Mb=da(Ur),wb=g({},Xl,{newState:0,oldState:0}),Eb=da(wb),Ab=[9,13,27,32],$u=go&&"CompositionEvent"in window,of=null;go&&"documentMode"in document&&(of=document.documentMode);var Up=go&&"TextEvent"in window&&!of,wv=go&&(!$u||of&&8<of&&11>=of),Tb=" ",Lh=!1;function zp(o,u){switch(o){case"keyup":return Ab.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ev(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Yu=!1;function Cb(o,u){switch(o){case"compositionend":return Ev(u);case"keypress":return u.which!==32?null:(Lh=!0,Tb);case"textInput":return o=u.data,o===Tb&&Lh?null:o;default:return null}}function Av(o,u){if(Yu)return o==="compositionend"||!$u&&zp(o,u)?(o=Ph(),qu=Rp=Za=null,Yu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return wv&&u.locale!=="ko"?null:u.data;default:return null}}var Tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cv(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Tv[o.type]:u==="textarea"}function Bp(o,u,m,y){Wu?ql?ql.push(y):ql=[y]:Wu=y,u=I_(u,"onChange"),0<u.length&&(m=new Dh("onChange","change",null,m,y),o.push({event:m,listeners:u}))}var $l=null,Zu=null;function Rb(o){ZI(o,0)}function lf(o){var u=bt(o);if(jt(u))return o}function Rv(o,u){if(o==="change")return u}var vo=!1;if(go){var Uh;if(go){var Pv="oninput"in document;if(!Pv){var Ov=document.createElement("div");Ov.setAttribute("oninput","return;"),Pv=typeof Ov.oninput=="function"}Uh=Pv}else Uh=!1;vo=Uh&&(!document.documentMode||9<document.documentMode)}function _s(){$l&&($l.detachEvent("onpropertychange",zh),Zu=$l=null)}function zh(o){if(o.propertyName==="value"&&lf(Zu)){var u=[];Bp(u,Zu,o,Tp(o)),vv(Rb,u)}}function Pb(o,u,m){o==="focusin"?(_s(),$l=u,Zu=m,$l.attachEvent("onpropertychange",zh)):o==="focusout"&&_s()}function Dv(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return lf(Zu)}function Ob(o,u){if(o==="click")return lf(u)}function Db(o,u){if(o==="input"||o==="change")return lf(u)}function Iv(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var pa=typeof Object.is=="function"?Object.is:Iv;function uf(o,u){if(pa(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var m=Object.keys(o),y=Object.keys(u);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var A=m[y];if(!Vt.call(u,A)||!pa(o[A],u[A]))return!1}return!0}function Bh(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function cf(o,u){var m=Bh(o);o=0;for(var y;m;){if(m.nodeType===3){if(y=o+m.textContent.length,o<=u&&y>=u)return{node:m,offset:u-o};o=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Bh(m)}}function ui(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?ui(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function Ib(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=st(o.document);u instanceof o.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)o=u.contentWindow;else break;u=st(o.document)}return u}function Nv(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var Nb=go&&"documentMode"in document&&11>=document.documentMode,yo=null,xo=null,ff=null,kp=!1;function hf(o,u,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;kp||yo==null||yo!==st(y)||(y=yo,"selectionStart"in y&&Nv(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),ff&&uf(ff,y)||(ff=y,y=I_(xo,"onSelect"),0<y.length&&(u=new Dh("onSelect","select",null,u,m),o.push({event:u,listeners:y}),u.target=yo)))}function Zr(o,u){var m={};return m[o.toLowerCase()]=u.toLowerCase(),m["Webkit"+o]="webkit"+u,m["Moz"+o]="moz"+u,m}var Ku={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},kh={},Lv={};go&&(Lv=document.createElement("div").style,"AnimationEvent"in window||(delete Ku.animationend.animation,delete Ku.animationiteration.animation,delete Ku.animationstart.animation),"TransitionEvent"in window||delete Ku.transitionend.transition);function rl(o){if(kh[o])return kh[o];if(!Ku[o])return o;var u=Ku[o],m;for(m in u)if(u.hasOwnProperty(m)&&m in Lv)return kh[o]=u[m];return o}var Fp=rl("animationend"),Fh=rl("animationiteration"),Uv=rl("animationstart"),Lb=rl("transitionrun"),lA=rl("transitionstart"),Ub=rl("transitioncancel"),zv=rl("transitionend"),Ss=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function Ms(o,u){Ss.set(o,u),fe(u,[o])}var Hh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},ws=[],al=0,Tr=0;function jh(){for(var o=al,u=Tr=al=0;u<o;){var m=ws[u];ws[u++]=null;var y=ws[u];ws[u++]=null;var A=ws[u];ws[u++]=null;var C=ws[u];if(ws[u++]=null,y!==null&&A!==null){var k=y.pending;k===null?A.next=A:(A.next=k.next,k.next=A),y.pending=A}C!==0&&Yl(m,A,C)}}function Cr(o,u,m,y){ws[al++]=o,ws[al++]=u,ws[al++]=m,ws[al++]=y,Tr|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function Vp(o,u,m,y){return Cr(o,u,m,y),Es(o)}function ma(o,u){return Cr(o,null,null,u),Es(o)}function Yl(o,u,m){o.lanes|=m;var y=o.alternate;y!==null&&(y.lanes|=m);for(var A=!1,C=o.return;C!==null;)C.childLanes|=m,y=C.alternate,y!==null&&(y.childLanes|=m),C.tag===22&&(o=C.stateNode,o===null||o._visibility&1||(A=!0)),o=C,C=C.return;return o.tag===3?(C=o.stateNode,A&&u!==null&&(A=31-wt(m),o=C.hiddenUpdates,y=o[A],y===null?o[A]=[u]:y.push(u),u.lane=m|536870912),C):null}function Es(o){if(50<pu)throw pu=0,gc=null,Error(i(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Zl={};function Bv(o,u,m,y){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(o,u,m,y){return new Bv(o,u,m,y)}function Hp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Oa(o,u){var m=o.alternate;return m===null?(m=Ri(o.tag,u,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=u,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,u=o.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function df(o,u){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,u=m.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function bo(o,u,m,y,A,C){var k=0;if(y=o,typeof o=="function")Hp(o)&&(k=1);else if(typeof o=="string")k=tq(o,m,ke.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case z:return o=Ri(31,m,u,A),o.elementType=z,o.lanes=C,o;case w:return Kl(m.children,A,C,u);case S:k=8,A|=24;break;case M:return o=Ri(12,m,u,A|2),o.elementType=M,o.lanes=C,o;case L:return o=Ri(13,m,u,A),o.elementType=L,o.lanes=C,o;case I:return o=Ri(19,m,u,A),o.elementType=I,o.lanes=C,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:k=10;break e;case T:k=9;break e;case P:k=11;break e;case B:k=14;break e;case D:k=16,y=null;break e}k=29,m=Error(i(130,o===null?"null":typeof o,"")),y=null}return u=Ri(k,m,u,A),u.elementType=o,u.type=y,u.lanes=C,u}function Kl(o,u,m,y){return o=Ri(7,o,y,u),o.lanes=m,o}function jp(o,u,m){return o=Ri(6,o,null,u),o.lanes=m,o}function pf(o){var u=Ri(18,null,null,0);return u.stateNode=o,u}function Gp(o,u,m){return u=Ri(4,o.children!==null?o.children:[],o.key,u),u.lanes=m,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Gh=new WeakMap;function Ka(o,u){if(typeof o=="object"&&o!==null){var m=Gh.get(o);return m!==void 0?m:(u={value:o,source:u,stack:ne(u)},Gh.set(o,u),u)}return{value:o,source:u,stack:ne(u)}}var Ql=[],Jl=0,mf=null,gf=0,Da=[],Si=0,sl=null,Pi=1,Ys="";function _o(o,u){Ql[Jl++]=gf,Ql[Jl++]=mf,mf=o,gf=u}function zb(o,u,m){Da[Si++]=Pi,Da[Si++]=Ys,Da[Si++]=sl,sl=o;var y=Pi;o=Ys;var A=32-wt(y)-1;y&=~(1<<A),m+=1;var C=32-wt(u)+A;if(30<C){var k=A-A%5;C=(y&(1<<k)-1).toString(32),y>>=k,A-=k,Pi=1<<32-wt(u)+A|m<<A|y,Ys=C+o}else Pi=1<<C|m<<A|y,Ys=o}function So(o){o.return!==null&&(_o(o,1),zb(o,1,0))}function Wp(o){for(;o===mf;)mf=Ql[--Jl],Ql[Jl]=null,gf=Ql[--Jl],Ql[Jl]=null;for(;o===sl;)sl=Da[--Si],Da[Si]=null,Ys=Da[--Si],Da[Si]=null,Pi=Da[--Si],Da[Si]=null}function qp(o,u){Da[Si++]=Pi,Da[Si++]=Ys,Da[Si++]=sl,Pi=u.id,Ys=u.overflow,sl=o}var Vi=null,ci=null,Ln=!1,ol=null,Qa=!1,vf=Error(i(519));function Mo(o){var u=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wo(Ka(u,o)),vf}function Bb(o){var u=o.stateNode,m=o.type,y=o.memoizedProps;switch(u[vi]=o,u[V]=y,m){case"dialog":Bn("cancel",u),Bn("close",u);break;case"iframe":case"object":case"embed":Bn("load",u);break;case"video":case"audio":for(m=0;m<Bs.length;m++)Bn(Bs[m],u);break;case"source":Bn("error",u);break;case"img":case"image":case"link":Bn("error",u),Bn("load",u);break;case"details":Bn("toggle",u);break;case"input":Bn("invalid",u),Ci(u,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Bn("invalid",u);break;case"textarea":Bn("invalid",u),Fi(u,y.value,y.defaultValue,y.children)}m=y.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||u.textContent===""+m||y.suppressHydrationWarning===!0||eN(u.textContent,m)?(y.popover!=null&&(Bn("beforetoggle",u),Bn("toggle",u)),y.onScroll!=null&&Bn("scroll",u),y.onScrollEnd!=null&&Bn("scrollend",u),y.onClick!=null&&(u.onclick=il),u=!0):u=!1,u||Mo(o,!0)}function kb(o){for(Vi=o.return;Vi;)switch(Vi.tag){case 5:case 31:case 13:Qa=!1;return;case 27:case 3:Qa=!0;return;default:Vi=Vi.return}}function yf(o){if(o!==Vi)return!1;if(!Ln)return kb(o),Ln=!0,!1;var u=o.tag,m;if((m=u!==3&&u!==27)&&((m=u===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||wA(o.type,o.memoizedProps)),m=!m),m&&ci&&Mo(o),kb(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));ci=uN(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));ci=uN(o)}else u===27?(u=ci,Bf(o.type)?(o=RA,RA=null,ci=o):ci=u):ci=Vi?Bo(o.stateNode.nextSibling):null;return!0}function eu(){ci=Vi=null,Ln=!1}function Xp(){var o=ol;return o!==null&&(ji===null?ji=o:ji.push.apply(ji,o),ol=null),o}function wo(o){ol===null?ol=[o]:ol.push(o)}var xf=Y(null),tu=null,Eo=null;function ll(o,u,m){Me(xf,u._currentValue),u._currentValue=m}function Ao(o){o._currentValue=xf.current,re(xf)}function $p(o,u,m){for(;o!==null;){var y=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),o===m)break;o=o.return}}function Yp(o,u,m,y){var A=o.child;for(A!==null&&(A.return=o);A!==null;){var C=A.dependencies;if(C!==null){var k=A.child;C=C.firstContext;e:for(;C!==null;){var $=C;C=A;for(var se=0;se<u.length;se++)if($.context===u[se]){C.lanes|=m,$=C.alternate,$!==null&&($.lanes|=m),$p(C.return,m,o),y||(k=null);break e}C=$.next}}else if(A.tag===18){if(k=A.return,k===null)throw Error(i(341));k.lanes|=m,C=k.alternate,C!==null&&(C.lanes|=m),$p(k,m,o),k=null}else k=A.child;if(k!==null)k.return=A;else for(k=A;k!==null;){if(k===o){k=null;break}if(A=k.sibling,A!==null){A.return=k.return,k=A;break}k=k.return}A=k}}function To(o,u,m,y){o=null;for(var A=u,C=!1;A!==null;){if(!C){if((A.flags&524288)!==0)C=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var k=A.alternate;if(k===null)throw Error(i(387));if(k=k.memoizedProps,k!==null){var $=A.type;pa(A.pendingProps.value,k.value)||(o!==null?o.push($):o=[$])}}else if(A===De.current){if(k=A.alternate,k===null)throw Error(i(387));k.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(o!==null?o.push(L0):o=[L0])}A=A.return}o!==null&&Yp(u,o,m,y),u.flags|=262144}function Wh(o){for(o=o.firstContext;o!==null;){if(!pa(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function nu(o){tu=o,Eo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function un(o){return Fb(tu,o)}function bf(o,u){return tu===null&&nu(o),Fb(o,u)}function Fb(o,u){var m=u._currentValue;if(u={context:u,memoizedValue:m,next:null},Eo===null){if(o===null)throw Error(i(308));Eo=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Eo=Eo.next=u;return m}var Vb=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(m,y){o.push(y)}};this.abort=function(){u.aborted=!0,o.forEach(function(m){return m()})}},uA=t.unstable_scheduleCallback,cA=t.unstable_NormalPriority,sr={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kv(){return{controller:new Vb,data:new Map,refCount:0}}function Qu(o){o.refCount--,o.refCount===0&&uA(cA,function(){o.controller.abort()})}var Ja=null,Zp=0,ul=0,As=null;function Fv(o,u){if(Ja===null){var m=Ja=[];Zp=0,ul=Oe(),As={status:"pending",value:void 0,then:function(y){m.push(y)}}}return Zp++,u.then(Vv,Vv),u}function Vv(){if(--Zp===0&&Ja!==null){As!==null&&(As.status="fulfilled");var o=Ja;Ja=null,ul=0,As=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function Hv(o,u){var m=[],y={status:"pending",value:null,reason:null,then:function(A){m.push(A)}};return o.then(function(){y.status="fulfilled",y.value=u;for(var A=0;A<m.length;A++)(0,m[A])(u)},function(A){for(y.status="rejected",y.reason=A,A=0;A<m.length;A++)(0,m[A])(void 0)}),y}var Hb=q.S;q.S=function(o,u){R0=F(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&Fv(o,u),Hb!==null&&Hb(o,u)};var iu=Y(null);function Kp(){var o=iu.current;return o!==null?o:hn.pooledCache}function qh(o,u){u===null?Me(iu,iu.current):Me(iu,u.pool)}function jv(){var o=Kp();return o===null?null:{parent:sr._currentValue,pool:o}}var Ju=Error(i(460)),Xh=Error(i(474)),_n=Error(i(542)),Qp={then:function(){}};function Ia(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Jp(o,u,m){switch(m=o[m],m===void 0?o.push(u):m!==u&&(u.then(il,il),u=m),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,nc(o),o;default:if(typeof u.status=="string")u.then(il,il);else{if(o=hn,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=u,o.status="pending",o.then(function(y){if(u.status==="pending"){var A=u;A.status="fulfilled",A.value=y}},function(y){if(u.status==="pending"){var A=u;A.status="rejected",A.reason=y}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,nc(o),o}throw Co=u,Ju}}function ec(o){try{var u=o._init;return u(o._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Co=m,Ju):m}}var Co=null;function tc(){if(Co===null)throw Error(i(459));var o=Co;return Co=null,o}function nc(o){if(o===Ju||o===_n)throw Error(i(483))}var ic=null,rc=0;function $h(o){var u=rc;return rc+=1,ic===null&&(ic=[]),Jp(ic,o,u)}function Ts(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function _f(o,u){throw u.$$typeof===v?Error(i(525)):(o=Object.prototype.toString.call(u),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function em(o){function u(be,he){if(o){var Ee=be.deletions;Ee===null?(be.deletions=[he],be.flags|=16):Ee.push(he)}}function m(be,he){if(!o)return null;for(;he!==null;)u(be,he),he=he.sibling;return null}function y(be){for(var he=new Map;be!==null;)be.key!==null?he.set(be.key,be):he.set(be.index,be),be=be.sibling;return he}function A(be,he){return be=Oa(be,he),be.index=0,be.sibling=null,be}function C(be,he,Ee){return be.index=Ee,o?(Ee=be.alternate,Ee!==null?(Ee=Ee.index,Ee<he?(be.flags|=67108866,he):Ee):(be.flags|=67108866,he)):(be.flags|=1048576,he)}function k(be){return o&&be.alternate===null&&(be.flags|=67108866),be}function $(be,he,Ee,$e){return he===null||he.tag!==6?(he=jp(Ee,be.mode,$e),he.return=be,he):(he=A(he,Ee),he.return=be,he)}function se(be,he,Ee,$e){var Jt=Ee.type;return Jt===w?We(be,he,Ee.props.children,$e,Ee.key):he!==null&&(he.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===D&&ec(Jt)===he.type)?(he=A(he,Ee.props),Ts(he,Ee),he.return=be,he):(he=bo(Ee.type,Ee.key,Ee.props,null,be.mode,$e),Ts(he,Ee),he.return=be,he)}function Ae(be,he,Ee,$e){return he===null||he.tag!==4||he.stateNode.containerInfo!==Ee.containerInfo||he.stateNode.implementation!==Ee.implementation?(he=Gp(Ee,be.mode,$e),he.return=be,he):(he=A(he,Ee.children||[]),he.return=be,he)}function We(be,he,Ee,$e,Jt){return he===null||he.tag!==7?(he=Kl(Ee,be.mode,$e,Jt),he.return=be,he):(he=A(he,Ee),he.return=be,he)}function Ke(be,he,Ee){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=jp(""+he,be.mode,Ee),he.return=be,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case x:return Ee=bo(he.type,he.key,he.props,null,be.mode,Ee),Ts(Ee,he),Ee.return=be,Ee;case _:return he=Gp(he,be.mode,Ee),he.return=be,he;case D:return he=ec(he),Ke(be,he,Ee)}if(ie(he)||G(he))return he=Kl(he,be.mode,Ee,null),he.return=be,he;if(typeof he.then=="function")return Ke(be,$h(he),Ee);if(he.$$typeof===R)return Ke(be,bf(be,he),Ee);_f(be,he)}return null}function Re(be,he,Ee,$e){var Jt=he!==null?he.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Jt!==null?null:$(be,he,""+Ee,$e);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case x:return Ee.key===Jt?se(be,he,Ee,$e):null;case _:return Ee.key===Jt?Ae(be,he,Ee,$e):null;case D:return Ee=ec(Ee),Re(be,he,Ee,$e)}if(ie(Ee)||G(Ee))return Jt!==null?null:We(be,he,Ee,$e,null);if(typeof Ee.then=="function")return Re(be,he,$h(Ee),$e);if(Ee.$$typeof===R)return Re(be,he,bf(be,Ee),$e);_f(be,Ee)}return null}function Be(be,he,Ee,$e,Jt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return be=be.get(Ee)||null,$(he,be,""+$e,Jt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case x:return be=be.get($e.key===null?Ee:$e.key)||null,se(he,be,$e,Jt);case _:return be=be.get($e.key===null?Ee:$e.key)||null,Ae(he,be,$e,Jt);case D:return $e=ec($e),Be(be,he,Ee,$e,Jt)}if(ie($e)||G($e))return be=be.get(Ee)||null,We(he,be,$e,Jt,null);if(typeof $e.then=="function")return Be(be,he,Ee,$h($e),Jt);if($e.$$typeof===R)return Be(be,he,Ee,bf(he,$e),Jt);_f(he,$e)}return null}function kt(be,he,Ee,$e){for(var Jt=null,Kn=null,qt=he,En=he=0,Vn=null;qt!==null&&En<Ee.length;En++){qt.index>En?(Vn=qt,qt=null):Vn=qt.sibling;var Qn=Re(be,qt,Ee[En],$e);if(Qn===null){qt===null&&(qt=Vn);break}o&&qt&&Qn.alternate===null&&u(be,qt),he=C(Qn,he,En),Kn===null?Jt=Qn:Kn.sibling=Qn,Kn=Qn,qt=Vn}if(En===Ee.length)return m(be,qt),Ln&&_o(be,En),Jt;if(qt===null){for(;En<Ee.length;En++)qt=Ke(be,Ee[En],$e),qt!==null&&(he=C(qt,he,En),Kn===null?Jt=qt:Kn.sibling=qt,Kn=qt);return Ln&&_o(be,En),Jt}for(qt=y(qt);En<Ee.length;En++)Vn=Be(qt,be,En,Ee[En],$e),Vn!==null&&(o&&Vn.alternate!==null&&qt.delete(Vn.key===null?En:Vn.key),he=C(Vn,he,En),Kn===null?Jt=Vn:Kn.sibling=Vn,Kn=Vn);return o&&qt.forEach(function(jf){return u(be,jf)}),Ln&&_o(be,En),Jt}function an(be,he,Ee,$e){if(Ee==null)throw Error(i(151));for(var Jt=null,Kn=null,qt=he,En=he=0,Vn=null,Qn=Ee.next();qt!==null&&!Qn.done;En++,Qn=Ee.next()){qt.index>En?(Vn=qt,qt=null):Vn=qt.sibling;var jf=Re(be,qt,Qn.value,$e);if(jf===null){qt===null&&(qt=Vn);break}o&&qt&&jf.alternate===null&&u(be,qt),he=C(jf,he,En),Kn===null?Jt=jf:Kn.sibling=jf,Kn=jf,qt=Vn}if(Qn.done)return m(be,qt),Ln&&_o(be,En),Jt;if(qt===null){for(;!Qn.done;En++,Qn=Ee.next())Qn=Ke(be,Qn.value,$e),Qn!==null&&(he=C(Qn,he,En),Kn===null?Jt=Qn:Kn.sibling=Qn,Kn=Qn);return Ln&&_o(be,En),Jt}for(qt=y(qt);!Qn.done;En++,Qn=Ee.next())Qn=Be(qt,be,En,Qn.value,$e),Qn!==null&&(o&&Qn.alternate!==null&&qt.delete(Qn.key===null?En:Qn.key),he=C(Qn,he,En),Kn===null?Jt=Qn:Kn.sibling=Qn,Kn=Qn);return o&&qt.forEach(function(hq){return u(be,hq)}),Ln&&_o(be,En),Jt}function di(be,he,Ee,$e){if(typeof Ee=="object"&&Ee!==null&&Ee.type===w&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case x:e:{for(var Jt=Ee.key;he!==null;){if(he.key===Jt){if(Jt=Ee.type,Jt===w){if(he.tag===7){m(be,he.sibling),$e=A(he,Ee.props.children),$e.return=be,be=$e;break e}}else if(he.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===D&&ec(Jt)===he.type){m(be,he.sibling),$e=A(he,Ee.props),Ts($e,Ee),$e.return=be,be=$e;break e}m(be,he);break}else u(be,he);he=he.sibling}Ee.type===w?($e=Kl(Ee.props.children,be.mode,$e,Ee.key),$e.return=be,be=$e):($e=bo(Ee.type,Ee.key,Ee.props,null,be.mode,$e),Ts($e,Ee),$e.return=be,be=$e)}return k(be);case _:e:{for(Jt=Ee.key;he!==null;){if(he.key===Jt)if(he.tag===4&&he.stateNode.containerInfo===Ee.containerInfo&&he.stateNode.implementation===Ee.implementation){m(be,he.sibling),$e=A(he,Ee.children||[]),$e.return=be,be=$e;break e}else{m(be,he);break}else u(be,he);he=he.sibling}$e=Gp(Ee,be.mode,$e),$e.return=be,be=$e}return k(be);case D:return Ee=ec(Ee),di(be,he,Ee,$e)}if(ie(Ee))return kt(be,he,Ee,$e);if(G(Ee)){if(Jt=G(Ee),typeof Jt!="function")throw Error(i(150));return Ee=Jt.call(Ee),an(be,he,Ee,$e)}if(typeof Ee.then=="function")return di(be,he,$h(Ee),$e);if(Ee.$$typeof===R)return di(be,he,bf(be,Ee),$e);_f(be,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint"?(Ee=""+Ee,he!==null&&he.tag===6?(m(be,he.sibling),$e=A(he,Ee),$e.return=be,be=$e):(m(be,he),$e=jp(Ee,be.mode,$e),$e.return=be,be=$e),k(be)):m(be,he)}return function(be,he,Ee,$e){try{rc=0;var Jt=di(be,he,Ee,$e);return ic=null,Jt}catch(qt){if(qt===Ju||qt===_n)throw qt;var Kn=Ri(29,qt,null,be.mode);return Kn.lanes=$e,Kn.return=be,Kn}finally{}}}var cl=em(!0),tm=em(!1),ga=!1;function Yh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gv(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function fl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ru(o,u,m){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,($t&2)!==0){var A=y.pending;return A===null?u.next=u:(u.next=A.next,A.next=u),y.pending=u,u=Es(o),Yl(o,null,m),u}return Cr(o,y,u,m),Es(o)}function au(o,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194048)!==0)){var y=u.lanes;y&=o.pendingLanes,m|=y,u.lanes=m,Xs(o,m)}}function Qt(o,u){var m=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var A=null,C=null;if(m=m.firstBaseUpdate,m!==null){do{var k={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};C===null?A=C=k:C=C.next=k,m=m.next}while(m!==null);C===null?A=C=u:C=C.next=u}else A=C=u;m={baseState:y.baseState,firstBaseUpdate:A,lastBaseUpdate:C,shared:y.shared,callbacks:y.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=u}var Wv=!1;function Zh(){if(Wv){var o=As;if(o!==null)throw o}}function Sf(o,u,m,y){Wv=!1;var A=o.updateQueue;ga=!1;var C=A.firstBaseUpdate,k=A.lastBaseUpdate,$=A.shared.pending;if($!==null){A.shared.pending=null;var se=$,Ae=se.next;se.next=null,k===null?C=Ae:k.next=Ae,k=se;var We=o.alternate;We!==null&&(We=We.updateQueue,$=We.lastBaseUpdate,$!==k&&($===null?We.firstBaseUpdate=Ae:$.next=Ae,We.lastBaseUpdate=se))}if(C!==null){var Ke=A.baseState;k=0,We=Ae=se=null,$=C;do{var Re=$.lane&-536870913,Be=Re!==$.lane;if(Be?(xn&Re)===Re:(y&Re)===Re){Re!==0&&Re===ul&&(Wv=!0),We!==null&&(We=We.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var kt=o,an=$;Re=u;var di=m;switch(an.tag){case 1:if(kt=an.payload,typeof kt=="function"){Ke=kt.call(di,Ke,Re);break e}Ke=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=an.payload,Re=typeof kt=="function"?kt.call(di,Ke,Re):kt,Re==null)break e;Ke=g({},Ke,Re);break e;case 2:ga=!0}}Re=$.callback,Re!==null&&(o.flags|=64,Be&&(o.flags|=8192),Be=A.callbacks,Be===null?A.callbacks=[Re]:Be.push(Re))}else Be={lane:Re,tag:$.tag,payload:$.payload,callback:$.callback,next:null},We===null?(Ae=We=Be,se=Ke):We=We.next=Be,k|=Re;if($=$.next,$===null){if($=A.shared.pending,$===null)break;Be=$,$=Be.next,Be.next=null,A.lastBaseUpdate=Be,A.shared.pending=null}}while(!0);We===null&&(se=Ke),A.baseState=se,A.firstBaseUpdate=Ae,A.lastBaseUpdate=We,C===null&&(A.shared.lanes=0),Lo|=k,o.lanes=k,o.memoizedState=Ke}}function Mf(o,u){if(typeof o!="function")throw Error(i(191,o));o.call(u)}function jb(o,u){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)Mf(m[o],u)}var wf=Y(null),nm=Y(0);function Gb(o,u){o=is,Me(nm,o),Me(wf,u),is=o|u.baseLanes}function qv(){Me(nm,is),Me(wf,wf.current)}function Kh(){is=nm.current,re(wf),re(nm)}var Na=Y(null),va=null;function hl(o){var u=o.alternate;Me(Un,Un.current&1),Me(Na,o),va===null&&(u===null||wf.current!==null||u.memoizedState!==null)&&(va=o)}function Xv(o){Me(Un,Un.current),Me(Na,o),va===null&&(va=o)}function Wb(o){o.tag===22?(Me(Un,Un.current),Me(Na,o),va===null&&(va=o)):La()}function La(){Me(Un,Un.current),Me(Na,Na.current)}function Zi(o){re(Na),va===o&&(va=null),re(Un)}var Un=Y(0);function es(o){for(var u=o;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||TA(m)||CA(m)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Mi=0,mn=null,ai=null,Pn=null,Cs=!1,Ef=!1,ac=!1,im=0,Qh=0,Af=null,$v=0;function Oi(){throw Error(i(321))}function Yv(o,u){if(u===null)return!1;for(var m=0;m<u.length&&m<o.length;m++)if(!pa(o[m],u[m]))return!1;return!0}function rm(o,u,m,y,A,C){return Mi=C,mn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,q.H=o===null||o.memoizedState===null?M_:m0,ac=!1,C=m(y,A),ac=!1,Ef&&(C=sc(u,m,y,A)),qb(o),C}function qb(o){q.H=Tf;var u=ai!==null&&ai.next!==null;if(Mi=0,Pn=ai=mn=null,Cs=!1,Qh=0,Af=null,u)throw Error(i(300));o===null||or||(o=o.dependencies,o!==null&&Wh(o)&&(or=!0))}function sc(o,u,m,y){mn=o;var A=0;do{if(Ef&&(Af=null),Qh=0,Ef=!1,25<=A)throw Error(i(301));if(A+=1,Pn=ai=null,o.updateQueue!=null){var C=o.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}q.H=Rs,C=u(m,y)}while(Ef);return C}function oc(){var o=q.H,u=o.useState()[0];return u=typeof u.then=="function"?Jh(u):u,o=o.useState()[0],(ai!==null?ai.memoizedState:null)!==o&&(mn.flags|=1024),u}function Zv(){var o=im!==0;return im=0,o}function Kv(o,u,m){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~m}function Qv(o){if(Cs){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Cs=!1}Mi=0,Pn=ai=mn=null,Ef=!1,Qh=im=0,Af=null}function mr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?mn.memoizedState=Pn=o:Pn=Pn.next=o,Pn}function Ki(){if(ai===null){var o=mn.alternate;o=o!==null?o.memoizedState:null}else o=ai.next;var u=Pn===null?mn.memoizedState:Pn.next;if(u!==null)Pn=u,ai=o;else{if(o===null)throw mn.alternate===null?Error(i(467)):Error(i(310));ai=o,o={memoizedState:ai.memoizedState,baseState:ai.baseState,baseQueue:ai.baseQueue,queue:ai.queue,next:null},Pn===null?mn.memoizedState=Pn=o:Pn=Pn.next=o}return Pn}function am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jh(o){var u=Qh;return Qh+=1,Af===null&&(Af=[]),o=Jp(Af,o,u),u=mn,(Pn===null?u.memoizedState:Pn.next)===null&&(u=u.alternate,q.H=u===null||u.memoizedState===null?M_:m0),o}function su(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Jh(o);if(o.$$typeof===R)return un(o)}throw Error(i(438,String(o)))}function Jv(o){var u=null,m=mn.updateQueue;if(m!==null&&(u=m.memoCache),u==null){var y=mn.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(u={data:y.data.map(function(A){return A.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),m===null&&(m=am(),mn.updateQueue=m),m.memoCache=u,m=u.data[u.index],m===void 0)for(m=u.data[u.index]=Array(o),y=0;y<o;y++)m[y]=W;return u.index++,m}function dl(o,u){return typeof u=="function"?u(o):u}function sm(o){var u=Ki();return e0(u,ai,o)}function e0(o,u,m){var y=o.queue;if(y===null)throw Error(i(311));y.lastRenderedReducer=m;var A=o.baseQueue,C=y.pending;if(C!==null){if(A!==null){var k=A.next;A.next=C.next,C.next=k}u.baseQueue=A=C,y.pending=null}if(C=o.baseState,A===null)o.memoizedState=C;else{u=A.next;var $=k=null,se=null,Ae=u,We=!1;do{var Ke=Ae.lane&-536870913;if(Ke!==Ae.lane?(xn&Ke)===Ke:(Mi&Ke)===Ke){var Re=Ae.revertLane;if(Re===0)se!==null&&(se=se.next={lane:0,revertLane:0,gesture:null,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),Ke===ul&&(We=!0);else if((Mi&Re)===Re){Ae=Ae.next,Re===ul&&(We=!0);continue}else Ke={lane:0,revertLane:Ae.revertLane,gesture:null,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},se===null?($=se=Ke,k=C):se=se.next=Ke,mn.lanes|=Re,Lo|=Re;Ke=Ae.action,ac&&m(C,Ke),C=Ae.hasEagerState?Ae.eagerState:m(C,Ke)}else Re={lane:Ke,revertLane:Ae.revertLane,gesture:Ae.gesture,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},se===null?($=se=Re,k=C):se=se.next=Re,mn.lanes|=Ke,Lo|=Ke;Ae=Ae.next}while(Ae!==null&&Ae!==u);if(se===null?k=C:se.next=$,!pa(C,o.memoizedState)&&(or=!0,We&&(m=As,m!==null)))throw m;o.memoizedState=C,o.baseState=k,o.baseQueue=se,y.lastRenderedState=C}return A===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function t0(o){var u=Ki(),m=u.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=o;var y=m.dispatch,A=m.pending,C=u.memoizedState;if(A!==null){m.pending=null;var k=A=A.next;do C=o(C,k.action),k=k.next;while(k!==A);pa(C,u.memoizedState)||(or=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),m.lastRenderedState=C}return[C,y]}function Xb(o,u,m){var y=mn,A=Ki(),C=Ln;if(C){if(m===void 0)throw Error(i(407));m=m()}else m=u();var k=!pa((ai||A).memoizedState,m);if(k&&(A.memoizedState=m,or=!0),A=A.queue,u0(Zb.bind(null,y,A,o),[o]),A.getSnapshot!==u||k||Pn!==null&&Pn.memoizedState.tag&1){if(y.flags|=2048,ou(9,{destroy:void 0},Yb.bind(null,y,A,m,u),null),hn===null)throw Error(i(349));C||(Mi&127)!==0||$b(y,u,m)}return m}function $b(o,u,m){o.flags|=16384,o={getSnapshot:u,value:m},u=mn.updateQueue,u===null?(u=am(),mn.updateQueue=u,u.stores=[o]):(m=u.stores,m===null?u.stores=[o]:m.push(o))}function Yb(o,u,m,y){u.value=m,u.getSnapshot=y,Kb(u)&&Qb(o)}function Zb(o,u,m){return m(function(){Kb(u)&&Qb(o)})}function Kb(o){var u=o.getSnapshot;o=o.value;try{var m=u();return!pa(o,m)}catch{return!0}}function Qb(o){var u=ma(o,2);u!==null&&Mn(u,o,2)}function n0(o){var u=mr();if(typeof o=="function"){var m=o;if(o=m(),ac){Ot(!0);try{m()}finally{Ot(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:o},u}function i0(o,u,m,y){return o.baseState=m,e0(o,ai,typeof y=="function"?y:dl)}function fA(o,u,m,y,A){if(cm(o))throw Error(i(485));if(o=u.action,o!==null){var C={payload:A,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){C.listeners.push(k)}};q.T!==null?m(!0):C.isTransition=!1,y(C),m=u.pending,m===null?(C.next=u.pending=C,Jb(u,C)):(C.next=m.next,u.pending=m.next=C)}}function Jb(o,u){var m=u.action,y=u.payload,A=o.state;if(u.isTransition){var C=q.T,k={};q.T=k;try{var $=m(A,y),se=q.S;se!==null&&se(k,$),e_(o,u,$)}catch(Ae){r0(o,u,Ae)}finally{C!==null&&k.types!==null&&(C.types=k.types),q.T=C}}else try{C=m(A,y),e_(o,u,C)}catch(Ae){r0(o,u,Ae)}}function e_(o,u,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(y){t_(o,u,y)},function(y){return r0(o,u,y)}):t_(o,u,m)}function t_(o,u,m){u.status="fulfilled",u.value=m,n_(u),o.state=m,u=o.pending,u!==null&&(m=u.next,m===u?o.pending=null:(m=m.next,u.next=m,Jb(o,m)))}function r0(o,u,m){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do u.status="rejected",u.reason=m,n_(u),u=u.next;while(u!==y)}o.action=null}function n_(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function a0(o,u){return u}function s0(o,u){if(Ln){var m=hn.formState;if(m!==null){e:{var y=mn;if(Ln){if(ci){t:{for(var A=ci,C=Qa;A.nodeType!==8;){if(!C){A=null;break t}if(A=Bo(A.nextSibling),A===null){A=null;break t}}C=A.data,A=C==="F!"||C==="F"?A:null}if(A){ci=Bo(A.nextSibling),y=A.data==="F!";break e}}Mo(y)}y=!1}y&&(u=m[0])}}return m=mr(),m.memoizedState=m.baseState=u,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a0,lastRenderedState:u},m.queue=y,m=b_.bind(null,mn,y),y.dispatch=m,y=n0(!1),C=p0.bind(null,mn,!1,y.queue),y=mr(),A={state:u,dispatch:null,action:o,pending:null},y.queue=A,m=fA.bind(null,mn,A,C,m),A.dispatch=m,y.memoizedState=o,[u,m,!1]}function i_(o){var u=Ki();return o0(u,ai,o)}function o0(o,u,m){if(u=e0(o,u,a0)[0],o=sm(dl)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var y=Jh(u)}catch(k){throw k===Ju?_n:k}else y=u;u=Ki();var A=u.queue,C=A.dispatch;return m!==u.memoizedState&&(mn.flags|=2048,ou(9,{destroy:void 0},r_.bind(null,A,m),null)),[y,C,o]}function r_(o,u){o.action=u}function l0(o){var u=Ki(),m=ai;if(m!==null)return o0(u,m,o);Ki(),u=u.memoizedState,m=Ki();var y=m.queue.dispatch;return m.memoizedState=o,[u,y,!1]}function ou(o,u,m,y){return o={tag:o,create:m,deps:y,inst:u,next:null},u=mn.updateQueue,u===null&&(u=am(),mn.updateQueue=u),m=u.lastEffect,m===null?u.lastEffect=o.next=o:(y=m.next,m.next=o,o.next=y,u.lastEffect=o),o}function om(){return Ki().memoizedState}function lm(o,u,m,y){var A=mr();mn.flags|=o,A.memoizedState=ou(1|u,{destroy:void 0},m,y===void 0?null:y)}function um(o,u,m,y){var A=Ki();y=y===void 0?null:y;var C=A.memoizedState.inst;ai!==null&&y!==null&&Yv(y,ai.memoizedState.deps)?A.memoizedState=ou(u,C,m,y):(mn.flags|=o,A.memoizedState=ou(1|u,C,m,y))}function a_(o,u){lm(8390656,8,o,u)}function u0(o,u){um(2048,8,o,u)}function s_(o){mn.flags|=4;var u=mn.updateQueue;if(u===null)u=am(),mn.updateQueue=u,u.events=[o];else{var m=u.events;m===null?u.events=[o]:m.push(o)}}function o_(o){var u=Ki().memoizedState;return s_({ref:u,nextImpl:o}),function(){if(($t&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}function l_(o,u){return um(4,2,o,u)}function u_(o,u){return um(4,4,o,u)}function c_(o,u){if(typeof u=="function"){o=o();var m=u(o);return function(){typeof m=="function"?m():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function f_(o,u,m){m=m!=null?m.concat([o]):null,um(4,4,c_.bind(null,u,o),m)}function c0(){}function h_(o,u){var m=Ki();u=u===void 0?null:u;var y=m.memoizedState;return u!==null&&Yv(u,y[1])?y[0]:(m.memoizedState=[o,u],o)}function d_(o,u){var m=Ki();u=u===void 0?null:u;var y=m.memoizedState;if(u!==null&&Yv(u,y[1]))return y[0];if(y=o(),ac){Ot(!0);try{o()}finally{Ot(!1)}}return m.memoizedState=[y,u],y}function f0(o,u,m){return m===void 0||(Mi&1073741824)!==0&&(xn&261930)===0?o.memoizedState=u:(o.memoizedState=m,o=Tn(),mn.lanes|=o,Lo|=o,m)}function p_(o,u,m,y){return pa(m,u)?m:wf.current!==null?(o=f0(o,m,y),pa(o,u)||(or=!0),o):(Mi&42)===0||(Mi&1073741824)!==0&&(xn&261930)===0?(or=!0,o.memoizedState=m):(o=Tn(),mn.lanes|=o,Lo|=o,u)}function m_(o,u,m,y,A){var C=K.p;K.p=C!==0&&8>C?C:8;var k=q.T,$={};q.T=$,p0(o,!1,u,m);try{var se=A(),Ae=q.S;if(Ae!==null&&Ae($,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var We=Hv(se,y);ed(o,u,We,as(o))}else ed(o,u,y,as(o))}catch(Ke){ed(o,u,{then:function(){},status:"rejected",reason:Ke},as())}finally{K.p=C,k!==null&&$.types!==null&&(k.types=$.types),q.T=k}}function hA(){}function h0(o,u,m,y){if(o.tag!==5)throw Error(i(476));var A=g_(o).queue;m_(o,A,u,pe,m===null?hA:function(){return v_(o),m(y)})}function g_(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:pe},next:null};var m={};return u.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:m},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function v_(o){var u=g_(o);u.next===null&&(u=o.alternate.memoizedState),ed(o,u.next.queue,{},as())}function d0(){return un(L0)}function y_(){return Ki().memoizedState}function x_(){return Ki().memoizedState}function dA(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var m=as();o=fl(m);var y=ru(u,o,m);y!==null&&(Mn(y,u,m),au(y,u,m)),u={cache:kv()},o.payload=u;return}u=u.return}}function pA(o,u,m){var y=as();m={lane:y,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},cm(o)?__(u,m):(m=Vp(o,u,m,y),m!==null&&(Mn(m,o,y),S_(m,u,y)))}function b_(o,u,m){var y=as();ed(o,u,m,y)}function ed(o,u,m,y){var A={lane:y,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(cm(o))__(u,A);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var k=u.lastRenderedState,$=C(k,m);if(A.hasEagerState=!0,A.eagerState=$,pa($,k))return Cr(o,u,A,0),hn===null&&jh(),!1}catch{}finally{}if(m=Vp(o,u,A,y),m!==null)return Mn(m,o,y),S_(m,u,y),!0}return!1}function p0(o,u,m,y){if(y={lane:2,revertLane:Oe(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},cm(o)){if(u)throw Error(i(479))}else u=Vp(o,m,y,2),u!==null&&Mn(u,o,2)}function cm(o){var u=o.alternate;return o===mn||u!==null&&u===mn}function __(o,u){Ef=Cs=!0;var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}function S_(o,u,m){if((m&4194048)!==0){var y=u.lanes;y&=o.pendingLanes,m|=y,u.lanes=m,Xs(o,m)}}var Tf={readContext:un,use:su,useCallback:Oi,useContext:Oi,useEffect:Oi,useImperativeHandle:Oi,useLayoutEffect:Oi,useInsertionEffect:Oi,useMemo:Oi,useReducer:Oi,useRef:Oi,useState:Oi,useDebugValue:Oi,useDeferredValue:Oi,useTransition:Oi,useSyncExternalStore:Oi,useId:Oi,useHostTransitionStatus:Oi,useFormState:Oi,useActionState:Oi,useOptimistic:Oi,useMemoCache:Oi,useCacheRefresh:Oi};Tf.useEffectEvent=Oi;var M_={readContext:un,use:su,useCallback:function(o,u){return mr().memoizedState=[o,u===void 0?null:u],o},useContext:un,useEffect:a_,useImperativeHandle:function(o,u,m){m=m!=null?m.concat([o]):null,lm(4194308,4,c_.bind(null,u,o),m)},useLayoutEffect:function(o,u){return lm(4194308,4,o,u)},useInsertionEffect:function(o,u){lm(4,2,o,u)},useMemo:function(o,u){var m=mr();u=u===void 0?null:u;var y=o();if(ac){Ot(!0);try{o()}finally{Ot(!1)}}return m.memoizedState=[y,u],y},useReducer:function(o,u,m){var y=mr();if(m!==void 0){var A=m(u);if(ac){Ot(!0);try{m(u)}finally{Ot(!1)}}}else A=u;return y.memoizedState=y.baseState=A,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:A},y.queue=o,o=o.dispatch=pA.bind(null,mn,o),[y.memoizedState,o]},useRef:function(o){var u=mr();return o={current:o},u.memoizedState=o},useState:function(o){o=n0(o);var u=o.queue,m=b_.bind(null,mn,u);return u.dispatch=m,[o.memoizedState,m]},useDebugValue:c0,useDeferredValue:function(o,u){var m=mr();return f0(m,o,u)},useTransition:function(){var o=n0(!1);return o=m_.bind(null,mn,o.queue,!0,!1),mr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,m){var y=mn,A=mr();if(Ln){if(m===void 0)throw Error(i(407));m=m()}else{if(m=u(),hn===null)throw Error(i(349));(xn&127)!==0||$b(y,u,m)}A.memoizedState=m;var C={value:m,getSnapshot:u};return A.queue=C,a_(Zb.bind(null,y,C,o),[o]),y.flags|=2048,ou(9,{destroy:void 0},Yb.bind(null,y,C,m,u),null),m},useId:function(){var o=mr(),u=hn.identifierPrefix;if(Ln){var m=Ys,y=Pi;m=(y&~(1<<32-wt(y)-1)).toString(32)+m,u="_"+u+"R_"+m,m=im++,0<m&&(u+="H"+m.toString(32)),u+="_"}else m=$v++,u="_"+u+"r_"+m.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:d0,useFormState:s0,useActionState:s0,useOptimistic:function(o){var u=mr();u.memoizedState=u.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=m,u=p0.bind(null,mn,!0,m),m.dispatch=u,[o,u]},useMemoCache:Jv,useCacheRefresh:function(){return mr().memoizedState=dA.bind(null,mn)},useEffectEvent:function(o){var u=mr(),m={impl:o};return u.memoizedState=m,function(){if(($t&2)!==0)throw Error(i(440));return m.impl.apply(void 0,arguments)}}},m0={readContext:un,use:su,useCallback:h_,useContext:un,useEffect:u0,useImperativeHandle:f_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:d_,useReducer:sm,useRef:om,useState:function(){return sm(dl)},useDebugValue:c0,useDeferredValue:function(o,u){var m=Ki();return p_(m,ai.memoizedState,o,u)},useTransition:function(){var o=sm(dl)[0],u=Ki().memoizedState;return[typeof o=="boolean"?o:Jh(o),u]},useSyncExternalStore:Xb,useId:y_,useHostTransitionStatus:d0,useFormState:i_,useActionState:i_,useOptimistic:function(o,u){var m=Ki();return i0(m,ai,o,u)},useMemoCache:Jv,useCacheRefresh:x_};m0.useEffectEvent=o_;var Rs={readContext:un,use:su,useCallback:h_,useContext:un,useEffect:u0,useImperativeHandle:f_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:d_,useReducer:t0,useRef:om,useState:function(){return t0(dl)},useDebugValue:c0,useDeferredValue:function(o,u){var m=Ki();return ai===null?f0(m,o,u):p_(m,ai.memoizedState,o,u)},useTransition:function(){var o=t0(dl)[0],u=Ki().memoizedState;return[typeof o=="boolean"?o:Jh(o),u]},useSyncExternalStore:Xb,useId:y_,useHostTransitionStatus:d0,useFormState:l0,useActionState:l0,useOptimistic:function(o,u){var m=Ki();return ai!==null?i0(m,ai,o,u):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:Jv,useCacheRefresh:x_};Rs.useEffectEvent=o_;function fm(o,u,m,y){u=o.memoizedState,m=m(y,u),m=m==null?u:g({},u,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var td={enqueueSetState:function(o,u,m){o=o._reactInternals;var y=as(),A=fl(y);A.payload=u,m!=null&&(A.callback=m),u=ru(o,A,y),u!==null&&(Mn(u,o,y),au(u,o,y))},enqueueReplaceState:function(o,u,m){o=o._reactInternals;var y=as(),A=fl(y);A.tag=1,A.payload=u,m!=null&&(A.callback=m),u=ru(o,A,y),u!==null&&(Mn(u,o,y),au(u,o,y))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var m=as(),y=fl(m);y.tag=2,u!=null&&(y.callback=u),u=ru(o,y,m),u!==null&&(Mn(u,o,m),au(u,o,m))}};function g0(o,u,m,y,A,C,k){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,C,k):u.prototype&&u.prototype.isPureReactComponent?!uf(m,y)||!uf(A,C):!0}function v0(o,u,m,y){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,y),u.state!==o&&td.enqueueReplaceState(u,u.state,null)}function lu(o,u){var m=u;if("ref"in u){m={};for(var y in u)y!=="ref"&&(m[y]=u[y])}if(o=o.defaultProps){m===u&&(m=g({},m));for(var A in o)m[A]===void 0&&(m[A]=o[A])}return m}function w_(o){Hh(o)}function y0(o){console.error(o)}function x0(o){Hh(o)}function hm(o,u){try{var m=o.onUncaughtError;m(u.value,{componentStack:u.stack})}catch(y){setTimeout(function(){throw y})}}function E_(o,u,m){try{var y=o.onCaughtError;y(m.value,{componentStack:m.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function b0(o,u,m){return m=fl(m),m.tag=3,m.payload={element:null},m.callback=function(){hm(o,u)},m}function _0(o){return o=fl(o),o.tag=3,o}function A_(o,u,m,y){var A=m.type.getDerivedStateFromError;if(typeof A=="function"){var C=y.value;o.payload=function(){return A(C)},o.callback=function(){E_(u,m,y)}}var k=m.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(o.callback=function(){E_(u,m,y),typeof A!="function"&&(er===null?er=new Set([this]):er.add(this));var $=y.stack;this.componentDidCatch(y.value,{componentStack:$!==null?$:""})})}function gr(o,u,m,y,A){if(m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(u=m.alternate,u!==null&&To(u,m,A,!0),m=Na.current,m!==null){switch(m.tag){case 31:case 13:return va===null?Nf():m.alternate===null&&Di===0&&(Di=3),m.flags&=-257,m.flags|=65536,m.lanes=A,y===Qp?m.flags|=16384:(u=m.updateQueue,u===null?m.updateQueue=new Set([y]):u.add(y),dd(o,y,A)),!1;case 22:return m.flags|=65536,y===Qp?m.flags|=16384:(u=m.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([y])},m.updateQueue=u):(m=u.retryQueue,m===null?u.retryQueue=new Set([y]):m.add(y)),dd(o,y,A)),!1}throw Error(i(435,m.tag))}return dd(o,y,A),Nf(),!1}if(Ln)return u=Na.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=A,y!==vf&&(o=Error(i(422),{cause:y}),wo(Ka(o,m)))):(y!==vf&&(u=Error(i(423),{cause:y}),wo(Ka(u,m))),o=o.current.alternate,o.flags|=65536,A&=-A,o.lanes|=A,y=Ka(y,m),A=b0(o.stateNode,y,A),Qt(o,A),Di!==4&&(Di=2)),!1;var C=Error(i(520),{cause:y});if(C=Ka(C,m),mc===null?mc=[C]:mc.push(C),Di!==4&&(Di=2),u===null)return!0;y=Ka(y,m),m=u;do{switch(m.tag){case 3:return m.flags|=65536,o=A&-A,m.lanes|=o,o=b0(m.stateNode,y,o),Qt(m,o),!1;case 1:if(u=m.type,C=m.stateNode,(m.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(er===null||!er.has(C))))return m.flags|=65536,A&=-A,m.lanes|=A,A=_0(A),A_(A,o,m,y),Qt(m,A),!1}m=m.return}while(m!==null);return!1}var dm=Error(i(461)),or=!1;function Rr(o,u,m,y){u.child=o===null?tm(u,null,m,y):cl(u,o.child,m,y)}function S0(o,u,m,y,A){m=m.render;var C=u.ref;if("ref"in y){var k={};for(var $ in y)$!=="ref"&&(k[$]=y[$])}else k=y;return nu(u),y=rm(o,u,m,k,C,A),$=Zv(),o!==null&&!or?(Kv(o,u,A),Qi(o,u,A)):(Ln&&$&&So(u),u.flags|=1,Rr(o,u,y,A),u.child)}function lc(o,u,m,y,A){if(o===null){var C=m.type;return typeof C=="function"&&!Hp(C)&&C.defaultProps===void 0&&m.compare===null?(u.tag=15,u.type=C,pm(o,u,C,y,A)):(o=bo(m.type,null,y,u,u.mode,A),o.ref=u.ref,o.return=u,u.child=o)}if(C=o.child,!bm(o,A)){var k=C.memoizedProps;if(m=m.compare,m=m!==null?m:uf,m(k,y)&&o.ref===u.ref)return Qi(o,u,A)}return u.flags|=1,o=Oa(C,y),o.ref=u.ref,o.return=u,u.child=o}function pm(o,u,m,y,A){if(o!==null){var C=o.memoizedProps;if(uf(C,y)&&o.ref===u.ref)if(or=!1,u.pendingProps=y=C,bm(o,A))(o.flags&131072)!==0&&(or=!0);else return u.lanes=o.lanes,Qi(o,u,A)}return Cf(o,u,m,y,A)}function uc(o,u,m,y){var A=y.children,C=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((u.flags&128)!==0){if(C=C!==null?C.baseLanes|m:m,o!==null){for(y=u.child=o.child,A=0;y!==null;)A=A|y.lanes|y.childLanes,y=y.sibling;y=A&~C}else y=0,u.child=null;return Ua(o,u,C,m,y)}if((m&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&qh(u,C!==null?C.cachePool:null),C!==null?Gb(u,C):qv(),Wb(u);else return y=u.lanes=536870912,Ua(o,u,C!==null?C.baseLanes|m:m,m,y)}else C!==null?(qh(u,C.cachePool),Gb(u,C),La(),u.memoizedState=null):(o!==null&&qh(u,null),qv(),La());return Rr(o,u,A,m),u.child}function Ro(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function Ua(o,u,m,y,A){var C=Kp();return C=C===null?null:{parent:sr._currentValue,pool:C},u.memoizedState={baseLanes:m,cachePool:C},o!==null&&qh(u,null),qv(),Wb(u),o!==null&&To(o,u,y,!0),u.childLanes=A,null}function mm(o,u){return u=xm({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function T_(o,u,m){return cl(u,o.child,null,m),o=mm(u,u.pendingProps),o.flags|=2,Zi(u),u.memoizedState=null,o}function gm(o,u,m){var y=u.pendingProps,A=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(Ln){if(y.mode==="hidden")return o=mm(u,y),u.lanes=536870912,Ro(null,o);if(Xv(u),(o=ci)?(o=lN(o,Qa),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:sl!==null?{id:Pi,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},m=pf(o),m.return=u,u.child=m,Vi=u,ci=null)):o=null,o===null)throw Mo(u);return u.lanes=536870912,null}return mm(u,y)}var C=o.memoizedState;if(C!==null){var k=C.dehydrated;if(Xv(u),A)if(u.flags&256)u.flags&=-257,u=T_(o,u,m);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(i(558));else if(or||To(o,u,m,!1),A=(m&o.childLanes)!==0,or||A){if(y=hn,y!==null&&(k=po(y,m),k!==0&&k!==C.retryLane))throw C.retryLane=k,ma(o,k),Mn(y,o,k),dm;Nf(),u=T_(o,u,m)}else o=C.treeContext,ci=Bo(k.nextSibling),Vi=u,Ln=!0,ol=null,Qa=!1,o!==null&&qp(u,o),u=mm(u,y),u.flags|=4096;return u}return o=Oa(o.child,{mode:y.mode,children:y.children}),o.ref=u.ref,u.child=o,o.return=u,o}function cc(o,u){var m=u.ref;if(m===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(o===null||o.ref!==m)&&(u.flags|=4194816)}}function Cf(o,u,m,y,A){return nu(u),m=rm(o,u,m,y,void 0,A),y=Zv(),o!==null&&!or?(Kv(o,u,A),Qi(o,u,A)):(Ln&&y&&So(u),u.flags|=1,Rr(o,u,m,A),u.child)}function nd(o,u,m,y,A,C){return nu(u),u.updateQueue=null,m=sc(u,y,m,A),qb(o),y=Zv(),o!==null&&!or?(Kv(o,u,C),Qi(o,u,C)):(Ln&&y&&So(u),u.flags|=1,Rr(o,u,m,C),u.child)}function vm(o,u,m,y,A){if(nu(u),u.stateNode===null){var C=Zl,k=m.contextType;typeof k=="object"&&k!==null&&(C=un(k)),C=new m(y,C),u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=td,u.stateNode=C,C._reactInternals=u,C=u.stateNode,C.props=y,C.state=u.memoizedState,C.refs={},Yh(u),k=m.contextType,C.context=typeof k=="object"&&k!==null?un(k):Zl,C.state=u.memoizedState,k=m.getDerivedStateFromProps,typeof k=="function"&&(fm(u,m,k,y),C.state=u.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(k=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),k!==C.state&&td.enqueueReplaceState(C,C.state,null),Sf(u,y,C,A),Zh(),C.state=u.memoizedState),typeof C.componentDidMount=="function"&&(u.flags|=4194308),y=!0}else if(o===null){C=u.stateNode;var $=u.memoizedProps,se=lu(m,$);C.props=se;var Ae=C.context,We=m.contextType;k=Zl,typeof We=="object"&&We!==null&&(k=un(We));var Ke=m.getDerivedStateFromProps;We=typeof Ke=="function"||typeof C.getSnapshotBeforeUpdate=="function",$=u.pendingProps!==$,We||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||($||Ae!==k)&&v0(u,C,y,k),ga=!1;var Re=u.memoizedState;C.state=Re,Sf(u,y,C,A),Zh(),Ae=u.memoizedState,$||Re!==Ae||ga?(typeof Ke=="function"&&(fm(u,m,Ke,y),Ae=u.memoizedState),(se=ga||g0(u,m,se,y,Re,Ae,k))?(We||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=Ae),C.props=y,C.state=Ae,C.context=k,y=se):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{C=u.stateNode,Gv(o,u),k=u.memoizedProps,We=lu(m,k),C.props=We,Ke=u.pendingProps,Re=C.context,Ae=m.contextType,se=Zl,typeof Ae=="object"&&Ae!==null&&(se=un(Ae)),$=m.getDerivedStateFromProps,(Ae=typeof $=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(k!==Ke||Re!==se)&&v0(u,C,y,se),ga=!1,Re=u.memoizedState,C.state=Re,Sf(u,y,C,A),Zh();var Be=u.memoizedState;k!==Ke||Re!==Be||ga||o!==null&&o.dependencies!==null&&Wh(o.dependencies)?(typeof $=="function"&&(fm(u,m,$,y),Be=u.memoizedState),(We=ga||g0(u,m,We,y,Re,Be,se)||o!==null&&o.dependencies!==null&&Wh(o.dependencies))?(Ae||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,Be,se),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,Be,se)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||k===o.memoizedProps&&Re===o.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&Re===o.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Be),C.props=y,C.state=Be,C.context=se,y=We):(typeof C.componentDidUpdate!="function"||k===o.memoizedProps&&Re===o.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&Re===o.memoizedState||(u.flags|=1024),y=!1)}return C=y,cc(o,u),y=(u.flags&128)!==0,C||y?(C=u.stateNode,m=y&&typeof m.getDerivedStateFromError!="function"?null:C.render(),u.flags|=1,o!==null&&y?(u.child=cl(u,o.child,null,A),u.child=cl(u,null,m,A)):Rr(o,u,m,A),u.memoizedState=C.state,o=u.child):o=Qi(o,u,A),o}function C_(o,u,m,y){return eu(),u.flags|=256,Rr(o,u,m,y),u.child}var M0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kr(o){return{baseLanes:o,cachePool:jv()}}function ym(o,u,m){return o=o!==null?o.childLanes&~m:0,u&&(o|=ba),o}function R_(o,u,m){var y=u.pendingProps,A=!1,C=(u.flags&128)!==0,k;if((k=C)||(k=o!==null&&o.memoizedState===null?!1:(Un.current&2)!==0),k&&(A=!0,u.flags&=-129),k=(u.flags&32)!==0,u.flags&=-33,o===null){if(Ln){if(A?hl(u):La(),(o=ci)?(o=lN(o,Qa),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:sl!==null?{id:Pi,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},m=pf(o),m.return=u,u.child=m,Vi=u,ci=null)):o=null,o===null)throw Mo(u);return CA(o)?u.lanes=32:u.lanes=536870912,null}var $=y.children;return y=y.fallback,A?(La(),A=u.mode,$=xm({mode:"hidden",children:$},A),y=Kl(y,A,m,null),$.return=u,y.return=u,$.sibling=y,u.child=$,y=u.child,y.memoizedState=Kr(m),y.childLanes=ym(o,k,m),u.memoizedState=M0,Ro(null,y)):(hl(u),id(u,$))}var se=o.memoizedState;if(se!==null&&($=se.dehydrated,$!==null)){if(C)u.flags&256?(hl(u),u.flags&=-257,u=w0(o,u,m)):u.memoizedState!==null?(La(),u.child=o.child,u.flags|=128,u=null):(La(),$=y.fallback,A=u.mode,y=xm({mode:"visible",children:y.children},A),$=Kl($,A,m,null),$.flags|=2,y.return=u,$.return=u,y.sibling=$,u.child=y,cl(u,o.child,null,m),y=u.child,y.memoizedState=Kr(m),y.childLanes=ym(o,k,m),u.memoizedState=M0,u=Ro(null,y));else if(hl(u),CA($)){if(k=$.nextSibling&&$.nextSibling.dataset,k)var Ae=k.dgst;k=Ae,y=Error(i(419)),y.stack="",y.digest=k,wo({value:y,source:null,stack:null}),u=w0(o,u,m)}else if(or||To(o,u,m,!1),k=(m&o.childLanes)!==0,or||k){if(k=hn,k!==null&&(y=po(k,m),y!==0&&y!==se.retryLane))throw se.retryLane=y,ma(o,y),Mn(k,o,y),dm;TA($)||Nf(),u=w0(o,u,m)}else TA($)?(u.flags|=192,u.child=o.child,u=null):(o=se.treeContext,ci=Bo($.nextSibling),Vi=u,Ln=!0,ol=null,Qa=!1,o!==null&&qp(u,o),u=id(u,y.children),u.flags|=4096);return u}return A?(La(),$=y.fallback,A=u.mode,se=o.child,Ae=se.sibling,y=Oa(se,{mode:"hidden",children:y.children}),y.subtreeFlags=se.subtreeFlags&65011712,Ae!==null?$=Oa(Ae,$):($=Kl($,A,m,null),$.flags|=2),$.return=u,y.return=u,y.sibling=$,u.child=y,Ro(null,y),y=u.child,$=o.child.memoizedState,$===null?$=Kr(m):(A=$.cachePool,A!==null?(se=sr._currentValue,A=A.parent!==se?{parent:se,pool:se}:A):A=jv(),$={baseLanes:$.baseLanes|m,cachePool:A}),y.memoizedState=$,y.childLanes=ym(o,k,m),u.memoizedState=M0,Ro(o.child,y)):(hl(u),m=o.child,o=m.sibling,m=Oa(m,{mode:"visible",children:y.children}),m.return=u,m.sibling=null,o!==null&&(k=u.deletions,k===null?(u.deletions=[o],u.flags|=16):k.push(o)),u.child=m,u.memoizedState=null,m)}function id(o,u){return u=xm({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function xm(o,u){return o=Ri(22,o,null,u),o.lanes=0,o}function w0(o,u,m){return cl(u,o.child,null,m),o=id(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function P_(o,u,m){o.lanes|=u;var y=o.alternate;y!==null&&(y.lanes|=u),$p(o.return,u,m)}function fc(o,u,m,y,A,C){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:A,treeForkCount:C}:(k.isBackwards=u,k.rendering=null,k.renderingStartTime=0,k.last=y,k.tail=m,k.tailMode=A,k.treeForkCount=C)}function za(o,u,m){var y=u.pendingProps,A=y.revealOrder,C=y.tail;y=y.children;var k=Un.current,$=(k&2)!==0;if($?(k=k&1|2,u.flags|=128):k&=1,Me(Un,k),Rr(o,u,y,m),y=Ln?gf:0,!$&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&P_(o,m,u);else if(o.tag===19)P_(o,m,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(A){case"forwards":for(m=u.child,A=null;m!==null;)o=m.alternate,o!==null&&es(o)===null&&(A=m),m=m.sibling;m=A,m===null?(A=u.child,u.child=null):(A=m.sibling,m.sibling=null),fc(u,!1,A,m,C,y);break;case"backwards":case"unstable_legacy-backwards":for(m=null,A=u.child,u.child=null;A!==null;){if(o=A.alternate,o!==null&&es(o)===null){u.child=A;break}o=A.sibling,A.sibling=m,m=A,A=o}fc(u,!0,m,null,C,y);break;case"together":fc(u,!1,null,null,void 0,y);break;default:u.memoizedState=null}return u.child}function Qi(o,u,m){if(o!==null&&(u.dependencies=o.dependencies),Lo|=u.lanes,(m&u.childLanes)===0)if(o!==null){if(To(o,u,m,!1),(m&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(i(153));if(u.child!==null){for(o=u.child,m=Oa(o,o.pendingProps),u.child=m,m.return=u;o.sibling!==null;)o=o.sibling,m=m.sibling=Oa(o,o.pendingProps),m.return=u;m.sibling=null}return u.child}function bm(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Wh(o)))}function mA(o,u,m){switch(u.tag){case 3:Ye(u,u.stateNode.containerInfo),ll(u,sr,o.memoizedState.cache),eu();break;case 27:case 5:ot(u);break;case 4:Ye(u,u.stateNode.containerInfo);break;case 10:ll(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Xv(u),null;break;case 13:var y=u.memoizedState;if(y!==null)return y.dehydrated!==null?(hl(u),u.flags|=128,null):(m&u.child.childLanes)!==0?R_(o,u,m):(hl(u),o=Qi(o,u,m),o!==null?o.sibling:null);hl(u);break;case 19:var A=(o.flags&128)!==0;if(y=(m&u.childLanes)!==0,y||(To(o,u,m,!1),y=(m&u.childLanes)!==0),A){if(y)return za(o,u,m);u.flags|=128}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Me(Un,Un.current),y)break;return null;case 22:return u.lanes=0,uc(o,u,m,u.pendingProps);case 24:ll(u,sr,o.memoizedState.cache)}return Qi(o,u,m)}function _m(o,u,m){if(o!==null)if(o.memoizedProps!==u.pendingProps)or=!0;else{if(!bm(o,m)&&(u.flags&128)===0)return or=!1,mA(o,u,m);or=(o.flags&131072)!==0}else or=!1,Ln&&(u.flags&1048576)!==0&&zb(u,gf,u.index);switch(u.lanes=0,u.tag){case 16:e:{var y=u.pendingProps;if(o=ec(u.elementType),u.type=o,typeof o=="function")Hp(o)?(y=lu(o,y),u.tag=1,u=vm(null,u,o,y,m)):(u.tag=0,u=Cf(null,u,o,y,m));else{if(o!=null){var A=o.$$typeof;if(A===P){u.tag=11,u=S0(null,u,o,y,m);break e}else if(A===B){u.tag=14,u=lc(null,u,o,y,m);break e}}throw u=te(o)||o,Error(i(306,u,""))}}return u;case 0:return Cf(o,u,u.type,u.pendingProps,m);case 1:return y=u.type,A=lu(y,u.pendingProps),vm(o,u,y,A,m);case 3:e:{if(Ye(u,u.stateNode.containerInfo),o===null)throw Error(i(387));y=u.pendingProps;var C=u.memoizedState;A=C.element,Gv(o,u),Sf(u,y,null,m);var k=u.memoizedState;if(y=k.cache,ll(u,sr,y),y!==C.cache&&Yp(u,[sr],m,!0),Zh(),y=k.element,C.isDehydrated)if(C={element:y,isDehydrated:!1,cache:k.cache},u.updateQueue.baseState=C,u.memoizedState=C,u.flags&256){u=C_(o,u,y,m);break e}else if(y!==A){A=Ka(Error(i(424)),u),wo(A),u=C_(o,u,y,m);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(ci=Bo(o.firstChild),Vi=u,Ln=!0,ol=null,Qa=!0,m=tm(u,null,y,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(eu(),y===A){u=Qi(o,u,m);break e}Rr(o,u,y,m)}u=u.child}return u;case 26:return cc(o,u),o===null?(m=pN(u.type,null,u.pendingProps,null))?u.memoizedState=m:Ln||(m=u.type,o=u.pendingProps,y=N_(me.current).createElement(m),y[vi]=u,y[V]=o,Sa(y,m,o),oe(y),u.stateNode=y):u.memoizedState=pN(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return ot(u),o===null&&Ln&&(y=u.stateNode=fN(u.type,u.pendingProps,me.current),Vi=u,Qa=!0,A=ci,Bf(u.type)?(RA=A,ci=Bo(y.firstChild)):ci=A),Rr(o,u,u.pendingProps.children,m),cc(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Ln&&((A=y=ci)&&(y=HW(y,u.type,u.pendingProps,Qa),y!==null?(u.stateNode=y,Vi=u,ci=Bo(y.firstChild),Qa=!1,A=!0):A=!1),A||Mo(u)),ot(u),A=u.type,C=u.pendingProps,k=o!==null?o.memoizedProps:null,y=C.children,wA(A,C)?y=null:k!==null&&wA(A,k)&&(u.flags|=32),u.memoizedState!==null&&(A=rm(o,u,oc,null,null,m),L0._currentValue=A),cc(o,u),Rr(o,u,y,m),u.child;case 6:return o===null&&Ln&&((o=m=ci)&&(m=jW(m,u.pendingProps,Qa),m!==null?(u.stateNode=m,Vi=u,ci=null,o=!0):o=!1),o||Mo(u)),null;case 13:return R_(o,u,m);case 4:return Ye(u,u.stateNode.containerInfo),y=u.pendingProps,o===null?u.child=cl(u,null,y,m):Rr(o,u,y,m),u.child;case 11:return S0(o,u,u.type,u.pendingProps,m);case 7:return Rr(o,u,u.pendingProps,m),u.child;case 8:return Rr(o,u,u.pendingProps.children,m),u.child;case 12:return Rr(o,u,u.pendingProps.children,m),u.child;case 10:return y=u.pendingProps,ll(u,u.type,y.value),Rr(o,u,y.children,m),u.child;case 9:return A=u.type._context,y=u.pendingProps.children,nu(u),A=un(A),y=y(A),u.flags|=1,Rr(o,u,y,m),u.child;case 14:return lc(o,u,u.type,u.pendingProps,m);case 15:return pm(o,u,u.type,u.pendingProps,m);case 19:return za(o,u,m);case 31:return gm(o,u,m);case 22:return uc(o,u,m,u.pendingProps);case 24:return nu(u),y=un(sr),o===null?(A=Kp(),A===null&&(A=hn,C=kv(),A.pooledCache=C,C.refCount++,C!==null&&(A.pooledCacheLanes|=m),A=C),u.memoizedState={parent:y,cache:A},Yh(u),ll(u,sr,A)):((o.lanes&m)!==0&&(Gv(o,u),Sf(u,null,null,m),Zh()),A=o.memoizedState,C=u.memoizedState,A.parent!==y?(A={parent:y,cache:y},u.memoizedState=A,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=A),ll(u,sr,y)):(y=C.cache,ll(u,sr,y),y!==A.cache&&Yp(u,[sr],m,!0))),Rr(o,u,u.pendingProps.children,m),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}function Po(o){o.flags|=4}function rd(o,u,m,y,A){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(A&335544128)===A)if(o.stateNode.complete)o.flags|=8192;else if(Ni())o.flags|=8192;else throw Co=Qp,Xh}else o.flags&=-16777217}function E0(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!xN(u))if(Ni())o.flags|=8192;else throw Co=Qp,Xh}function pl(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Rn():536870912,o.lanes|=u,xi|=u)}function Oo(o,u){if(!Ln)switch(o.tailMode){case"hidden":u=o.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function si(o){var u=o.alternate!==null&&o.alternate.child===o.child,m=0,y=0;if(u)for(var A=o.child;A!==null;)m|=A.lanes|A.childLanes,y|=A.subtreeFlags&65011712,y|=A.flags&65011712,A.return=o,A=A.sibling;else for(A=o.child;A!==null;)m|=A.lanes|A.childLanes,y|=A.subtreeFlags,y|=A.flags,A.return=o,A=A.sibling;return o.subtreeFlags|=y,o.childLanes=m,u}function ad(o,u,m){var y=u.pendingProps;switch(Wp(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(u),null;case 1:return si(u),null;case 3:return m=u.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),u.memoizedState.cache!==y&&(u.flags|=2048),Ao(sr),xe(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(yf(u)?Po(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Xp())),si(u),null;case 26:var A=u.type,C=u.memoizedState;return o===null?(Po(u),C!==null?(si(u),E0(u,C)):(si(u),rd(u,A,null,y,m))):C?C!==o.memoizedState?(Po(u),si(u),E0(u,C)):(si(u),u.flags&=-16777217):(o=o.memoizedProps,o!==y&&Po(u),si(u),rd(u,A,o,y,m)),null;case 27:if(xt(u),m=me.current,A=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==y&&Po(u);else{if(!y){if(u.stateNode===null)throw Error(i(166));return si(u),null}o=ke.current,yf(u)?Bb(u):(o=fN(A,y,m),u.stateNode=o,Po(u))}return si(u),null;case 5:if(xt(u),A=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==y&&Po(u);else{if(!y){if(u.stateNode===null)throw Error(i(166));return si(u),null}if(C=ke.current,yf(u))Bb(u);else{var k=N_(me.current);switch(C){case 1:C=k.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:C=k.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":C=k.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":C=k.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":C=k.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof y.is=="string"?k.createElement("select",{is:y.is}):k.createElement("select"),y.multiple?C.multiple=!0:y.size&&(C.size=y.size);break;default:C=typeof y.is=="string"?k.createElement(A,{is:y.is}):k.createElement(A)}}C[vi]=u,C[V]=y;e:for(k=u.child;k!==null;){if(k.tag===5||k.tag===6)C.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===u)break e;for(;k.sibling===null;){if(k.return===null||k.return===u)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}u.stateNode=C;e:switch(Sa(C,A,y),A){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Po(u)}}return si(u),rd(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,m),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==y&&Po(u);else{if(typeof y!="string"&&u.stateNode===null)throw Error(i(166));if(o=me.current,yf(u)){if(o=u.stateNode,m=u.memoizedProps,y=null,A=Vi,A!==null)switch(A.tag){case 27:case 5:y=A.memoizedProps}o[vi]=u,o=!!(o.nodeValue===m||y!==null&&y.suppressHydrationWarning===!0||eN(o.nodeValue,m)),o||Mo(u,!0)}else o=N_(o).createTextNode(y),o[vi]=u,u.stateNode=o}return si(u),null;case 31:if(m=u.memoizedState,o===null||o.memoizedState!==null){if(y=yf(u),m!==null){if(o===null){if(!y)throw Error(i(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[vi]=u}else eu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;si(u),o=!1}else m=Xp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=m),o=!0;if(!o)return u.flags&256?(Zi(u),u):(Zi(u),null);if((u.flags&128)!==0)throw Error(i(558))}return si(u),null;case 13:if(y=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(A=yf(u),y!==null&&y.dehydrated!==null){if(o===null){if(!A)throw Error(i(318));if(A=u.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));A[vi]=u}else eu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;si(u),A=!1}else A=Xp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=A),A=!0;if(!A)return u.flags&256?(Zi(u),u):(Zi(u),null)}return Zi(u),(u.flags&128)!==0?(u.lanes=m,u):(m=y!==null,o=o!==null&&o.memoizedState!==null,m&&(y=u.child,A=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(A=y.alternate.memoizedState.cachePool.pool),C=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(C=y.memoizedState.cachePool.pool),C!==A&&(y.flags|=2048)),m!==o&&m&&(u.child.flags|=8192),pl(u,u.updateQueue),si(u),null);case 4:return xe(),o===null&&xA(u.stateNode.containerInfo),si(u),null;case 10:return Ao(u.type),si(u),null;case 19:if(re(Un),y=u.memoizedState,y===null)return si(u),null;if(A=(u.flags&128)!==0,C=y.rendering,C===null)if(A)Oo(y,!1);else{if(Di!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(C=es(o),C!==null){for(u.flags|=128,Oo(y,!1),o=C.updateQueue,u.updateQueue=o,pl(u,o),u.subtreeFlags=0,o=m,m=u.child;m!==null;)df(m,o),m=m.sibling;return Me(Un,Un.current&1|2),Ln&&_o(u,y.treeForkCount),u.child}o=o.sibling}y.tail!==null&&F()>Ji&&(u.flags|=128,A=!0,Oo(y,!1),u.lanes=4194304)}else{if(!A)if(o=es(C),o!==null){if(u.flags|=128,A=!0,o=o.updateQueue,u.updateQueue=o,pl(u,o),Oo(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!Ln)return si(u),null}else 2*F()-y.renderingStartTime>Ji&&m!==536870912&&(u.flags|=128,A=!0,Oo(y,!1),u.lanes=4194304);y.isBackwards?(C.sibling=u.child,u.child=C):(o=y.last,o!==null?o.sibling=C:u.child=C,y.last=C)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=F(),o.sibling=null,m=Un.current,Me(Un,A?m&1|2:m&1),Ln&&_o(u,y.treeForkCount),o):(si(u),null);case 22:case 23:return Zi(u),Kh(),y=u.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(u.flags|=8192):y&&(u.flags|=8192),y?(m&536870912)!==0&&(u.flags&128)===0&&(si(u),u.subtreeFlags&6&&(u.flags|=8192)):si(u),m=u.updateQueue,m!==null&&pl(u,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048),o!==null&&re(iu),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),Ao(sr),si(u),null;case 25:return null;case 30:return null}throw Error(i(156,u.tag))}function Ps(o,u){switch(Wp(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Ao(sr),xe(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return xt(u),null;case 31:if(u.memoizedState!==null){if(Zi(u),u.alternate===null)throw Error(i(340));eu()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(Zi(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(i(340));eu()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return re(Un),null;case 4:return xe(),null;case 10:return Ao(u.type),null;case 22:case 23:return Zi(u),Kh(),o!==null&&re(iu),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Ao(sr),null;case 25:return null;default:return null}}function ts(o,u){switch(Wp(u),u.tag){case 3:Ao(sr),xe();break;case 26:case 27:case 5:xt(u);break;case 4:xe();break;case 31:u.memoizedState!==null&&Zi(u);break;case 13:Zi(u);break;case 19:re(Un);break;case 10:Ao(u.type);break;case 22:case 23:Zi(u),Kh(),o!==null&&re(iu);break;case 24:Ao(sr)}}function Os(o,u){try{var m=u.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var A=y.next;m=A;do{if((m.tag&o)===o){y=void 0;var C=m.create,k=m.inst;y=C(),k.destroy=y}m=m.next}while(m!==A)}}catch($){Gn(u,u.return,$)}}function zr(o,u,m){try{var y=u.updateQueue,A=y!==null?y.lastEffect:null;if(A!==null){var C=A.next;y=C;do{if((y.tag&o)===o){var k=y.inst,$=k.destroy;if($!==void 0){k.destroy=void 0,A=u;var se=m,Ae=$;try{Ae()}catch(We){Gn(A,se,We)}}}y=y.next}while(y!==C)}}catch(We){Gn(u,u.return,We)}}function Zs(o){var u=o.updateQueue;if(u!==null){var m=o.stateNode;try{jb(u,m)}catch(y){Gn(o,o.return,y)}}}function Pr(o,u,m){m.props=lu(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(y){Gn(o,u,y)}}function ml(o,u){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof m=="function"?o.refCleanup=m(y):m.current=y}}catch(A){Gn(o,u,A)}}function Br(o,u){var m=o.ref,y=o.refCleanup;if(m!==null)if(typeof y=="function")try{y()}catch(A){Gn(o,u,A)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(A){Gn(o,u,A)}else m.current=null}function sd(o){var u=o.type,m=o.memoizedProps,y=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":m.autoFocus&&y.focus();break e;case"img":m.src?y.src=m.src:m.srcSet&&(y.srcset=m.srcSet)}}catch(A){Gn(o,o.return,A)}}function vr(o,u,m){try{var y=o.stateNode;UW(y,o.type,m,u),y[V]=u}catch(A){Gn(o,o.return,A)}}function wi(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Bf(o.type)||o.tag===4}function On(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||wi(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Bf(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Do(o,u,m){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(o,u):(u=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,u.appendChild(o),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=il));else if(y!==4&&(y===27&&Bf(o.type)&&(m=o.stateNode,u=null),o=o.child,o!==null))for(Do(o,u,m),o=o.sibling;o!==null;)Do(o,u,m),o=o.sibling}function ya(o,u,m){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?m.insertBefore(o,u):m.appendChild(o);else if(y!==4&&(y===27&&Bf(o.type)&&(m=o.stateNode),o=o.child,o!==null))for(ya(o,u,m),o=o.sibling;o!==null;)ya(o,u,m),o=o.sibling}function Sm(o){var u=o.stateNode,m=o.memoizedProps;try{for(var y=o.type,A=u.attributes;A.length;)u.removeAttributeNode(A[0]);Sa(u,y,m),u[vi]=o,u[V]=m}catch(C){Gn(o,o.return,C)}}var Ds=!1,fi=!1,Ks=!1,O_=typeof WeakSet=="function"?WeakSet:Set,Or=null;function gA(o,u){if(o=o.containerInfo,SA=V_,o=Ib(o),Nv(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var A=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{m.nodeType,C.nodeType}catch{m=null;break e}var k=0,$=-1,se=-1,Ae=0,We=0,Ke=o,Re=null;t:for(;;){for(var Be;Ke!==m||A!==0&&Ke.nodeType!==3||($=k+A),Ke!==C||y!==0&&Ke.nodeType!==3||(se=k+y),Ke.nodeType===3&&(k+=Ke.nodeValue.length),(Be=Ke.firstChild)!==null;)Re=Ke,Ke=Be;for(;;){if(Ke===o)break t;if(Re===m&&++Ae===A&&($=k),Re===C&&++We===y&&(se=k),(Be=Ke.nextSibling)!==null)break;Ke=Re,Re=Ke.parentNode}Ke=Be}m=$===-1||se===-1?null:{start:$,end:se}}else m=null}m=m||{start:0,end:0}}else m=null;for(MA={focusedElem:o,selectionRange:m},V_=!1,Or=u;Or!==null;)if(u=Or,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Or=o;else for(;Or!==null;){switch(u=Or,C=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(m=0;m<o.length;m++)A=o[m],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&C!==null){o=void 0,m=u,A=C.memoizedProps,C=C.memoizedState,y=m.stateNode;try{var kt=lu(m.type,A);o=y.getSnapshotBeforeUpdate(kt,C),y.__reactInternalSnapshotBeforeUpdate=o}catch(an){Gn(m,m.return,an)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,m=o.nodeType,m===9)AA(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":AA(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=u.sibling,o!==null){o.return=u.return,Or=o;break}Or=u.return}}function Ei(o,u,m){var y=m.flags;switch(m.tag){case 0:case 11:case 15:Ls(o,m),y&4&&Os(5,m);break;case 1:if(Ls(o,m),y&4)if(o=m.stateNode,u===null)try{o.componentDidMount()}catch(k){Gn(m,m.return,k)}else{var A=lu(m.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(A,u,o.__reactInternalSnapshotBeforeUpdate)}catch(k){Gn(m,m.return,k)}}y&64&&Zs(m),y&512&&ml(m,m.return);break;case 3:if(Ls(o,m),y&64&&(o=m.updateQueue,o!==null)){if(u=null,m.child!==null)switch(m.child.tag){case 27:case 5:u=m.child.stateNode;break;case 1:u=m.child.stateNode}try{jb(o,u)}catch(k){Gn(m,m.return,k)}}break;case 27:u===null&&y&4&&Sm(m);case 26:case 5:Ls(o,m),u===null&&y&4&&sd(m),y&512&&ml(m,m.return);break;case 12:Ls(o,m);break;case 31:Ls(o,m),y&4&&uu(o,m);break;case 13:Ls(o,m),y&4&&Rf(o,m),y&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=b.bind(null,m),GW(o,m))));break;case 22:if(y=m.memoizedState!==null||Ds,!y){u=u!==null&&u.memoizedState!==null||fi,A=Ds;var C=fi;Ds=y,(fi=u)&&!C?xa(o,m,(m.subtreeFlags&8772)!==0):Ls(o,m),Ds=A,fi=C}break;case 30:break;default:Ls(o,m)}}function od(o){var u=o.alternate;u!==null&&(o.alternate=null,od(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&nt(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var ei=null,Qr=!1;function Is(o,u,m){for(m=m.child;m!==null;)Mm(o,u,m),m=m.sibling}function Mm(o,u,m){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(Je,m)}catch{}switch(m.tag){case 26:fi||Br(m,u),Is(o,u,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:fi||Br(m,u);var y=ei,A=Qr;Bf(m.type)&&(ei=m.stateNode,Qr=!1),Is(o,u,m),D0(m.stateNode),ei=y,Qr=A;break;case 5:fi||Br(m,u);case 6:if(y=ei,A=Qr,ei=null,Is(o,u,m),ei=y,Qr=A,ei!==null)if(Qr)try{(ei.nodeType===9?ei.body:ei.nodeName==="HTML"?ei.ownerDocument.body:ei).removeChild(m.stateNode)}catch(C){Gn(m,u,C)}else try{ei.removeChild(m.stateNode)}catch(C){Gn(m,u,C)}break;case 18:ei!==null&&(Qr?(o=ei,sN(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,m.stateNode),Om(o)):sN(ei,m.stateNode));break;case 4:y=ei,A=Qr,ei=m.stateNode.containerInfo,Qr=!0,Is(o,u,m),ei=y,Qr=A;break;case 0:case 11:case 14:case 15:zr(2,m,u),fi||zr(4,m,u),Is(o,u,m);break;case 1:fi||(Br(m,u),y=m.stateNode,typeof y.componentWillUnmount=="function"&&Pr(m,u,y)),Is(o,u,m);break;case 21:Is(o,u,m);break;case 22:fi=(y=fi)||m.memoizedState!==null,Is(o,u,m),fi=y;break;default:Is(o,u,m)}}function uu(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Om(o)}catch(m){Gn(u,u.return,m)}}}function Rf(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Om(o)}catch(m){Gn(u,u.return,m)}}function A0(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new O_),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new O_),u;default:throw Error(i(435,o.tag))}}function gl(o,u){var m=A0(o);u.forEach(function(y){if(!m.has(y)){m.add(y);var A=E.bind(null,o,y);y.then(A,A)}})}function yr(o,u){var m=u.deletions;if(m!==null)for(var y=0;y<m.length;y++){var A=m[y],C=o,k=u,$=k;e:for(;$!==null;){switch($.tag){case 27:if(Bf($.type)){ei=$.stateNode,Qr=!1;break e}break;case 5:ei=$.stateNode,Qr=!1;break e;case 3:case 4:ei=$.stateNode.containerInfo,Qr=!0;break e}$=$.return}if(ei===null)throw Error(i(160));Mm(C,k,A),ei=null,Qr=!1,C=A.alternate,C!==null&&(C.return=null),A.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)cu(u,o),u=u.sibling}var Ns=null;function cu(o,u){var m=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:yr(u,o),xr(o),y&4&&(zr(3,o,o.return),Os(3,o),zr(5,o,o.return));break;case 1:yr(u,o),xr(o),y&512&&(fi||m===null||Br(m,m.return)),y&64&&Ds&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?y:m.concat(y))));break;case 26:var A=Ns;if(yr(u,o),xr(o),y&512&&(fi||m===null||Br(m,m.return)),y&4){var C=m!==null?m.memoizedState:null;if(y=o.memoizedState,m===null)if(y===null)if(o.stateNode===null){e:{y=o.type,m=o.memoizedProps,A=A.ownerDocument||A;t:switch(y){case"title":C=A.getElementsByTagName("title")[0],(!C||C[lt]||C[vi]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=A.createElement(y),A.head.insertBefore(C,A.querySelector("head > title"))),Sa(C,y,m),C[vi]=o,oe(C),y=C;break e;case"link":var k=vN("link","href",A).get(y+(m.href||""));if(k){for(var $=0;$<k.length;$++)if(C=k[$],C.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&C.getAttribute("rel")===(m.rel==null?null:m.rel)&&C.getAttribute("title")===(m.title==null?null:m.title)&&C.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){k.splice($,1);break t}}C=A.createElement(y),Sa(C,y,m),A.head.appendChild(C);break;case"meta":if(k=vN("meta","content",A).get(y+(m.content||""))){for($=0;$<k.length;$++)if(C=k[$],C.getAttribute("content")===(m.content==null?null:""+m.content)&&C.getAttribute("name")===(m.name==null?null:m.name)&&C.getAttribute("property")===(m.property==null?null:m.property)&&C.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&C.getAttribute("charset")===(m.charSet==null?null:m.charSet)){k.splice($,1);break t}}C=A.createElement(y),Sa(C,y,m),A.head.appendChild(C);break;default:throw Error(i(468,y))}C[vi]=o,oe(C),y=C}o.stateNode=y}else yN(A,o.type,o.stateNode);else o.stateNode=gN(A,y,o.memoizedProps);else C!==y?(C===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):C.count--,y===null?yN(A,o.type,o.stateNode):gN(A,y,o.memoizedProps)):y===null&&o.stateNode!==null&&vr(o,o.memoizedProps,m.memoizedProps)}break;case 27:yr(u,o),xr(o),y&512&&(fi||m===null||Br(m,m.return)),m!==null&&y&4&&vr(o,o.memoizedProps,m.memoizedProps);break;case 5:if(yr(u,o),xr(o),y&512&&(fi||m===null||Br(m,m.return)),o.flags&32){A=o.stateNode;try{Yr(A,"")}catch(kt){Gn(o,o.return,kt)}}y&4&&o.stateNode!=null&&(A=o.memoizedProps,vr(o,A,m!==null?m.memoizedProps:A)),y&1024&&(Ks=!0);break;case 6:if(yr(u,o),xr(o),y&4){if(o.stateNode===null)throw Error(i(162));y=o.memoizedProps,m=o.stateNode;try{m.nodeValue=y}catch(kt){Gn(o,o.return,kt)}}break;case 3:if(z_=null,A=Ns,Ns=L_(u.containerInfo),yr(u,o),Ns=A,xr(o),y&4&&m!==null&&m.memoizedState.isDehydrated)try{Om(u.containerInfo)}catch(kt){Gn(o,o.return,kt)}Ks&&(Ks=!1,wm(o));break;case 4:y=Ns,Ns=L_(o.stateNode.containerInfo),yr(u,o),xr(o),Ns=y;break;case 12:yr(u,o),xr(o);break;case 31:yr(u,o),xr(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,gl(o,y)));break;case 13:yr(u,o),xr(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Pf=F()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,gl(o,y)));break;case 22:A=o.memoizedState!==null;var se=m!==null&&m.memoizedState!==null,Ae=Ds,We=fi;if(Ds=Ae||A,fi=We||se,yr(u,o),fi=We,Ds=Ae,xr(o),y&8192)e:for(u=o.stateNode,u._visibility=A?u._visibility&-2:u._visibility|1,A&&(m===null||se||Ds||fi||Io(o)),m=null,u=o;;){if(u.tag===5||u.tag===26){if(m===null){se=m=u;try{if(C=se.stateNode,A)k=C.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{$=se.stateNode;var Ke=se.memoizedProps.style,Re=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;$.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(kt){Gn(se,se.return,kt)}}}else if(u.tag===6){if(m===null){se=u;try{se.stateNode.nodeValue=A?"":se.memoizedProps}catch(kt){Gn(se,se.return,kt)}}}else if(u.tag===18){if(m===null){se=u;try{var Be=se.stateNode;A?oN(Be,!0):oN(se.stateNode,!1)}catch(kt){Gn(se,se.return,kt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}y&4&&(y=o.updateQueue,y!==null&&(m=y.retryQueue,m!==null&&(y.retryQueue=null,gl(o,m))));break;case 19:yr(u,o),xr(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,gl(o,y)));break;case 30:break;case 21:break;default:yr(u,o),xr(o)}}function xr(o){var u=o.flags;if(u&2){try{for(var m,y=o.return;y!==null;){if(wi(y)){m=y;break}y=y.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:var A=m.stateNode,C=On(o);ya(o,C,A);break;case 5:var k=m.stateNode;m.flags&32&&(Yr(k,""),m.flags&=-33);var $=On(o);ya(o,$,k);break;case 3:case 4:var se=m.stateNode.containerInfo,Ae=On(o);Do(o,Ae,se);break;default:throw Error(i(161))}}catch(We){Gn(o,o.return,We)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function wm(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;wm(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function Ls(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Ei(o,u.alternate,u),u=u.sibling}function Io(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:zr(4,u,u.return),Io(u);break;case 1:Br(u,u.return);var m=u.stateNode;typeof m.componentWillUnmount=="function"&&Pr(u,u.return,m),Io(u);break;case 27:D0(u.stateNode);case 26:case 5:Br(u,u.return),Io(u);break;case 22:u.memoizedState===null&&Io(u);break;case 30:Io(u);break;default:Io(u)}o=o.sibling}}function xa(o,u,m){for(m=m&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var y=u.alternate,A=o,C=u,k=C.flags;switch(C.tag){case 0:case 11:case 15:xa(A,C,m),Os(4,C);break;case 1:if(xa(A,C,m),y=C,A=y.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Ae){Gn(y,y.return,Ae)}if(y=C,A=y.updateQueue,A!==null){var $=y.stateNode;try{var se=A.shared.hiddenCallbacks;if(se!==null)for(A.shared.hiddenCallbacks=null,A=0;A<se.length;A++)Mf(se[A],$)}catch(Ae){Gn(y,y.return,Ae)}}m&&k&64&&Zs(C),ml(C,C.return);break;case 27:Sm(C);case 26:case 5:xa(A,C,m),m&&y===null&&k&4&&sd(C),ml(C,C.return);break;case 12:xa(A,C,m);break;case 31:xa(A,C,m),m&&k&4&&uu(A,C);break;case 13:xa(A,C,m),m&&k&4&&Rf(A,C);break;case 22:C.memoizedState===null&&xa(A,C,m),ml(C,C.return);break;case 30:break;default:xa(A,C,m)}u=u.sibling}}function fu(o,u){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&Qu(m))}function hc(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Qu(o))}function kr(o,u,m,y){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)T0(o,u,m,y),u=u.sibling}function T0(o,u,m,y){var A=u.flags;switch(u.tag){case 0:case 11:case 15:kr(o,u,m,y),A&2048&&Os(9,u);break;case 1:kr(o,u,m,y);break;case 3:kr(o,u,m,y),A&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Qu(o)));break;case 12:if(A&2048){kr(o,u,m,y),o=u.stateNode;try{var C=u.memoizedProps,k=C.id,$=C.onPostCommit;typeof $=="function"&&$(k,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(se){Gn(u,u.return,se)}}else kr(o,u,m,y);break;case 31:kr(o,u,m,y);break;case 13:kr(o,u,m,y);break;case 23:break;case 22:C=u.stateNode,k=u.alternate,u.memoizedState!==null?C._visibility&2?kr(o,u,m,y):No(o,u):C._visibility&2?kr(o,u,m,y):(C._visibility|=2,Fr(o,u,m,y,(u.subtreeFlags&10256)!==0||!1)),A&2048&&fu(k,u);break;case 24:kr(o,u,m,y),A&2048&&hc(u.alternate,u);break;default:kr(o,u,m,y)}}function Fr(o,u,m,y,A){for(A=A&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var C=o,k=u,$=m,se=y,Ae=k.flags;switch(k.tag){case 0:case 11:case 15:Fr(C,k,$,se,A),Os(8,k);break;case 23:break;case 22:var We=k.stateNode;k.memoizedState!==null?We._visibility&2?Fr(C,k,$,se,A):No(C,k):(We._visibility|=2,Fr(C,k,$,se,A)),A&&Ae&2048&&fu(k.alternate,k);break;case 24:Fr(C,k,$,se,A),A&&Ae&2048&&hc(k.alternate,k);break;default:Fr(C,k,$,se,A)}u=u.sibling}}function No(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var m=o,y=u,A=y.flags;switch(y.tag){case 22:No(m,y),A&2048&&fu(y.alternate,y);break;case 24:No(m,y),A&2048&&hc(y.alternate,y);break;default:No(m,y)}u=u.sibling}}var dc=8192;function ns(o,u,m){if(o.subtreeFlags&dc)for(o=o.child;o!==null;)Em(o,u,m),o=o.sibling}function Em(o,u,m){switch(o.tag){case 26:ns(o,u,m),o.flags&dc&&o.memoizedState!==null&&nq(m,Ns,o.memoizedState,o.memoizedProps);break;case 5:ns(o,u,m);break;case 3:case 4:var y=Ns;Ns=L_(o.stateNode.containerInfo),ns(o,u,m),Ns=y;break;case 22:o.memoizedState===null&&(y=o.alternate,y!==null&&y.memoizedState!==null?(y=dc,dc=16777216,ns(o,u,m),dc=y):ns(o,u,m));break;default:ns(o,u,m)}}function pc(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function hu(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];Or=y,Hi(y,o)}pc(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ba(o),o=o.sibling}function Ba(o){switch(o.tag){case 0:case 11:case 15:hu(o),o.flags&2048&&zr(9,o,o.return);break;case 3:hu(o);break;case 12:hu(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,ka(o)):hu(o);break;default:hu(o)}}function ka(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];Or=y,Hi(y,o)}pc(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:zr(8,u,u.return),ka(u);break;case 22:m=u.stateNode,m._visibility&2&&(m._visibility&=-3,ka(u));break;default:ka(u)}o=o.sibling}}function Hi(o,u){for(;Or!==null;){var m=Or;switch(m.tag){case 0:case 11:case 15:zr(8,m,u);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var y=m.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Qu(m.memoizedState.cache)}if(y=m.child,y!==null)y.return=m,Or=y;else e:for(m=o;Or!==null;){y=Or;var A=y.sibling,C=y.return;if(od(y),y===m){Or=null;break e}if(A!==null){A.return=C,Or=A;break e}Or=C}}}var vl={getCacheForType:function(o){var u=un(sr),m=u.data.get(o);return m===void 0&&(m=o(),u.data.set(o,m)),m},cacheSignal:function(){return un(sr).controller.signal}},gn=typeof WeakMap=="function"?WeakMap:Map,$t=0,hn=null,Sn=null,xn=0,zn=0,Jr=null,Us=!1,Qs=!1,C0=!1,is=0,Di=0,Lo=0,du=0,ld=0,ba=0,xi=0,mc=null,ji=null,Gi=!1,Pf=0,R0=0,Ji=1/0,Ii=null,er=null,ti=0,rs=null,Of=null,zs=0,Df=0,If=null,ud=null,pu=0,gc=null;function as(){return($t&2)!==0&&xn!==0?xn&-xn:q.T!==null?Oe():Ar()}function Tn(){if(ba===0)if((xn&536870912)===0||Ln){var o=ut;ut<<=1,(ut&3932160)===0&&(ut=262144),ba=o}else ba=536870912;return o=Na.current,o!==null&&(o.flags|=32),ba}function Mn(o,u,m){(o===hn&&(zn===2||zn===9)||o.cancelPendingCommit!==null)&&(gu(o,0),lr(o,xn,ba,!1)),Er(o,m),(($t&2)===0||o!==hn)&&(o===hn&&(($t&2)===0&&(du|=m),Di===4&&lr(o,xn,ba,!1)),ct(o))}function Cn(o,u,m){if(($t&6)!==0)throw Error(i(327));var y=!m&&(u&127)===0&&(u&o.expiredLanes)===0||Lt(o,u),A=y?cd(o,u):_a(o,u,!0),C=y;do{if(A===0){Qs&&!y&&lr(o,u,0,!1);break}else{if(m=o.current.alternate,C&&!ni(m)){A=_a(o,u,!1),C=!1;continue}if(A===2){if(C=u,o.errorRecoveryDisabledLanes&C)var k=0;else k=o.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){u=k;e:{var $=o;A=mc;var se=$.current.memoizedState.isDehydrated;if(se&&(gu($,k).flags|=256),k=_a($,k,!1),k!==2){if(C0&&!se){$.errorRecoveryDisabledLanes|=C,du|=C,A=4;break e}C=ji,ji=A,C!==null&&(ji===null?ji=C:ji.push.apply(ji,C))}A=k}if(C=!1,A!==2)continue}}if(A===1){gu(o,0),lr(o,u,0,!0);break}e:{switch(y=o,C=A,C){case 0:case 1:throw Error(i(345));case 4:if((u&4194048)!==u)break;case 6:lr(y,u,ba,!Us);break e;case 2:ji=null;break;case 3:case 5:break;default:throw Error(i(329))}if((u&62914560)===u&&(A=Pf+300-F(),10<A)){if(lr(y,u,ba,!Us),Fe(y,0,!0)!==0)break e;zs=u,y.timeoutHandle=rN(Dn.bind(null,y,m,ji,Ii,Gi,u,ba,du,xi,Us,C,"Throttled",-0,0),A);break e}Dn(y,m,ji,Ii,Gi,u,ba,du,xi,Us,C,null,-0,0)}}break}while(!0);ct(o)}function Dn(o,u,m,y,A,C,k,$,se,Ae,We,Ke,Re,Be){if(o.timeoutHandle=-1,Ke=u.subtreeFlags,Ke&8192||(Ke&16785408)===16785408){Ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:il},Em(u,C,Ke);var kt=(C&62914560)===C?Pf-F():(C&4194048)===C?R0-F():0;if(kt=iq(Ke,kt),kt!==null){zs=C,o.cancelPendingCommit=kt(xl.bind(null,o,u,C,m,y,A,k,$,se,We,Ke,null,Re,Be)),lr(o,C,k,!Ae);return}}xl(o,u,C,m,y,A,k,$,se)}function ni(o){for(var u=o;;){var m=u.tag;if((m===0||m===11||m===15)&&u.flags&16384&&(m=u.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var y=0;y<m.length;y++){var A=m[y],C=A.getSnapshot;A=A.value;try{if(!pa(C(),A))return!1}catch{return!1}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function lr(o,u,m,y){u&=~ld,u&=~du,o.suspendedLanes|=u,o.pingedLanes&=~u,y&&(o.warmLanes|=u),y=o.expirationTimes;for(var A=u;0<A;){var C=31-wt(A),k=1<<C;y[C]=-1,A&=~k}m!==0&&qs(o,m,u)}function Js(){return($t&6)===0?(It(0),!1):!0}function mu(){if(Sn!==null){if(zn===0)var o=Sn.return;else o=Sn,Eo=tu=null,Qv(o),ic=null,rc=0,o=Sn;for(;o!==null;)ts(o.alternate,o),o=o.return;Sn=null}}function gu(o,u){var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,kW(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),zs=0,mu(),hn=o,Sn=m=Oa(o.current,null),xn=u,zn=0,Jr=null,Us=!1,Qs=Lt(o,u),C0=!1,xi=ba=ld=du=Lo=Di=0,ji=mc=null,Gi=!1,(u&8)!==0&&(u|=u&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=u;0<y;){var A=31-wt(y),C=1<<A;u|=o[A],y&=~C}return is=u,jh(),m}function Uo(o,u){mn=null,q.H=Tf,u===Ju||u===_n?(u=tc(),zn=3):u===Xh?(u=tc(),zn=4):zn=u===dm?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Jr=u,Sn===null&&(Di=1,hm(o,Ka(u,o.current)))}function Ni(){var o=Na.current;return o===null?!0:(xn&4194048)===xn?va===null:(xn&62914560)===xn||(xn&536870912)!==0?o===va:!1}function yl(){var o=q.H;return q.H=Tf,o===null?Tf:o}function vu(){var o=q.A;return q.A=vl,o}function Nf(){Di=4,Us||(xn&4194048)!==xn&&Na.current!==null||(Qs=!0),(Lo&134217727)===0&&(du&134217727)===0||hn===null||lr(hn,xn,ba,!1)}function _a(o,u,m){var y=$t;$t|=2;var A=yl(),C=vu();(hn!==o||xn!==u)&&(Ii=null,gu(o,u)),u=!1;var k=Di;e:do try{if(zn!==0&&Sn!==null){var $=Sn,se=Jr;switch(zn){case 8:mu(),k=6;break e;case 3:case 2:case 9:case 6:Na.current===null&&(u=!0);var Ae=zn;if(zn=0,Jr=null,vc(o,$,se,Ae),m&&Qs){k=0;break e}break;default:Ae=zn,zn=0,Jr=null,vc(o,$,se,Ae)}}Lf(),k=Di;break}catch(We){Uo(o,We)}while(!0);return u&&o.shellSuspendCounter++,Eo=tu=null,$t=y,q.H=A,q.A=C,Sn===null&&(hn=null,xn=0,jh()),k}function Lf(){for(;Sn!==null;)Am(Sn)}function cd(o,u){var m=$t;$t|=2;var y=yl(),A=vu();hn!==o||xn!==u?(Ii=null,Ji=F()+500,gu(o,u)):Qs=Lt(o,u);e:do try{if(zn!==0&&Sn!==null){u=Sn;var C=Jr;t:switch(zn){case 1:zn=0,Jr=null,vc(o,u,C,1);break;case 2:case 9:if(Ia(C)){zn=0,Jr=null,fd(u);break}u=function(){zn!==2&&zn!==9||hn!==o||(zn=7),ct(o)},C.then(u,u);break e;case 3:zn=7;break e;case 4:zn=5;break e;case 7:Ia(C)?(zn=0,Jr=null,fd(u)):(zn=0,Jr=null,vc(o,u,C,7));break;case 5:var k=null;switch(Sn.tag){case 26:k=Sn.memoizedState;case 5:case 27:var $=Sn;if(k?xN(k):$.stateNode.complete){zn=0,Jr=null;var se=$.sibling;if(se!==null)Sn=se;else{var Ae=$.return;Ae!==null?(Sn=Ae,yu(Ae)):Sn=null}break t}}zn=0,Jr=null,vc(o,u,C,5);break;case 6:zn=0,Jr=null,vc(o,u,C,6);break;case 8:mu(),Di=6;break e;default:throw Error(i(462))}}Fa();break}catch(We){Uo(o,We)}while(!0);return Eo=tu=null,q.H=y,q.A=A,$t=m,Sn!==null?0:(hn=null,xn=0,jh(),Di)}function Fa(){for(;Sn!==null&&!ht();)Am(Sn)}function Am(o){var u=_m(o.alternate,o,is);o.memoizedProps=o.pendingProps,u===null?yu(o):Sn=u}function fd(o){var u=o,m=u.alternate;switch(u.tag){case 15:case 0:u=nd(m,u,u.pendingProps,u.type,void 0,xn);break;case 11:u=nd(m,u,u.pendingProps,u.type.render,u.ref,xn);break;case 5:Qv(u);default:ts(m,u),u=Sn=df(u,is),u=_m(m,u,is)}o.memoizedProps=o.pendingProps,u===null?yu(o):Sn=u}function vc(o,u,m,y){Eo=tu=null,Qv(u),ic=null,rc=0;var A=u.return;try{if(gr(o,A,u,m,xn)){Di=1,hm(o,Ka(m,o.current)),Sn=null;return}}catch(C){if(A!==null)throw Sn=A,C;Di=1,hm(o,Ka(m,o.current)),Sn=null;return}u.flags&32768?(Ln||y===1?o=!0:Qs||(xn&536870912)!==0?o=!1:(Us=o=!0,(y===2||y===9||y===3||y===6)&&(y=Na.current,y!==null&&y.tag===13&&(y.flags|=16384))),hd(u,o)):yu(u)}function yu(o){var u=o;do{if((u.flags&32768)!==0){hd(u,Us);return}o=u.return;var m=ad(u.alternate,u,is);if(m!==null){Sn=m;return}if(u=u.sibling,u!==null){Sn=u;return}Sn=u=o}while(u!==null);Di===0&&(Di=5)}function hd(o,u){do{var m=Ps(o.alternate,o);if(m!==null){m.flags&=32767,Sn=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!u&&(o=o.sibling,o!==null)){Sn=o;return}Sn=o=m}while(o!==null);Di=6,Sn=null}function xl(o,u,m,y,A,C,k,$,se){o.cancelPendingCommit=null;do Uf();while(ti!==0);if(($t&6)!==0)throw Error(i(327));if(u!==null){if(u===o.current)throw Error(i(177));if(C=u.lanes|u.childLanes,C|=Tr,$r(o,m,C,k,$,se),o===hn&&(Sn=hn=null,xn=0),Of=u,rs=o,zs=m,Df=C,If=A,ud=y,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,O(Ue,function(){return Tm(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||y){y=q.T,q.T=null,A=K.p,K.p=2,k=$t,$t|=4;try{gA(o,u,m)}finally{$t=k,K.p=A,q.T=y}}ti=1,ur(),bl(),yc()}}function ur(){if(ti===1){ti=0;var o=rs,u=Of,m=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||m){m=q.T,q.T=null;var y=K.p;K.p=2;var A=$t;$t|=4;try{cu(u,o);var C=MA,k=Ib(o.containerInfo),$=C.focusedElem,se=C.selectionRange;if(k!==$&&$&&$.ownerDocument&&ui($.ownerDocument.documentElement,$)){if(se!==null&&Nv($)){var Ae=se.start,We=se.end;if(We===void 0&&(We=Ae),"selectionStart"in $)$.selectionStart=Ae,$.selectionEnd=Math.min(We,$.value.length);else{var Ke=$.ownerDocument||document,Re=Ke&&Ke.defaultView||window;if(Re.getSelection){var Be=Re.getSelection(),kt=$.textContent.length,an=Math.min(se.start,kt),di=se.end===void 0?an:Math.min(se.end,kt);!Be.extend&&an>di&&(k=di,di=an,an=k);var be=cf($,an),he=cf($,di);if(be&&he&&(Be.rangeCount!==1||Be.anchorNode!==be.node||Be.anchorOffset!==be.offset||Be.focusNode!==he.node||Be.focusOffset!==he.offset)){var Ee=Ke.createRange();Ee.setStart(be.node,be.offset),Be.removeAllRanges(),an>di?(Be.addRange(Ee),Be.extend(he.node,he.offset)):(Ee.setEnd(he.node,he.offset),Be.addRange(Ee))}}}}for(Ke=[],Be=$;Be=Be.parentNode;)Be.nodeType===1&&Ke.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<Ke.length;$++){var $e=Ke[$];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}V_=!!SA,MA=SA=null}finally{$t=A,K.p=y,q.T=m}}o.current=u,ti=2}}function bl(){if(ti===2){ti=0;var o=rs,u=Of,m=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||m){m=q.T,q.T=null;var y=K.p;K.p=2;var A=$t;$t|=4;try{Ei(o,u.alternate,u)}finally{$t=A,K.p=y,q.T=m}}ti=3}}function yc(){if(ti===4||ti===3){ti=0,Q();var o=rs,u=Of,m=zs,y=ud;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?ti=5:(ti=0,Of=rs=null,zo(o,o.pendingLanes));var A=o.pendingLanes;if(A===0&&(er=null),fa(m),u=u.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(Je,u,void 0,(u.current.flags&128)===128)}catch{}if(y!==null){u=q.T,A=K.p,K.p=2,q.T=null;try{for(var C=o.onRecoverableError,k=0;k<y.length;k++){var $=y[k];C($.value,{componentStack:$.stack})}}finally{q.T=u,K.p=A}}(zs&3)!==0&&Uf(),ct(o),A=o.pendingLanes,(m&261930)!==0&&(A&42)!==0?o===gc?pu++:(pu=0,gc=o):pu=0,It(0)}}function zo(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Qu(u)))}function Uf(){return ur(),bl(),yc(),Tm()}function Tm(){if(ti!==5)return!1;var o=rs,u=Df;Df=0;var m=fa(zs),y=q.T,A=K.p;try{K.p=32>m?32:m,q.T=null,m=If,If=null;var C=rs,k=zs;if(ti=0,Of=rs=null,zs=0,($t&6)!==0)throw Error(i(331));var $=$t;if($t|=4,Ba(C.current),T0(C,C.current,k,m),$t=$,It(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(Je,C)}catch{}return!0}finally{K.p=A,q.T=y,zo(o,u)}}function P0(o,u,m){u=Ka(m,u),u=b0(o.stateNode,u,2),o=ru(o,u,2),o!==null&&(Er(o,2),ct(o))}function Gn(o,u,m){if(o.tag===3)P0(o,o,m);else for(;u!==null;){if(u.tag===3){P0(u,o,m);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(er===null||!er.has(y))){o=Ka(m,o),m=_0(2),y=ru(u,m,2),y!==null&&(A_(m,y,u,o),Er(y,2),ct(y));break}}u=u.return}}function dd(o,u,m){var y=o.pingCache;if(y===null){y=o.pingCache=new gn;var A=new Set;y.set(u,A)}else A=y.get(u),A===void 0&&(A=new Set,y.set(u,A));A.has(m)||(C0=!0,A.add(m),o=f.bind(null,o,u,m),u.then(o,o))}function f(o,u,m){var y=o.pingCache;y!==null&&y.delete(u),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,hn===o&&(xn&m)===m&&(Di===4||Di===3&&(xn&62914560)===xn&&300>F()-Pf?($t&2)===0&&gu(o,0):ld|=m,xi===xn&&(xi=0)),ct(o)}function d(o,u){u===0&&(u=Rn()),o=ma(o,u),o!==null&&(Er(o,u),ct(o))}function b(o){var u=o.memoizedState,m=0;u!==null&&(m=u.retryLane),d(o,m)}function E(o,u){var m=0;switch(o.tag){case 31:case 13:var y=o.stateNode,A=o.memoizedState;A!==null&&(m=A.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(i(314))}y!==null&&y.delete(u),d(o,m)}function O(o,u){return Mt(o,u)}var N=null,X=null,le=!1,Le=!1,it=!1,_t=0;function ct(o){o!==X&&o.next===null&&(X===null?N=X=o:X=X.next=o),Le=!0,le||(le=!0,Se())}function It(o,u){if(!it&&Le){it=!0;do for(var m=!1,y=N;y!==null;){if(o!==0){var A=y.pendingLanes;if(A===0)var C=0;else{var k=y.suspendedLanes,$=y.pingedLanes;C=(1<<31-wt(42|o)+1)-1,C&=A&~(k&~$),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(m=!0,Ce(y,C))}else C=xn,C=Fe(y,y===hn?C:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(C&3)===0||Lt(y,C)||(m=!0,Ce(y,C));y=y.next}while(m);it=!1}}function pn(){tr()}function tr(){Le=le=!1;var o=0;_t!==0&&BW()&&(o=_t);for(var u=F(),m=null,y=N;y!==null;){var A=y.next,C=zf(y,u);C===0?(y.next=null,m===null?N=A:m.next=A,A===null&&(X=m)):(m=y,(o!==0||(C&3)!==0)&&(Le=!0)),y=A}ti!==0&&ti!==5||It(o),_t!==0&&(_t=0)}function zf(o,u){for(var m=o.suspendedLanes,y=o.pingedLanes,A=o.expirationTimes,C=o.pendingLanes&-62914561;0<C;){var k=31-wt(C),$=1<<k,se=A[k];se===-1?(($&m)===0||($&y)!==0)&&(A[k]=rn($,u)):se<=u&&(o.expiredLanes|=$),C&=~$}if(u=hn,m=xn,m=Fe(o,o===u?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,m===0||o===u&&(zn===2||zn===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&Gt(y),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||Lt(o,m)){if(u=m&-m,u===o.callbackPriority)return u;switch(y!==null&&Gt(y),fa(m)){case 2:case 8:m=Xe;break;case 32:m=Ue;break;case 268435456:m=dt;break;default:m=Ue}return y=xu.bind(null,o),m=Mt(m,y),o.callbackPriority=u,o.callbackNode=m,u}return y!==null&&y!==null&&Gt(y),o.callbackPriority=2,o.callbackNode=null,2}function xu(o,u){if(ti!==0&&ti!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(Uf()&&o.callbackNode!==m)return null;var y=xn;return y=Fe(o,o===hn?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(Cn(o,y,u),zf(o,F()),o.callbackNode!=null&&o.callbackNode===m?xu.bind(null,o):null)}function Ce(o,u){if(Uf())return null;Cn(o,u,!0)}function Se(){FW(function(){($t&6)!==0?Mt(Ie,pn):tr()})}function Oe(){if(_t===0){var o=ul;o===0&&(o=Te,Te<<=1,(Te&261888)===0&&(Te=256)),_t=o}return _t}function yt(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Rh(""+o)}function en(o,u){var m=u.ownerDocument.createElement("input");return m.name=u.name,m.value=u.value,o.id&&m.setAttribute("form",o.id),u.parentNode.insertBefore(m,u),o=new FormData(o),m.parentNode.removeChild(m),o}function Li(o,u,m,y,A){if(u==="submit"&&m&&m.stateNode===A){var C=yt((A[V]||null).action),k=y.submitter;k&&(u=(u=k[V]||null)?yt(u.formAction):k.getAttribute("formAction"),u!==null&&(C=u,k=null));var $=new Dh("action","action",null,y,A);o.push({event:$,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(_t!==0){var se=k?en(A,k):new FormData(A);h0(m,{pending:!0,data:se,method:A.method,action:C},null,se)}}else typeof C=="function"&&($.preventDefault(),se=k?en(A,k):new FormData(A),h0(m,{pending:!0,data:se,method:A.method,action:C},C,se))},currentTarget:A}]})}}for(var nn=0;nn<Vh.length;nn++){var Fn=Vh[nn],Dr=Fn.toLowerCase(),Xn=Fn[0].toUpperCase()+Fn.slice(1);Ms(Dr,"on"+Xn)}Ms(Fp,"onAnimationEnd"),Ms(Fh,"onAnimationIteration"),Ms(Uv,"onAnimationStart"),Ms("dblclick","onDoubleClick"),Ms("focusin","onFocus"),Ms("focusout","onBlur"),Ms(Lb,"onTransitionRun"),Ms(lA,"onTransitionStart"),Ms(Ub,"onTransitionCancel"),Ms(zv,"onTransitionEnd"),Ge("onMouseEnter",["mouseout","mouseover"]),Ge("onMouseLeave",["mouseout","mouseover"]),Ge("onPointerEnter",["pointerout","pointerover"]),Ge("onPointerLeave",["pointerout","pointerover"]),fe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fe("onBeforeInput",["compositionend","keypress","textInput","paste"]),fe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bs));function ZI(o,u){u=(u&4)!==0;for(var m=0;m<o.length;m++){var y=o[m],A=y.event;y=y.listeners;e:{var C=void 0;if(u)for(var k=y.length-1;0<=k;k--){var $=y[k],se=$.instance,Ae=$.currentTarget;if($=$.listener,se!==C&&A.isPropagationStopped())break e;C=$,A.currentTarget=Ae;try{C(A)}catch(We){Hh(We)}A.currentTarget=null,C=se}else for(k=0;k<y.length;k++){if($=y[k],se=$.instance,Ae=$.currentTarget,$=$.listener,se!==C&&A.isPropagationStopped())break e;C=$,A.currentTarget=Ae;try{C(A)}catch(We){Hh(We)}A.currentTarget=null,C=se}}}}function Bn(o,u){var m=u[ae];m===void 0&&(m=u[ae]=new Set);var y=o+"__bubble";m.has(y)||(KI(u,o,2,!1),m.add(y))}function yA(o,u,m){var y=0;u&&(y|=4),KI(m,o,y,u)}var D_="_reactListening"+Math.random().toString(36).slice(2);function xA(o){if(!o[D_]){o[D_]=!0,ce.forEach(function(m){m!=="selectionchange"&&(vA.has(m)||yA(m,!1,o),yA(m,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[D_]||(u[D_]=!0,yA("selectionchange",!1,u))}}function KI(o,u,m,y){switch(AN(u)){case 2:var A=sq;break;case 8:A=oq;break;default:A=NA}m=A.bind(null,u,m,o),A=void 0,!yv||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(A=!0),y?A!==void 0?o.addEventListener(u,m,{capture:!0,passive:A}):o.addEventListener(u,m,!0):A!==void 0?o.addEventListener(u,m,{passive:A}):o.addEventListener(u,m,!1)}function bA(o,u,m,y,A){var C=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var k=y.tag;if(k===3||k===4){var $=y.stateNode.containerInfo;if($===A)break;if(k===4)for(k=y.return;k!==null;){var se=k.tag;if((se===3||se===4)&&k.stateNode.containerInfo===A)return;k=k.return}for(;$!==null;){if(k=vt($),k===null)return;if(se=k.tag,se===5||se===6||se===26||se===27){y=C=k;continue e}$=$.parentNode}}y=y.return}vv(function(){var Ae=C,We=Tp(m),Ke=[];e:{var Re=Ss.get(o);if(Re!==void 0){var Be=Dh,kt=o;switch(o){case"keypress":if(Oh(m)===0)break e;case"keydown":case"keyup":Be=Xu;break;case"focusin":kt="focus",Be=Op;break;case"focusout":kt="blur",Be=Op;break;case"beforeblur":case"afterblur":Be=Op;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=xv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=mb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=_b;break;case Fp:case Fh:case Uv:Be=aA;break;case zv:Be=oA;break;case"scroll":case"scrollend":Be=db;break;case"wheel":Be=Mb;break;case"copy":case"cut":case"paste":Be=vb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=Sv;break;case"toggle":case"beforetoggle":Be=Eb}var an=(u&4)!==0,di=!an&&(o==="scroll"||o==="scrollend"),be=an?Re!==null?Re+"Capture":null:Re;an=[];for(var he=Ae,Ee;he!==null;){var $e=he;if(Ee=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||Ee===null||be===null||($e=ef(he,be),$e!=null&&an.push(O0(he,$e,Ee))),di)break;he=he.return}0<an.length&&(Re=new Be(Re,kt,null,m,We),Ke.push({event:Re,listeners:an}))}}if((u&7)===0){e:{if(Re=o==="mouseover"||o==="pointerover",Be=o==="mouseout"||o==="pointerout",Re&&m!==Ap&&(kt=m.relatedTarget||m.fromElement)&&(vt(kt)||kt[Z]))break e;if((Be||Re)&&(Re=We.window===We?We:(Re=We.ownerDocument)?Re.defaultView||Re.parentWindow:window,Be?(kt=m.relatedTarget||m.toElement,Be=Ae,kt=kt?vt(kt):null,kt!==null&&(di=a(kt),an=kt.tag,kt!==di||an!==5&&an!==27&&an!==6)&&(kt=null)):(Be=null,kt=Ae),Be!==kt)){if(an=xv,$e="onMouseLeave",be="onMouseEnter",he="mouse",(o==="pointerout"||o==="pointerover")&&(an=Sv,$e="onPointerLeave",be="onPointerEnter",he="pointer"),di=Be==null?Re:bt(Be),Ee=kt==null?Re:bt(kt),Re=new an($e,he+"leave",Be,m,We),Re.target=di,Re.relatedTarget=Ee,$e=null,vt(We)===Ae&&(an=new an(be,he+"enter",kt,m,We),an.target=Ee,an.relatedTarget=di,$e=an),di=$e,Be&&kt)t:{for(an=IW,be=Be,he=kt,Ee=0,$e=be;$e;$e=an($e))Ee++;$e=0;for(var Jt=he;Jt;Jt=an(Jt))$e++;for(;0<Ee-$e;)be=an(be),Ee--;for(;0<$e-Ee;)he=an(he),$e--;for(;Ee--;){if(be===he||he!==null&&be===he.alternate){an=be;break t}be=an(be),he=an(he)}an=null}else an=null;Be!==null&&QI(Ke,Re,Be,an,!1),kt!==null&&di!==null&&QI(Ke,di,kt,an,!0)}}e:{if(Re=Ae?bt(Ae):window,Be=Re.nodeName&&Re.nodeName.toLowerCase(),Be==="select"||Be==="input"&&Re.type==="file")var Kn=Rv;else if(Cv(Re))if(vo)Kn=Db;else{Kn=Dv;var qt=Pb}else Be=Re.nodeName,!Be||Be.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Ae&&Gu(Ae.elementType)&&(Kn=Rv):Kn=Ob;if(Kn&&(Kn=Kn(o,Ae))){Bp(Ke,Kn,m,We);break e}qt&&qt(o,Re,Ae),o==="focusout"&&Ae&&Re.type==="number"&&Ae.memoizedProps.value!=null&&jn(Re,"number",Re.value)}switch(qt=Ae?bt(Ae):window,o){case"focusin":(Cv(qt)||qt.contentEditable==="true")&&(yo=qt,xo=Ae,ff=null);break;case"focusout":ff=xo=yo=null;break;case"mousedown":kp=!0;break;case"contextmenu":case"mouseup":case"dragend":kp=!1,hf(Ke,m,We);break;case"selectionchange":if(Nb)break;case"keydown":case"keyup":hf(Ke,m,We)}var En;if($u)e:{switch(o){case"compositionstart":var Vn="onCompositionStart";break e;case"compositionend":Vn="onCompositionEnd";break e;case"compositionupdate":Vn="onCompositionUpdate";break e}Vn=void 0}else Yu?zp(o,m)&&(Vn="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(Vn="onCompositionStart");Vn&&(wv&&m.locale!=="ko"&&(Yu||Vn!=="onCompositionStart"?Vn==="onCompositionEnd"&&Yu&&(En=Ph()):(Za=We,Rp="value"in Za?Za.value:Za.textContent,Yu=!0)),qt=I_(Ae,Vn),0<qt.length&&(Vn=new Dp(Vn,o,null,m,We),Ke.push({event:Vn,listeners:qt}),En?Vn.data=En:(En=Ev(m),En!==null&&(Vn.data=En)))),(En=Up?Cb(o,m):Av(o,m))&&(Vn=I_(Ae,"onBeforeInput"),0<Vn.length&&(qt=new Dp("onBeforeInput","beforeinput",null,m,We),Ke.push({event:qt,listeners:Vn}),qt.data=En)),Li(Ke,o,Ae,m,We)}ZI(Ke,u)})}function O0(o,u,m){return{instance:o,listener:u,currentTarget:m}}function I_(o,u){for(var m=u+"Capture",y=[];o!==null;){var A=o,C=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||C===null||(A=ef(o,m),A!=null&&y.unshift(O0(o,A,C)),A=ef(o,u),A!=null&&y.push(O0(o,A,C))),o.tag===3)return y;o=o.return}return[]}function IW(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function QI(o,u,m,y,A){for(var C=u._reactName,k=[];m!==null&&m!==y;){var $=m,se=$.alternate,Ae=$.stateNode;if($=$.tag,se!==null&&se===y)break;$!==5&&$!==26&&$!==27||Ae===null||(se=Ae,A?(Ae=ef(m,C),Ae!=null&&k.unshift(O0(m,Ae,se))):A||(Ae=ef(m,C),Ae!=null&&k.push(O0(m,Ae,se)))),m=m.return}k.length!==0&&o.push({event:u,listeners:k})}var NW=/\r\n?/g,LW=/\u0000|\uFFFD/g;function JI(o){return(typeof o=="string"?o:""+o).replace(NW,`
`).replace(LW,"")}function eN(o,u){return u=JI(u),JI(o)===u}function hi(o,u,m,y,A,C){switch(m){case"children":typeof y=="string"?u==="body"||u==="textarea"&&y===""||Yr(o,y):(typeof y=="number"||typeof y=="bigint")&&u!=="body"&&Yr(o,""+y);break;case"className":Zt(o,"class",y);break;case"tabIndex":Zt(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Zt(o,m,y);break;case"style":mo(o,y,C);break;case"data":if(u!=="object"){Zt(o,"data",y);break}case"src":case"href":if(y===""&&(u!=="a"||m!=="href")){o.removeAttribute(m);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(m);break}y=Rh(""+y),o.setAttribute(m,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(m==="formAction"?(u!=="input"&&hi(o,u,"name",A.name,A,null),hi(o,u,"formEncType",A.formEncType,A,null),hi(o,u,"formMethod",A.formMethod,A,null),hi(o,u,"formTarget",A.formTarget,A,null)):(hi(o,u,"encType",A.encType,A,null),hi(o,u,"method",A.method,A,null),hi(o,u,"target",A.target,A,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(m);break}y=Rh(""+y),o.setAttribute(m,y);break;case"onClick":y!=null&&(o.onclick=il);break;case"onScroll":y!=null&&Bn("scroll",o);break;case"onScrollEnd":y!=null&&Bn("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(m=y.__html,m!=null){if(A.children!=null)throw Error(i(60));o.innerHTML=m}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}m=Rh(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(m,""+y):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":y===!0?o.setAttribute(m,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(m,y):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(m,y):o.removeAttribute(m);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(m):o.setAttribute(m,y);break;case"popover":Bn("beforetoggle",o),Bn("toggle",o),Rt(o,"popover",y);break;case"xlinkActuate":pt(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":pt(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":pt(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":pt(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":pt(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":pt(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":pt(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":pt(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":pt(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Rt(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=fb.get(m)||m,Rt(o,m,y))}}function _A(o,u,m,y,A,C){switch(m){case"style":mo(o,y,C);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(m=y.__html,m!=null){if(A.children!=null)throw Error(i(60));o.innerHTML=m}}break;case"children":typeof y=="string"?Yr(o,y):(typeof y=="number"||typeof y=="bigint")&&Yr(o,""+y);break;case"onScroll":y!=null&&Bn("scroll",o);break;case"onScrollEnd":y!=null&&Bn("scrollend",o);break;case"onClick":y!=null&&(o.onclick=il);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ue.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(A=m.endsWith("Capture"),u=m.slice(2,A?m.length-7:void 0),C=o[V]||null,C=C!=null?C[m]:null,typeof C=="function"&&o.removeEventListener(u,C,A),typeof y=="function")){typeof C!="function"&&C!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(u,y,A);break e}m in o?o[m]=y:y===!0?o.setAttribute(m,""):Rt(o,m,y)}}}function Sa(o,u,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bn("error",o),Bn("load",o);var y=!1,A=!1,C;for(C in m)if(m.hasOwnProperty(C)){var k=m[C];if(k!=null)switch(C){case"src":y=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:hi(o,u,C,k,m,null)}}A&&hi(o,u,"srcSet",m.srcSet,m,null),y&&hi(o,u,"src",m.src,m,null);return;case"input":Bn("invalid",o);var $=C=k=A=null,se=null,Ae=null;for(y in m)if(m.hasOwnProperty(y)){var We=m[y];if(We!=null)switch(y){case"name":A=We;break;case"type":k=We;break;case"checked":se=We;break;case"defaultChecked":Ae=We;break;case"value":C=We;break;case"defaultValue":$=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(i(137,u));break;default:hi(o,u,y,We,m,null)}}Ci(o,C,$,se,Ae,k,A,!1);return;case"select":Bn("invalid",o),y=k=C=null;for(A in m)if(m.hasOwnProperty(A)&&($=m[A],$!=null))switch(A){case"value":C=$;break;case"defaultValue":k=$;break;case"multiple":y=$;default:hi(o,u,A,$,m,null)}u=C,m=k,o.multiple=!!y,u!=null?yi(o,!!y,u,!1):m!=null&&yi(o,!!y,m,!0);return;case"textarea":Bn("invalid",o),C=A=y=null;for(k in m)if(m.hasOwnProperty(k)&&($=m[k],$!=null))switch(k){case"value":y=$;break;case"defaultValue":A=$;break;case"children":C=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(i(91));break;default:hi(o,u,k,$,m,null)}Fi(o,y,A,C);return;case"option":for(se in m)if(m.hasOwnProperty(se)&&(y=m[se],y!=null))switch(se){case"selected":o.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:hi(o,u,se,y,m,null)}return;case"dialog":Bn("beforetoggle",o),Bn("toggle",o),Bn("cancel",o),Bn("close",o);break;case"iframe":case"object":Bn("load",o);break;case"video":case"audio":for(y=0;y<Bs.length;y++)Bn(Bs[y],o);break;case"image":Bn("error",o),Bn("load",o);break;case"details":Bn("toggle",o);break;case"embed":case"source":case"link":Bn("error",o),Bn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ae in m)if(m.hasOwnProperty(Ae)&&(y=m[Ae],y!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:hi(o,u,Ae,y,m,null)}return;default:if(Gu(u)){for(We in m)m.hasOwnProperty(We)&&(y=m[We],y!==void 0&&_A(o,u,We,y,m,void 0));return}}for($ in m)m.hasOwnProperty($)&&(y=m[$],y!=null&&hi(o,u,$,y,m,null))}function UW(o,u,m,y){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,C=null,k=null,$=null,se=null,Ae=null,We=null;for(Be in m){var Ke=m[Be];if(m.hasOwnProperty(Be)&&Ke!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":se=Ke;default:y.hasOwnProperty(Be)||hi(o,u,Be,null,y,Ke)}}for(var Re in y){var Be=y[Re];if(Ke=m[Re],y.hasOwnProperty(Re)&&(Be!=null||Ke!=null))switch(Re){case"type":C=Be;break;case"name":A=Be;break;case"checked":Ae=Be;break;case"defaultChecked":We=Be;break;case"value":k=Be;break;case"defaultValue":$=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(i(137,u));break;default:Be!==Ke&&hi(o,u,Re,Be,y,Ke)}}$n(o,k,$,se,Ae,We,C,A);return;case"select":Be=k=$=Re=null;for(C in m)if(se=m[C],m.hasOwnProperty(C)&&se!=null)switch(C){case"value":break;case"multiple":Be=se;default:y.hasOwnProperty(C)||hi(o,u,C,null,y,se)}for(A in y)if(C=y[A],se=m[A],y.hasOwnProperty(A)&&(C!=null||se!=null))switch(A){case"value":Re=C;break;case"defaultValue":$=C;break;case"multiple":k=C;default:C!==se&&hi(o,u,A,C,y,se)}u=$,m=k,y=Be,Re!=null?yi(o,!!m,Re,!1):!!y!=!!m&&(u!=null?yi(o,!!m,u,!0):yi(o,!!m,m?[]:"",!1));return;case"textarea":Be=Re=null;for($ in m)if(A=m[$],m.hasOwnProperty($)&&A!=null&&!y.hasOwnProperty($))switch($){case"value":break;case"children":break;default:hi(o,u,$,null,y,A)}for(k in y)if(A=y[k],C=m[k],y.hasOwnProperty(k)&&(A!=null||C!=null))switch(k){case"value":Re=A;break;case"defaultValue":Be=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:A!==C&&hi(o,u,k,A,y,C)}qn(o,Re,Be);return;case"option":for(var kt in m)if(Re=m[kt],m.hasOwnProperty(kt)&&Re!=null&&!y.hasOwnProperty(kt))switch(kt){case"selected":o.selected=!1;break;default:hi(o,u,kt,null,y,Re)}for(se in y)if(Re=y[se],Be=m[se],y.hasOwnProperty(se)&&Re!==Be&&(Re!=null||Be!=null))switch(se){case"selected":o.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:hi(o,u,se,Re,y,Be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var an in m)Re=m[an],m.hasOwnProperty(an)&&Re!=null&&!y.hasOwnProperty(an)&&hi(o,u,an,null,y,Re);for(Ae in y)if(Re=y[Ae],Be=m[Ae],y.hasOwnProperty(Ae)&&Re!==Be&&(Re!=null||Be!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,u));break;default:hi(o,u,Ae,Re,y,Be)}return;default:if(Gu(u)){for(var di in m)Re=m[di],m.hasOwnProperty(di)&&Re!==void 0&&!y.hasOwnProperty(di)&&_A(o,u,di,void 0,y,Re);for(We in y)Re=y[We],Be=m[We],!y.hasOwnProperty(We)||Re===Be||Re===void 0&&Be===void 0||_A(o,u,We,Re,y,Be);return}}for(var be in m)Re=m[be],m.hasOwnProperty(be)&&Re!=null&&!y.hasOwnProperty(be)&&hi(o,u,be,null,y,Re);for(Ke in y)Re=y[Ke],Be=m[Ke],!y.hasOwnProperty(Ke)||Re===Be||Re==null&&Be==null||hi(o,u,Ke,Re,y,Be)}function tN(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zW(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,m=performance.getEntriesByType("resource"),y=0;y<m.length;y++){var A=m[y],C=A.transferSize,k=A.initiatorType,$=A.duration;if(C&&$&&tN(k)){for(k=0,$=A.responseEnd,y+=1;y<m.length;y++){var se=m[y],Ae=se.startTime;if(Ae>$)break;var We=se.transferSize,Ke=se.initiatorType;We&&tN(Ke)&&(se=se.responseEnd,k+=We*(se<$?1:($-Ae)/(se-Ae)))}if(--y,u+=8*(C+k)/(A.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var SA=null,MA=null;function N_(o){return o.nodeType===9?o:o.ownerDocument}function nN(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iN(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function wA(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var EA=null;function BW(){var o=window.event;return o&&o.type==="popstate"?o===EA?!1:(EA=o,!0):(EA=null,!1)}var rN=typeof setTimeout=="function"?setTimeout:void 0,kW=typeof clearTimeout=="function"?clearTimeout:void 0,aN=typeof Promise=="function"?Promise:void 0,FW=typeof queueMicrotask=="function"?queueMicrotask:typeof aN<"u"?function(o){return aN.resolve(null).then(o).catch(VW)}:rN;function VW(o){setTimeout(function(){throw o})}function Bf(o){return o==="head"}function sN(o,u){var m=u,y=0;do{var A=m.nextSibling;if(o.removeChild(m),A&&A.nodeType===8)if(m=A.data,m==="/$"||m==="/&"){if(y===0){o.removeChild(A),Om(u);return}y--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")y++;else if(m==="html")D0(o.ownerDocument.documentElement);else if(m==="head"){m=o.ownerDocument.head,D0(m);for(var C=m.firstChild;C;){var k=C.nextSibling,$=C.nodeName;C[lt]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&C.rel.toLowerCase()==="stylesheet"||m.removeChild(C),C=k}}else m==="body"&&D0(o.ownerDocument.body);m=A}while(m);Om(u)}function oN(o,u){var m=o;o=0;do{var y=m.nextSibling;if(m.nodeType===1?u?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(u?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),y&&y.nodeType===8)if(m=y.data,m==="/$"){if(o===0)break;o--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||o++;m=y}while(m)}function AA(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var m=u;switch(u=u.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":AA(m),nt(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function HW(o,u,m,y){for(;o.nodeType===1;){var A=m;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[lt])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(C=o.getAttribute("rel"),C==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(C!==A.rel||o.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||o.getAttribute("title")!==(A.title==null?null:A.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(C=o.getAttribute("src"),(C!==(A.src==null?null:A.src)||o.getAttribute("type")!==(A.type==null?null:A.type)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&C&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var C=A.name==null?null:""+A.name;if(A.type==="hidden"&&o.getAttribute("name")===C)return o}else return o;if(o=Bo(o.nextSibling),o===null)break}return null}function jW(o,u,m){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=Bo(o.nextSibling),o===null))return null;return o}function lN(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=Bo(o.nextSibling),o===null))return null;return o}function TA(o){return o.data==="$?"||o.data==="$~"}function CA(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function GW(o,u){var m=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||m.readyState!=="loading")u();else{var y=function(){u(),m.removeEventListener("DOMContentLoaded",y)};m.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function Bo(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var RA=null;function uN(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"||m==="/&"){if(u===0)return Bo(o.nextSibling);u--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||u++}o=o.nextSibling}return null}function cN(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(u===0)return o;u--}else m!=="/$"&&m!=="/&"||u++}o=o.previousSibling}return null}function fN(o,u,m){switch(u=N_(m),o){case"html":if(o=u.documentElement,!o)throw Error(i(452));return o;case"head":if(o=u.head,!o)throw Error(i(453));return o;case"body":if(o=u.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function D0(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);nt(o)}var ko=new Map,hN=new Set;function L_(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var xc=K.d;K.d={f:WW,r:qW,D:XW,C:$W,L:YW,m:ZW,X:QW,S:KW,M:JW};function WW(){var o=xc.f(),u=Js();return o||u}function qW(o){var u=gt(o);u!==null&&u.tag===5&&u.type==="form"?v_(u):xc.r(o)}var Cm=typeof document>"u"?null:document;function dN(o,u,m){var y=Cm;if(y&&typeof u=="string"&&u){var A=At(u);A='link[rel="'+o+'"][href="'+A+'"]',typeof m=="string"&&(A+='[crossorigin="'+m+'"]'),hN.has(A)||(hN.add(A),o={rel:o,crossOrigin:m,href:u},y.querySelector(A)===null&&(u=y.createElement("link"),Sa(u,"link",o),oe(u),y.head.appendChild(u)))}}function XW(o){xc.D(o),dN("dns-prefetch",o,null)}function $W(o,u){xc.C(o,u),dN("preconnect",o,u)}function YW(o,u,m){xc.L(o,u,m);var y=Cm;if(y&&o&&u){var A='link[rel="preload"][as="'+At(u)+'"]';u==="image"&&m&&m.imageSrcSet?(A+='[imagesrcset="'+At(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(A+='[imagesizes="'+At(m.imageSizes)+'"]')):A+='[href="'+At(o)+'"]';var C=A;switch(u){case"style":C=Rm(o);break;case"script":C=Pm(o)}ko.has(C)||(o=g({rel:"preload",href:u==="image"&&m&&m.imageSrcSet?void 0:o,as:u},m),ko.set(C,o),y.querySelector(A)!==null||u==="style"&&y.querySelector(I0(C))||u==="script"&&y.querySelector(N0(C))||(u=y.createElement("link"),Sa(u,"link",o),oe(u),y.head.appendChild(u)))}}function ZW(o,u){xc.m(o,u);var m=Cm;if(m&&o){var y=u&&typeof u.as=="string"?u.as:"script",A='link[rel="modulepreload"][as="'+At(y)+'"][href="'+At(o)+'"]',C=A;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Pm(o)}if(!ko.has(C)&&(o=g({rel:"modulepreload",href:o},u),ko.set(C,o),m.querySelector(A)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(N0(C)))return}y=m.createElement("link"),Sa(y,"link",o),oe(y),m.head.appendChild(y)}}}function KW(o,u,m){xc.S(o,u,m);var y=Cm;if(y&&o){var A=H(y).hoistableStyles,C=Rm(o);u=u||"default";var k=A.get(C);if(!k){var $={loading:0,preload:null};if(k=y.querySelector(I0(C)))$.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":u},m),(m=ko.get(C))&&PA(o,m);var se=k=y.createElement("link");oe(se),Sa(se,"link",o),se._p=new Promise(function(Ae,We){se.onload=Ae,se.onerror=We}),se.addEventListener("load",function(){$.loading|=1}),se.addEventListener("error",function(){$.loading|=2}),$.loading|=4,U_(k,u,y)}k={type:"stylesheet",instance:k,count:1,state:$},A.set(C,k)}}}function QW(o,u){xc.X(o,u);var m=Cm;if(m&&o){var y=H(m).hoistableScripts,A=Pm(o),C=y.get(A);C||(C=m.querySelector(N0(A)),C||(o=g({src:o,async:!0},u),(u=ko.get(A))&&OA(o,u),C=m.createElement("script"),oe(C),Sa(C,"link",o),m.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(A,C))}}function JW(o,u){xc.M(o,u);var m=Cm;if(m&&o){var y=H(m).hoistableScripts,A=Pm(o),C=y.get(A);C||(C=m.querySelector(N0(A)),C||(o=g({src:o,async:!0,type:"module"},u),(u=ko.get(A))&&OA(o,u),C=m.createElement("script"),oe(C),Sa(C,"link",o),m.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(A,C))}}function pN(o,u,m,y){var A=(A=me.current)?L_(A):null;if(!A)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(u=Rm(m.href),m=H(A).hoistableStyles,y=m.get(u),y||(y={type:"style",instance:null,count:0,state:null},m.set(u,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=Rm(m.href);var C=H(A).hoistableStyles,k=C.get(o);if(k||(A=A.ownerDocument||A,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(o,k),(C=A.querySelector(I0(o)))&&!C._p&&(k.instance=C,k.state.loading=5),ko.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},ko.set(o,m),C||eq(A,o,m,k.state))),u&&y===null)throw Error(i(528,""));return k}if(u&&y!==null)throw Error(i(529,""));return null;case"script":return u=m.async,m=m.src,typeof m=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Pm(m),m=H(A).hoistableScripts,y=m.get(u),y||(y={type:"script",instance:null,count:0,state:null},m.set(u,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function Rm(o){return'href="'+At(o)+'"'}function I0(o){return'link[rel="stylesheet"]['+o+"]"}function mN(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function eq(o,u,m,y){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?y.loading=1:(u=o.createElement("link"),y.preload=u,u.addEventListener("load",function(){return y.loading|=1}),u.addEventListener("error",function(){return y.loading|=2}),Sa(u,"link",m),oe(u),o.head.appendChild(u))}function Pm(o){return'[src="'+At(o)+'"]'}function N0(o){return"script[async]"+o}function gN(o,u,m){if(u.count++,u.instance===null)switch(u.type){case"style":var y=o.querySelector('style[data-href~="'+At(m.href)+'"]');if(y)return u.instance=y,oe(y),y;var A=g({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),oe(y),Sa(y,"style",A),U_(y,m.precedence,o),u.instance=y;case"stylesheet":A=Rm(m.href);var C=o.querySelector(I0(A));if(C)return u.state.loading|=4,u.instance=C,oe(C),C;y=mN(m),(A=ko.get(A))&&PA(y,A),C=(o.ownerDocument||o).createElement("link"),oe(C);var k=C;return k._p=new Promise(function($,se){k.onload=$,k.onerror=se}),Sa(C,"link",y),u.state.loading|=4,U_(C,m.precedence,o),u.instance=C;case"script":return C=Pm(m.src),(A=o.querySelector(N0(C)))?(u.instance=A,oe(A),A):(y=m,(A=ko.get(C))&&(y=g({},m),OA(y,A)),o=o.ownerDocument||o,A=o.createElement("script"),oe(A),Sa(A,"link",y),o.head.appendChild(A),u.instance=A);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(y=u.instance,u.state.loading|=4,U_(y,m.precedence,o));return u.instance}function U_(o,u,m){for(var y=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=y.length?y[y.length-1]:null,C=A,k=0;k<y.length;k++){var $=y[k];if($.dataset.precedence===u)C=$;else if(C!==A)break}C?C.parentNode.insertBefore(o,C.nextSibling):(u=m.nodeType===9?m.head:m,u.insertBefore(o,u.firstChild))}function PA(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function OA(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var z_=null;function vN(o,u,m){if(z_===null){var y=new Map,A=z_=new Map;A.set(m,y)}else A=z_,y=A.get(m),y||(y=new Map,A.set(m,y));if(y.has(o))return y;for(y.set(o,null),m=m.getElementsByTagName(o),A=0;A<m.length;A++){var C=m[A];if(!(C[lt]||C[vi]||o==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var k=C.getAttribute(u)||"";k=o+k;var $=y.get(k);$?$.push(C):y.set(k,[C])}}return y}function yN(o,u,m){o=o.ownerDocument||o,o.head.insertBefore(m,u==="title"?o.querySelector("head > title"):null)}function tq(o,u,m){if(m===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function xN(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function nq(o,u,m,y){if(m.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var A=Rm(y.href),C=u.querySelector(I0(A));if(C){u=C._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=B_.bind(o),u.then(o,o)),m.state.loading|=4,m.instance=C,oe(C);return}C=u.ownerDocument||u,y=mN(y),(A=ko.get(A))&&PA(y,A),C=C.createElement("link"),oe(C);var k=C;k._p=new Promise(function($,se){k.onload=$,k.onerror=se}),Sa(C,"link",y),m.instance=C}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(m,u),(u=m.state.preload)&&(m.state.loading&3)===0&&(o.count++,m=B_.bind(o),u.addEventListener("load",m),u.addEventListener("error",m))}}var DA=0;function iq(o,u){return o.stylesheets&&o.count===0&&F_(o,o.stylesheets),0<o.count||0<o.imgCount?function(m){var y=setTimeout(function(){if(o.stylesheets&&F_(o,o.stylesheets),o.unsuspend){var C=o.unsuspend;o.unsuspend=null,C()}},6e4+u);0<o.imgBytes&&DA===0&&(DA=62500*zW());var A=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&F_(o,o.stylesheets),o.unsuspend)){var C=o.unsuspend;o.unsuspend=null,C()}},(o.imgBytes>DA?50:800)+u);return o.unsuspend=m,function(){o.unsuspend=null,clearTimeout(y),clearTimeout(A)}}:null}function B_(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)F_(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var k_=null;function F_(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,k_=new Map,u.forEach(rq,o),k_=null,B_.call(o))}function rq(o,u){if(!(u.state.loading&4)){var m=k_.get(o);if(m)var y=m.get(null);else{m=new Map,k_.set(o,m);for(var A=o.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<A.length;C++){var k=A[C];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(m.set(k.dataset.precedence,k),y=k)}y&&m.set(null,y)}A=u.instance,k=A.getAttribute("data-precedence"),C=m.get(k)||y,C===y&&m.set(null,A),m.set(k,A),this.count++,y=B_.bind(this),A.addEventListener("load",y),A.addEventListener("error",y),C?C.parentNode.insertBefore(A,C.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(A,o.firstChild)),u.state.loading|=4}}var L0={$$typeof:R,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function aq(o,u,m,y,A,C,k,$,se){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=In(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=In(0),this.hiddenUpdates=In(null),this.identifierPrefix=y,this.onUncaughtError=A,this.onCaughtError=C,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function bN(o,u,m,y,A,C,k,$,se,Ae,We,Ke){return o=new aq(o,u,m,k,se,Ae,We,Ke,$),u=1,C===!0&&(u|=24),C=Ri(3,null,null,u),o.current=C,C.stateNode=o,u=kv(),u.refCount++,o.pooledCache=u,u.refCount++,C.memoizedState={element:y,isDehydrated:m,cache:u},Yh(C),o}function _N(o){return o?(o=Zl,o):Zl}function SN(o,u,m,y,A,C){A=_N(A),y.context===null?y.context=A:y.pendingContext=A,y=fl(u),y.payload={element:m},C=C===void 0?null:C,C!==null&&(y.callback=C),m=ru(o,y,u),m!==null&&(Mn(m,o,u),au(m,o,u))}function MN(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<u?m:u}}function IA(o,u){MN(o,u),(o=o.alternate)&&MN(o,u)}function wN(o){if(o.tag===13||o.tag===31){var u=ma(o,67108864);u!==null&&Mn(u,o,67108864),IA(o,67108864)}}function EN(o){if(o.tag===13||o.tag===31){var u=as();u=$s(u);var m=ma(o,u);m!==null&&Mn(m,o,u),IA(o,u)}}var V_=!0;function sq(o,u,m,y){var A=q.T;q.T=null;var C=K.p;try{K.p=2,NA(o,u,m,y)}finally{K.p=C,q.T=A}}function oq(o,u,m,y){var A=q.T;q.T=null;var C=K.p;try{K.p=8,NA(o,u,m,y)}finally{K.p=C,q.T=A}}function NA(o,u,m,y){if(V_){var A=LA(y);if(A===null)bA(o,u,y,H_,m),TN(o,y);else if(uq(A,o,u,m,y))y.stopPropagation();else if(TN(o,y),u&4&&-1<lq.indexOf(o)){for(;A!==null;){var C=gt(A);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var k=at(C.pendingLanes);if(k!==0){var $=C;for($.pendingLanes|=2,$.entangledLanes|=2;k;){var se=1<<31-wt(k);$.entanglements[1]|=se,k&=~se}ct(C),($t&6)===0&&(Ji=F()+500,It(0))}}break;case 31:case 13:$=ma(C,2),$!==null&&Mn($,C,2),Js(),IA(C,2)}if(C=LA(y),C===null&&bA(o,u,y,H_,m),C===A)break;A=C}A!==null&&y.stopPropagation()}else bA(o,u,y,null,m)}}function LA(o){return o=Tp(o),UA(o)}var H_=null;function UA(o){if(H_=null,o=vt(o),o!==null){var u=a(o);if(u===null)o=null;else{var m=u.tag;if(m===13){if(o=s(u),o!==null)return o;o=null}else if(m===31){if(o=l(u),o!==null)return o;o=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return H_=o,null}function AN(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ge()){case Ie:return 2;case Xe:return 8;case Ue:case Et:return 32;case dt:return 268435456;default:return 32}default:return 32}}var zA=!1,kf=null,Ff=null,Vf=null,U0=new Map,z0=new Map,Hf=[],lq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TN(o,u){switch(o){case"focusin":case"focusout":kf=null;break;case"dragenter":case"dragleave":Ff=null;break;case"mouseover":case"mouseout":Vf=null;break;case"pointerover":case"pointerout":U0.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":z0.delete(u.pointerId)}}function B0(o,u,m,y,A,C){return o===null||o.nativeEvent!==C?(o={blockedOn:u,domEventName:m,eventSystemFlags:y,nativeEvent:C,targetContainers:[A]},u!==null&&(u=gt(u),u!==null&&wN(u)),o):(o.eventSystemFlags|=y,u=o.targetContainers,A!==null&&u.indexOf(A)===-1&&u.push(A),o)}function uq(o,u,m,y,A){switch(u){case"focusin":return kf=B0(kf,o,u,m,y,A),!0;case"dragenter":return Ff=B0(Ff,o,u,m,y,A),!0;case"mouseover":return Vf=B0(Vf,o,u,m,y,A),!0;case"pointerover":var C=A.pointerId;return U0.set(C,B0(U0.get(C)||null,o,u,m,y,A)),!0;case"gotpointercapture":return C=A.pointerId,z0.set(C,B0(z0.get(C)||null,o,u,m,y,A)),!0}return!1}function CN(o){var u=vt(o.target);if(u!==null){var m=a(u);if(m!==null){if(u=m.tag,u===13){if(u=s(m),u!==null){o.blockedOn=u,ln(o.priority,function(){EN(m)});return}}else if(u===31){if(u=l(m),u!==null){o.blockedOn=u,ln(o.priority,function(){EN(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function j_(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var m=LA(o.nativeEvent);if(m===null){m=o.nativeEvent;var y=new m.constructor(m.type,m);Ap=y,m.target.dispatchEvent(y),Ap=null}else return u=gt(m),u!==null&&wN(u),o.blockedOn=m,!1;u.shift()}return!0}function RN(o,u,m){j_(o)&&m.delete(u)}function cq(){zA=!1,kf!==null&&j_(kf)&&(kf=null),Ff!==null&&j_(Ff)&&(Ff=null),Vf!==null&&j_(Vf)&&(Vf=null),U0.forEach(RN),z0.forEach(RN)}function G_(o,u){o.blockedOn===u&&(o.blockedOn=null,zA||(zA=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cq)))}var W_=null;function PN(o){W_!==o&&(W_=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){W_===o&&(W_=null);for(var u=0;u<o.length;u+=3){var m=o[u],y=o[u+1],A=o[u+2];if(typeof y!="function"){if(UA(y||m)===null)continue;break}var C=gt(m);C!==null&&(o.splice(u,3),u-=3,h0(C,{pending:!0,data:A,method:m.method,action:y},y,A))}}))}function Om(o){function u(se){return G_(se,o)}kf!==null&&G_(kf,o),Ff!==null&&G_(Ff,o),Vf!==null&&G_(Vf,o),U0.forEach(u),z0.forEach(u);for(var m=0;m<Hf.length;m++){var y=Hf[m];y.blockedOn===o&&(y.blockedOn=null)}for(;0<Hf.length&&(m=Hf[0],m.blockedOn===null);)CN(m),m.blockedOn===null&&Hf.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(y=0;y<m.length;y+=3){var A=m[y],C=m[y+1],k=A[V]||null;if(typeof C=="function")k||PN(m);else if(k){var $=null;if(C&&C.hasAttribute("formAction")){if(A=C,k=C[V]||null)$=k.formAction;else if(UA(A)!==null)continue}else $=k.action;typeof $=="function"?m[y+1]=$:(m.splice(y,3),y-=3),PN(m)}}}function ON(){function o(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(k){return A=k})},focusReset:"manual",scroll:"manual"})}function u(){A!==null&&(A(),A=null),y||setTimeout(m,20)}function m(){if(!y&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,A=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(m,100),function(){y=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),A!==null&&(A(),A=null)}}}function BA(o){this._internalRoot=o}q_.prototype.render=BA.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(i(409));var m=u.current,y=as();SN(m,y,o,u,null,null)},q_.prototype.unmount=BA.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;SN(o.current,2,null,o,null,null),Js(),u[Z]=null}};function q_(o){this._internalRoot=o}q_.prototype.unstable_scheduleHydration=function(o){if(o){var u=Ar();o={blockedOn:null,target:o,priority:u};for(var m=0;m<Hf.length&&u!==0&&u<Hf[m].priority;m++);Hf.splice(m,0,o),m===0&&CN(o)}};var DN=e.version;if(DN!=="19.2.4")throw Error(i(527,DN,"19.2.4"));K.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=h(u),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var fq={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var X_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!X_.isDisabled&&X_.supportsFiber)try{Je=X_.inject(fq),Ze=X_}catch{}}return F0.createRoot=function(o,u){if(!r(o))throw Error(i(299));var m=!1,y="",A=w_,C=y0,k=x0;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(A=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),u=bN(o,1,!1,null,null,m,y,null,A,C,k,ON),o[Z]=u.current,xA(o),new BA(u)},F0.hydrateRoot=function(o,u,m){if(!r(o))throw Error(i(299));var y=!1,A="",C=w_,k=y0,$=x0,se=null;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onUncaughtError!==void 0&&(C=m.onUncaughtError),m.onCaughtError!==void 0&&(k=m.onCaughtError),m.onRecoverableError!==void 0&&($=m.onRecoverableError),m.formState!==void 0&&(se=m.formState)),u=bN(o,1,!0,u,m??null,y,A,se,C,k,$,ON),u.context=_N(null),m=u.current,y=as(),y=$s(y),A=fl(y),A.callback=null,ru(m,A,y),m=y,u.current.lanes=m,Er(u,m),ct(u),o[Z]=u.current,xA(o),new q_(u)},F0.version="19.2.4",F0}var HN;function Mq(){if(HN)return VA.exports;HN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),VA.exports=Sq(),VA.exports}var wV=Mq();/**
 * @license
 * Copyright 2010-2026 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const $g="183",wq={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Eq={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},EV=0,HR=1,AV=2,Aq=3,TV=0,bg=1,Ty=2,Bd=3,Lc=0,ps=1,Rl=2,Nl=0,Yd=1,P1=2,jR=3,GR=4,CV=5,Tq=6,ih=100,RV=101,PV=102,OV=103,DV=104,IV=200,NV=201,LV=202,UV=203,O1=204,D1=205,zV=206,BV=207,kV=208,FV=209,VV=210,HV=211,jV=212,GV=213,WV=214,I1=0,N1=1,L1=2,rp=3,U1=4,z1=5,B1=6,k1=7,Px=0,qV=1,XV=2,$o=0,kO=1,FO=2,VO=3,Rw=4,HO=5,jO=6,GO=7,WR="attached",$V="detached",dh=300,Bl=301,ph=302,_g=303,Cy=304,Yg=306,Wy=1e3,pr=1001,qy=1002,_r=1003,WO=1004,Cq=1004,cg=1005,Rq=1005,kn=1006,Ry=1007,Pq=1007,Pu=1008,qR=1008,aa=1009,Pw=1010,Ow=1011,Cg=1012,Ox=1013,co=1014,Bi=1015,rr=1016,Dw=1017,Iw=1018,Rg=1020,qO=35902,XO=35899,$O=1021,YO=1022,Sr=1023,zu=1026,ah=1027,Dx=1028,Ix=1029,ap=1030,Nw=1031,Oq=1032,Lw=1033,Py=33776,Oy=33777,Dy=33778,Iy=33779,F1=35840,V1=35841,H1=35842,j1=35843,G1=36196,W1=37492,q1=37496,X1=37488,$1=37489,Y1=37490,Z1=37491,K1=37808,Q1=37809,J1=37810,eM=37811,tM=37812,nM=37813,iM=37814,rM=37815,aM=37816,sM=37817,oM=37818,lM=37819,uM=37820,cM=37821,fM=36492,hM=36494,dM=36495,pM=36283,mM=36284,gM=36285,vM=36286,YV=2200,ZV=2201,KV=2202,Xy=2300,yM=2301,p1=2302,XR=2303,kd=2400,Fd=2401,$y=2402,Uw=2500,ZO=2501,Dq=0,Iq=1,Nq=2,QV=3200,Lq=3201,Uq=3202,zq=3203,bh=0,JV=1,Cc="",Ta="srgb",kl="srgb-linear",Yy="linear",oi="srgb",Bq="",kq="rg",Fq="ga",Vq=0,Dd=7680,Hq=7681,jq=7682,Gq=7683,Wq=34055,qq=34056,Xq=5386,$q=512,Yq=513,Zq=514,Kq=515,Qq=516,Jq=517,eX=518,$R=519,e6=512,t6=513,n6=514,zw=515,i6=516,r6=517,Bw=518,a6=519,Zy=35044,Zd=35048,tX=35040,nX=35045,iX=35049,rX=35041,aX=35046,sX=35050,oX=35042,lX="100",YR="300 es",io=2e3,sp=2001,uX={COMPUTE:"compute",RENDER:"render"},cX={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},fX={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"},hX={TEXTURE_COMPARE:"depthTextureCompare"};function dX(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const pX={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function fg(t,e){return new pX[t](e)}function s6(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ky(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function o6(){const t=Ky("canvas");return t.style.display="block",t}const jN={};let mh=null;function mX(t){mh=t}function gX(){return mh}function Qy(...t){const e="THREE."+t.shift();mh?mh("log",e,...t):console.log(e,...t)}function l6(t){const e=t[0];if(typeof e=="string"&&e.startsWith("TSL:")){const n=t[1];n&&n.isStackTrace?t[0]+=" "+n.getLocation():t[1]='Stack trace not available. Enable "THREE.Node.captureStackTrace" to capture stack traces.'}return t}function Ct(...t){t=l6(t);const e="THREE."+t.shift();if(mh)mh("warn",e,...t);else{const n=t[0];n&&n.isStackTrace?console.warn(n.getError(e)):console.warn(e,...t)}}function Kt(...t){t=l6(t);const e="THREE."+t.shift();if(mh)mh("error",e,...t);else{const n=t[0];n&&n.isStackTrace?console.error(n.getError(e)):console.error(e,...t)}}function Jy(...t){const e=t.join(" ");e in jN||(jN[e]=!0,Ct(...t))}function vX(t,e,n){return new Promise(function(i,r){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:i()}}setTimeout(a,n)})}const yX={[I1]:N1,[L1]:B1,[U1]:k1,[rp]:z1,[N1]:I1,[B1]:L1,[k1]:U1,[z1]:rp};class Hu{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const i=n[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}}const Ha=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let GN=1234567;const Kd=Math.PI/180,Pg=180/Math.PI;function so(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ha[t&255]+Ha[t>>8&255]+Ha[t>>16&255]+Ha[t>>24&255]+"-"+Ha[e&255]+Ha[e>>8&255]+"-"+Ha[e>>16&15|64]+Ha[e>>24&255]+"-"+Ha[n&63|128]+Ha[n>>8&255]+"-"+Ha[n>>16&255]+Ha[n>>24&255]+Ha[i&255]+Ha[i>>8&255]+Ha[i>>16&255]+Ha[i>>24&255]).toLowerCase()}function fn(t,e,n){return Math.max(e,Math.min(n,t))}function KO(t,e){return(t%e+e)%e}function xX(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function bX(t,e,n){return t!==e?(n-t)/(e-t):0}function Ny(t,e,n){return(1-n)*t+n*e}function _X(t,e,n,i){return Ny(t,e,1-Math.exp(-n*i))}function SX(t,e=1){return e-Math.abs(KO(t,e*2)-e)}function MX(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function wX(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function EX(t,e){return t+Math.floor(Math.random()*(e-t+1))}function AX(t,e){return t+Math.random()*(e-t)}function TX(t){return t*(.5-Math.random())}function CX(t){t!==void 0&&(GN=t);let e=GN+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function RX(t){return t*Kd}function PX(t){return t*Pg}function OX(t){return(t&t-1)===0&&t!==0}function DX(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function IX(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function NX(t,e,n,i,r){const a=Math.cos,s=Math.sin,l=a(n/2),c=s(n/2),h=a((e+i)/2),p=s((e+i)/2),g=a((e-i)/2),v=s((e-i)/2),x=a((i-e)/2),_=s((i-e)/2);switch(r){case"XYX":t.set(l*p,c*g,c*v,l*h);break;case"YZY":t.set(c*v,l*p,c*g,l*h);break;case"ZXZ":t.set(c*g,c*v,l*p,l*h);break;case"XZX":t.set(l*p,c*_,c*x,l*h);break;case"YXY":t.set(c*x,l*p,c*_,l*h);break;case"ZYZ":t.set(c*_,c*x,l*p,l*h);break;default:Ct("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function cs(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function wn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const LX={DEG2RAD:Kd,RAD2DEG:Pg,generateUUID:so,clamp:fn,euclideanModulo:KO,mapLinear:xX,inverseLerp:bX,lerp:Ny,damp:_X,pingpong:SX,smoothstep:MX,smootherstep:wX,randInt:EX,randFloat:AX,randFloatSpread:TX,seededRandom:CX,degToRad:RX,radToDeg:PX,isPowerOfTwo:OX,ceilPowerOfTwo:DX,floorPowerOfTwo:IX,setQuaternionFromProperEuler:NX,normalize:wn,denormalize:cs};class Qe{constructor(e=0,n=0){Qe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=fn(this.x,e.x,n.x),this.y=fn(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=fn(this.x,e,n),this.y=fn(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(fn(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(fn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),a=this.x-e.x,s=this.y-e.y;return this.x=a*i-s*r+e.x,this.y=a*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Mr{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,a,s,l){let c=i[r+0],h=i[r+1],p=i[r+2],g=i[r+3],v=a[s+0],x=a[s+1],_=a[s+2],w=a[s+3];if(g!==w||c!==v||h!==x||p!==_){let S=c*v+h*x+p*_+g*w;S<0&&(v=-v,x=-x,_=-_,w=-w,S=-S);let M=1-l;if(S<.9995){const T=Math.acos(S),R=Math.sin(T);M=Math.sin(M*T)/R,l=Math.sin(l*T)/R,c=c*M+v*l,h=h*M+x*l,p=p*M+_*l,g=g*M+w*l}else{c=c*M+v*l,h=h*M+x*l,p=p*M+_*l,g=g*M+w*l;const T=1/Math.sqrt(c*c+h*h+p*p+g*g);c*=T,h*=T,p*=T,g*=T}}e[n]=c,e[n+1]=h,e[n+2]=p,e[n+3]=g}static multiplyQuaternionsFlat(e,n,i,r,a,s){const l=i[r],c=i[r+1],h=i[r+2],p=i[r+3],g=a[s],v=a[s+1],x=a[s+2],_=a[s+3];return e[n]=l*_+p*g+c*x-h*v,e[n+1]=c*_+p*v+h*g-l*x,e[n+2]=h*_+p*x+l*v-c*g,e[n+3]=p*_-l*g-c*v-h*x,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,a=e._z,s=e._order,l=Math.cos,c=Math.sin,h=l(i/2),p=l(r/2),g=l(a/2),v=c(i/2),x=c(r/2),_=c(a/2);switch(s){case"XYZ":this._x=v*p*g+h*x*_,this._y=h*x*g-v*p*_,this._z=h*p*_+v*x*g,this._w=h*p*g-v*x*_;break;case"YXZ":this._x=v*p*g+h*x*_,this._y=h*x*g-v*p*_,this._z=h*p*_-v*x*g,this._w=h*p*g+v*x*_;break;case"ZXY":this._x=v*p*g-h*x*_,this._y=h*x*g+v*p*_,this._z=h*p*_+v*x*g,this._w=h*p*g-v*x*_;break;case"ZYX":this._x=v*p*g-h*x*_,this._y=h*x*g+v*p*_,this._z=h*p*_-v*x*g,this._w=h*p*g+v*x*_;break;case"YZX":this._x=v*p*g+h*x*_,this._y=h*x*g+v*p*_,this._z=h*p*_-v*x*g,this._w=h*p*g-v*x*_;break;case"XZY":this._x=v*p*g-h*x*_,this._y=h*x*g-v*p*_,this._z=h*p*_+v*x*g,this._w=h*p*g+v*x*_;break;default:Ct("Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],a=n[8],s=n[1],l=n[5],c=n[9],h=n[2],p=n[6],g=n[10],v=i+l+g;if(v>0){const x=.5/Math.sqrt(v+1);this._w=.25/x,this._x=(p-c)*x,this._y=(a-h)*x,this._z=(s-r)*x}else if(i>l&&i>g){const x=2*Math.sqrt(1+i-l-g);this._w=(p-c)/x,this._x=.25*x,this._y=(r+s)/x,this._z=(a+h)/x}else if(l>g){const x=2*Math.sqrt(1+l-i-g);this._w=(a-h)/x,this._x=(r+s)/x,this._y=.25*x,this._z=(c+p)/x}else{const x=2*Math.sqrt(1+g-i-l);this._w=(s-r)/x,this._x=(a+h)/x,this._y=(c+p)/x,this._z=.25*x}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(fn(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,a=e._z,s=e._w,l=n._x,c=n._y,h=n._z,p=n._w;return this._x=i*p+s*l+r*h-a*c,this._y=r*p+s*c+a*l-i*h,this._z=a*p+s*h+i*c-r*l,this._w=s*p-i*l-r*c-a*h,this._onChangeCallback(),this}slerp(e,n){let i=e._x,r=e._y,a=e._z,s=e._w,l=this.dot(e);l<0&&(i=-i,r=-r,a=-a,s=-s,l=-l);let c=1-n;if(l<.9995){const h=Math.acos(l),p=Math.sin(h);c=Math.sin(c*h)/p,n=Math.sin(n*h)/p,this._x=this._x*c+i*n,this._y=this._y*c+r*n,this._z=this._z*c+a*n,this._w=this._w*c+s*n,this._onChangeCallback()}else this._x=this._x*c+i*n,this._y=this._y*c+r*n,this._z=this._z*c+a*n,this._w=this._w*c+s*n,this.normalize();return this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ee{constructor(e=0,n=0,i=0){ee.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(WN.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(WN.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[3]*i+a[6]*r,this.y=a[1]*n+a[4]*i+a[7]*r,this.z=a[2]*n+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=e.elements,s=1/(a[3]*n+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*n+a[4]*i+a[8]*r+a[12])*s,this.y=(a[1]*n+a[5]*i+a[9]*r+a[13])*s,this.z=(a[2]*n+a[6]*i+a[10]*r+a[14])*s,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,a=e.x,s=e.y,l=e.z,c=e.w,h=2*(s*r-l*i),p=2*(l*n-a*r),g=2*(a*i-s*n);return this.x=n+c*h+s*g-l*p,this.y=i+c*p+l*h-a*g,this.z=r+c*g+a*p-s*h,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*r,this.y=a[1]*n+a[5]*i+a[9]*r,this.z=a[2]*n+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=fn(this.x,e.x,n.x),this.y=fn(this.y,e.y,n.y),this.z=fn(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=fn(this.x,e,n),this.y=fn(this.y,e,n),this.z=fn(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(fn(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,a=e.z,s=n.x,l=n.y,c=n.z;return this.x=r*c-a*l,this.y=a*s-i*c,this.z=i*l-r*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return WA.copy(this).projectOnVector(e),this.sub(WA)}reflect(e){return this.sub(WA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(fn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const WA=new ee,WN=new Mr;class bn{constructor(e,n,i,r,a,s,l,c,h){bn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,s,l,c,h)}set(e,n,i,r,a,s,l,c,h){const p=this.elements;return p[0]=e,p[1]=r,p[2]=l,p[3]=n,p[4]=a,p[5]=c,p[6]=i,p[7]=s,p[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,s=i[0],l=i[3],c=i[6],h=i[1],p=i[4],g=i[7],v=i[2],x=i[5],_=i[8],w=r[0],S=r[3],M=r[6],T=r[1],R=r[4],P=r[7],L=r[2],I=r[5],B=r[8];return a[0]=s*w+l*T+c*L,a[3]=s*S+l*R+c*I,a[6]=s*M+l*P+c*B,a[1]=h*w+p*T+g*L,a[4]=h*S+p*R+g*I,a[7]=h*M+p*P+g*B,a[2]=v*w+x*T+_*L,a[5]=v*S+x*R+_*I,a[8]=v*M+x*P+_*B,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],c=e[6],h=e[7],p=e[8];return n*s*p-n*l*h-i*a*p+i*l*c+r*a*h-r*s*c}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],c=e[6],h=e[7],p=e[8],g=p*s-l*h,v=l*c-p*a,x=h*a-s*c,_=n*g+i*v+r*x;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const w=1/_;return e[0]=g*w,e[1]=(r*h-p*i)*w,e[2]=(l*i-r*s)*w,e[3]=v*w,e[4]=(p*n-r*c)*w,e[5]=(r*a-l*n)*w,e[6]=x*w,e[7]=(i*c-h*n)*w,e[8]=(s*n-i*a)*w,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,a,s,l){const c=Math.cos(a),h=Math.sin(a);return this.set(i*c,i*h,-i*(c*s+h*l)+s+e,-r*h,r*c,-r*(-h*s+c*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(qA.makeScale(e,n)),this}rotate(e){return this.premultiply(qA.makeRotation(-e)),this}translate(e,n){return this.premultiply(qA.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const qA=new bn,qN=new bn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),XN=new bn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function UX(){const t={enabled:!0,workingColorSpace:kl,spaces:{},convert:function(r,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===oi&&(r.r=Ic(r.r),r.g=Ic(r.g),r.b=Ic(r.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===oi&&(r.r=Sg(r.r),r.g=Sg(r.g),r.b=Sg(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Cc?Yy:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,s){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return Jy("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return Jy("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[kl]:{primaries:e,whitePoint:i,transfer:Yy,toXYZ:qN,fromXYZ:XN,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Ta},outputColorSpaceConfig:{drawingBufferColorSpace:Ta}},[Ta]:{primaries:e,whitePoint:i,transfer:oi,toXYZ:qN,fromXYZ:XN,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Ta}}}),t}const Hn=UX();function Ic(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Sg(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Dm;class u6{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Dm===void 0&&(Dm=Ky("canvas")),Dm.width=e.width,Dm.height=e.height;const r=Dm.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Dm}return i.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Ky("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=Ic(a[s]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Ic(n[i]/255)*255):n[i]=Ic(n[i]);return{data:n,width:e.width,height:e.height}}else return Ct("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let zX=0;class sh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:zX++}),this.uuid=so(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,l=r.length;s<l;s++)r[s].isDataTexture?a.push(XA(r[s].image)):a.push(XA(r[s]))}else a=XA(r);i.url=a}return n||(e.images[this.uuid]=i),i}}function XA(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?u6.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(Ct("Texture: Unable to serialize Texture."),{})}let BX=0;const $A=new ee;class mi extends Hu{constructor(e=mi.DEFAULT_IMAGE,n=mi.DEFAULT_MAPPING,i=pr,r=pr,a=kn,s=Pu,l=Sr,c=aa,h=mi.DEFAULT_ANISOTROPY,p=Cc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:BX++}),this.uuid=so(),this.name="",this.source=new sh(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=h,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Qe(0,0),this.repeat=new Qe(1,1),this.center=new Qe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new bn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=p,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize($A).x}get height(){return this.source.getSize($A).y}get depth(){return this.source.getSize($A).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const i=e[n];if(i===void 0){Ct(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){Ct(`Texture.setValues(): property '${n}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==dh)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Wy:e.x=e.x-Math.floor(e.x);break;case pr:e.x=e.x<0?0:1;break;case qy:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Wy:e.y=e.y-Math.floor(e.y);break;case pr:e.y=e.y<0?0:1;break;case qy:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}mi.DEFAULT_IMAGE=null;mi.DEFAULT_MAPPING=dh;mi.DEFAULT_ANISOTROPY=1;class ii{constructor(e=0,n=0,i=0,r=1){ii.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r+s[12]*a,this.y=s[1]*n+s[5]*i+s[9]*r+s[13]*a,this.z=s[2]*n+s[6]*i+s[10]*r+s[14]*a,this.w=s[3]*n+s[7]*i+s[11]*r+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,a;const c=e.elements,h=c[0],p=c[4],g=c[8],v=c[1],x=c[5],_=c[9],w=c[2],S=c[6],M=c[10];if(Math.abs(p-v)<.01&&Math.abs(g-w)<.01&&Math.abs(_-S)<.01){if(Math.abs(p+v)<.1&&Math.abs(g+w)<.1&&Math.abs(_+S)<.1&&Math.abs(h+x+M-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const R=(h+1)/2,P=(x+1)/2,L=(M+1)/2,I=(p+v)/4,B=(g+w)/4,D=(_+S)/4;return R>P&&R>L?R<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(R),r=I/i,a=B/i):P>L?P<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(P),i=I/r,a=D/r):L<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(L),i=B/a,r=D/a),this.set(i,r,a,n),this}let T=Math.sqrt((S-_)*(S-_)+(g-w)*(g-w)+(v-p)*(v-p));return Math.abs(T)<.001&&(T=1),this.x=(S-_)/T,this.y=(g-w)/T,this.z=(v-p)/T,this.w=Math.acos((h+x+M-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=fn(this.x,e.x,n.x),this.y=fn(this.y,e.y,n.y),this.z=fn(this.z,e.z,n.z),this.w=fn(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=fn(this.x,e,n),this.y=fn(this.y,e,n),this.z=fn(this.z,e,n),this.w=fn(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(fn(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class QO extends Hu{constructor(e=1,n=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:kn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=i.depth,this.scissor=new ii(0,0,e,n),this.scissorTest=!1,this.viewport=new ii(0,0,e,n),this.textures=[];const r={width:e,height:n,depth:i.depth},a=new mi(r),s=i.count;for(let l=0;l<s;l++)this.textures[l]=a.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const n={minFilter:kn,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const r=Object.assign({},e.textures[n].image);this.textures[n].source=new sh(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Xa extends QO{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class kw extends mi{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=_r,this.minFilter=_r,this.wrapR=pr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class kX extends Xa{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new kw(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Fw extends mi{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=_r,this.minFilter=_r,this.wrapR=pr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class FX extends Xa{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Fw(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class on{constructor(e,n,i,r,a,s,l,c,h,p,g,v,x,_,w,S){on.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,s,l,c,h,p,g,v,x,_,w,S)}set(e,n,i,r,a,s,l,c,h,p,g,v,x,_,w,S){const M=this.elements;return M[0]=e,M[4]=n,M[8]=i,M[12]=r,M[1]=a,M[5]=s,M[9]=l,M[13]=c,M[2]=h,M[6]=p,M[10]=g,M[14]=v,M[3]=x,M[7]=_,M[11]=w,M[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new on().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),i.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this)}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,i=e.elements,r=1/Im.setFromMatrixColumn(e,0).length(),a=1/Im.setFromMatrixColumn(e,1).length(),s=1/Im.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[7]=0,n[8]=i[8]*s,n[9]=i[9]*s,n[10]=i[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,a=e.z,s=Math.cos(i),l=Math.sin(i),c=Math.cos(r),h=Math.sin(r),p=Math.cos(a),g=Math.sin(a);if(e.order==="XYZ"){const v=s*p,x=s*g,_=l*p,w=l*g;n[0]=c*p,n[4]=-c*g,n[8]=h,n[1]=x+_*h,n[5]=v-w*h,n[9]=-l*c,n[2]=w-v*h,n[6]=_+x*h,n[10]=s*c}else if(e.order==="YXZ"){const v=c*p,x=c*g,_=h*p,w=h*g;n[0]=v+w*l,n[4]=_*l-x,n[8]=s*h,n[1]=s*g,n[5]=s*p,n[9]=-l,n[2]=x*l-_,n[6]=w+v*l,n[10]=s*c}else if(e.order==="ZXY"){const v=c*p,x=c*g,_=h*p,w=h*g;n[0]=v-w*l,n[4]=-s*g,n[8]=_+x*l,n[1]=x+_*l,n[5]=s*p,n[9]=w-v*l,n[2]=-s*h,n[6]=l,n[10]=s*c}else if(e.order==="ZYX"){const v=s*p,x=s*g,_=l*p,w=l*g;n[0]=c*p,n[4]=_*h-x,n[8]=v*h+w,n[1]=c*g,n[5]=w*h+v,n[9]=x*h-_,n[2]=-h,n[6]=l*c,n[10]=s*c}else if(e.order==="YZX"){const v=s*c,x=s*h,_=l*c,w=l*h;n[0]=c*p,n[4]=w-v*g,n[8]=_*g+x,n[1]=g,n[5]=s*p,n[9]=-l*p,n[2]=-h*p,n[6]=x*g+_,n[10]=v-w*g}else if(e.order==="XZY"){const v=s*c,x=s*h,_=l*c,w=l*h;n[0]=c*p,n[4]=-g,n[8]=h*p,n[1]=v*g+w,n[5]=s*p,n[9]=x*g-_,n[2]=_*g-x,n[6]=l*p,n[10]=w*g+v}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(VX,e,HX)}lookAt(e,n,i){const r=this.elements;return eo.subVectors(e,n),eo.lengthSq()===0&&(eo.z=1),eo.normalize(),Gf.crossVectors(i,eo),Gf.lengthSq()===0&&(Math.abs(i.z)===1?eo.x+=1e-4:eo.z+=1e-4,eo.normalize(),Gf.crossVectors(i,eo)),Gf.normalize(),$_.crossVectors(eo,Gf),r[0]=Gf.x,r[4]=$_.x,r[8]=eo.x,r[1]=Gf.y,r[5]=$_.y,r[9]=eo.y,r[2]=Gf.z,r[6]=$_.z,r[10]=eo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,s=i[0],l=i[4],c=i[8],h=i[12],p=i[1],g=i[5],v=i[9],x=i[13],_=i[2],w=i[6],S=i[10],M=i[14],T=i[3],R=i[7],P=i[11],L=i[15],I=r[0],B=r[4],D=r[8],z=r[12],W=r[1],j=r[5],G=r[9],J=r[13],te=r[2],ie=r[6],q=r[10],K=r[14],pe=r[3],de=r[7],_e=r[11],Y=r[15];return a[0]=s*I+l*W+c*te+h*pe,a[4]=s*B+l*j+c*ie+h*de,a[8]=s*D+l*G+c*q+h*_e,a[12]=s*z+l*J+c*K+h*Y,a[1]=p*I+g*W+v*te+x*pe,a[5]=p*B+g*j+v*ie+x*de,a[9]=p*D+g*G+v*q+x*_e,a[13]=p*z+g*J+v*K+x*Y,a[2]=_*I+w*W+S*te+M*pe,a[6]=_*B+w*j+S*ie+M*de,a[10]=_*D+w*G+S*q+M*_e,a[14]=_*z+w*J+S*K+M*Y,a[3]=T*I+R*W+P*te+L*pe,a[7]=T*B+R*j+P*ie+L*de,a[11]=T*D+R*G+P*q+L*_e,a[15]=T*z+R*J+P*K+L*Y,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],a=e[12],s=e[1],l=e[5],c=e[9],h=e[13],p=e[2],g=e[6],v=e[10],x=e[14],_=e[3],w=e[7],S=e[11],M=e[15],T=c*x-h*v,R=l*x-h*g,P=l*v-c*g,L=s*x-h*p,I=s*v-c*p,B=s*g-l*p;return n*(w*T-S*R+M*P)-i*(_*T-S*L+M*I)+r*(_*R-w*L+M*B)-a*(_*P-w*I+S*B)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],c=e[6],h=e[7],p=e[8],g=e[9],v=e[10],x=e[11],_=e[12],w=e[13],S=e[14],M=e[15],T=n*l-i*s,R=n*c-r*s,P=n*h-a*s,L=i*c-r*l,I=i*h-a*l,B=r*h-a*c,D=p*w-g*_,z=p*S-v*_,W=p*M-x*_,j=g*S-v*w,G=g*M-x*w,J=v*M-x*S,te=T*J-R*G+P*j+L*W-I*z+B*D;if(te===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ie=1/te;return e[0]=(l*J-c*G+h*j)*ie,e[1]=(r*G-i*J-a*j)*ie,e[2]=(w*B-S*I+M*L)*ie,e[3]=(v*I-g*B-x*L)*ie,e[4]=(c*W-s*J-h*z)*ie,e[5]=(n*J-r*W+a*z)*ie,e[6]=(S*P-_*B-M*R)*ie,e[7]=(p*B-v*P+x*R)*ie,e[8]=(s*G-l*W+h*D)*ie,e[9]=(i*W-n*G-a*D)*ie,e[10]=(_*I-w*P+M*T)*ie,e[11]=(g*P-p*I-x*T)*ie,e[12]=(l*z-s*j-c*D)*ie,e[13]=(n*j-i*z+r*D)*ie,e[14]=(w*R-_*L-S*T)*ie,e[15]=(p*L-g*R+v*T)*ie,this}scale(e){const n=this.elements,i=e.x,r=e.y,a=e.z;return n[0]*=i,n[4]*=r,n[8]*=a,n[1]*=i,n[5]*=r,n[9]*=a,n[2]*=i,n[6]*=r,n[10]*=a,n[3]*=i,n[7]*=r,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),a=1-i,s=e.x,l=e.y,c=e.z,h=a*s,p=a*l;return this.set(h*s+i,h*l-r*c,h*c+r*l,0,h*l+r*c,p*l+i,p*c-r*s,0,h*c-r*l,p*c+r*s,a*c*c+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,a,s){return this.set(1,i,a,0,e,1,s,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,a=n._x,s=n._y,l=n._z,c=n._w,h=a+a,p=s+s,g=l+l,v=a*h,x=a*p,_=a*g,w=s*p,S=s*g,M=l*g,T=c*h,R=c*p,P=c*g,L=i.x,I=i.y,B=i.z;return r[0]=(1-(w+M))*L,r[1]=(x+P)*L,r[2]=(_-R)*L,r[3]=0,r[4]=(x-P)*I,r[5]=(1-(v+M))*I,r[6]=(S+T)*I,r[7]=0,r[8]=(_+R)*B,r[9]=(S-T)*B,r[10]=(1-(v+w))*B,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;e.x=r[12],e.y=r[13],e.z=r[14];const a=this.determinant();if(a===0)return i.set(1,1,1),n.identity(),this;let s=Im.set(r[0],r[1],r[2]).length();const l=Im.set(r[4],r[5],r[6]).length(),c=Im.set(r[8],r[9],r[10]).length();a<0&&(s=-s),_l.copy(this);const h=1/s,p=1/l,g=1/c;return _l.elements[0]*=h,_l.elements[1]*=h,_l.elements[2]*=h,_l.elements[4]*=p,_l.elements[5]*=p,_l.elements[6]*=p,_l.elements[8]*=g,_l.elements[9]*=g,_l.elements[10]*=g,n.setFromRotationMatrix(_l),i.x=s,i.y=l,i.z=c,this}makePerspective(e,n,i,r,a,s,l=io,c=!1){const h=this.elements,p=2*a/(n-e),g=2*a/(i-r),v=(n+e)/(n-e),x=(i+r)/(i-r);let _,w;if(c)_=a/(s-a),w=s*a/(s-a);else if(l===io)_=-(s+a)/(s-a),w=-2*s*a/(s-a);else if(l===sp)_=-s/(s-a),w=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return h[0]=p,h[4]=0,h[8]=v,h[12]=0,h[1]=0,h[5]=g,h[9]=x,h[13]=0,h[2]=0,h[6]=0,h[10]=_,h[14]=w,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(e,n,i,r,a,s,l=io,c=!1){const h=this.elements,p=2/(n-e),g=2/(i-r),v=-(n+e)/(n-e),x=-(i+r)/(i-r);let _,w;if(c)_=1/(s-a),w=s/(s-a);else if(l===io)_=-2/(s-a),w=-(s+a)/(s-a);else if(l===sp)_=-1/(s-a),w=-a/(s-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return h[0]=p,h[4]=0,h[8]=0,h[12]=v,h[1]=0,h[5]=g,h[9]=0,h[13]=x,h[2]=0,h[6]=0,h[10]=_,h[14]=w,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Im=new ee,_l=new on,VX=new ee(0,0,0),HX=new ee(1,1,1),Gf=new ee,$_=new ee,eo=new ee,$N=new on,YN=new Mr;class Gs{constructor(e=0,n=0,i=0,r=Gs.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,a=r[0],s=r[4],l=r[8],c=r[1],h=r[5],p=r[9],g=r[2],v=r[6],x=r[10];switch(n){case"XYZ":this._y=Math.asin(fn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,x),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(v,h),this._z=0);break;case"YXZ":this._x=Math.asin(-fn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(l,x),this._z=Math.atan2(c,h)):(this._y=Math.atan2(-g,a),this._z=0);break;case"ZXY":this._x=Math.asin(fn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,x),this._z=Math.atan2(-s,h)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-fn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,x),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-s,h));break;case"YZX":this._z=Math.asin(fn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-p,h),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(l,x));break;case"XZY":this._z=Math.asin(-fn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(v,h),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-p,x),this._y=0);break;default:Ct("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return $N.makeRotationFromQuaternion(e),this.setFromRotationMatrix($N,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return YN.setFromEuler(this),this.setFromQuaternion(YN,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Gs.DEFAULT_ORDER="XYZ";class Og{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let jX=0;const ZN=new ee,Nm=new Mr,bc=new on,Y_=new ee,V0=new ee,GX=new ee,WX=new Mr,KN=new ee(1,0,0),QN=new ee(0,1,0),JN=new ee(0,0,1),eL={type:"added"},qX={type:"removed"},Lm={type:"childadded",child:null},YA={type:"childremoved",child:null};class Zn extends Hu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:jX++}),this.uuid=so(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Zn.DEFAULT_UP.clone();const e=new ee,n=new Gs,i=new Mr,r=new ee(1,1,1);function a(){i.setFromEuler(n,!1)}function s(){n.setFromQuaternion(i,void 0,!1)}n._onChange(a),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new on},normalMatrix:{value:new bn}}),this.matrix=new on,this.matrixWorld=new on,this.matrixAutoUpdate=Zn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Zn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Og,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.static=!1,this.userData={},this.pivot=null}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Nm.setFromAxisAngle(e,n),this.quaternion.multiply(Nm),this}rotateOnWorldAxis(e,n){return Nm.setFromAxisAngle(e,n),this.quaternion.premultiply(Nm),this}rotateX(e){return this.rotateOnAxis(KN,e)}rotateY(e){return this.rotateOnAxis(QN,e)}rotateZ(e){return this.rotateOnAxis(JN,e)}translateOnAxis(e,n){return ZN.copy(e).applyQuaternion(this.quaternion),this.position.add(ZN.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(KN,e)}translateY(e){return this.translateOnAxis(QN,e)}translateZ(e){return this.translateOnAxis(JN,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(bc.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Y_.copy(e):Y_.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),V0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?bc.lookAt(V0,Y_,this.up):bc.lookAt(Y_,V0,this.up),this.quaternion.setFromRotationMatrix(bc),r&&(bc.extractRotation(r.matrixWorld),Nm.setFromRotationMatrix(bc),this.quaternion.premultiply(Nm.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(Kt("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(eL),Lm.child=e,this.dispatchEvent(Lm),Lm.child=null):Kt("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(qX),YA.child=e,this.dispatchEvent(YA),YA.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),bc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),bc.multiply(e.parent.matrixWorld)),e.applyMatrix4(bc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(eL),Lm.child=e,this.dispatchEvent(Lm),Lm.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(V0,e,GX),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(V0,WX,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);const e=this.pivot;if(e!==null){const n=e.x,i=e.y,r=e.z,a=this.matrix.elements;a[12]+=n-a[0]*n-a[4]*i-a[8]*r,a[13]+=i-a[1]*n-a[5]*i-a[9]*r,a[14]+=r-a[2]*n-a[6]*i-a[10]*r}this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),this.static!==!1&&(r.static=this.static),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.pivot!==null&&(r.pivot=this.pivot.toArray()),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.morphTargetDictionary!==void 0&&(r.morphTargetDictionary=Object.assign({},this.morphTargetDictionary)),this.morphTargetInfluences!==void 0&&(r.morphTargetInfluences=this.morphTargetInfluences.slice()),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(l=>({...l})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let h=0,p=c.length;h<p;h++){const g=c[h];a(e.shapes,g)}else a(e.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,h=this.material.length;c<h;c++)l.push(a(e.materials,this.material[c]));r.material=l}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];r.animations.push(a(e.animations,c))}}if(n){const l=s(e.geometries),c=s(e.materials),h=s(e.textures),p=s(e.images),g=s(e.shapes),v=s(e.skeletons),x=s(e.animations),_=s(e.nodes);l.length>0&&(i.geometries=l),c.length>0&&(i.materials=c),h.length>0&&(i.textures=h),p.length>0&&(i.images=p),g.length>0&&(i.shapes=g),v.length>0&&(i.skeletons=v),x.length>0&&(i.animations=x),_.length>0&&(i.nodes=_)}return i.object=r,i;function s(l){const c=[];for(const h in l){const p=l[h];delete p.metadata,c.push(p)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),e.pivot!==null&&(this.pivot=e.pivot.clone()),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.static=e.static,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Zn.DEFAULT_UP=new ee(0,1,0);Zn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Zn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;class hg extends Zn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const XX={type:"move"};class m1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new hg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new hg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ee),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new hg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ee),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,a=null,s=null;const l=this._targetRay,c=this._grip,h=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(h&&e.hand){s=!0;for(const w of e.hand.values()){const S=n.getJointPose(w,i),M=this._getHandJoint(h,w);S!==null&&(M.matrix.fromArray(S.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=S.radius),M.visible=S!==null}const p=h.joints["index-finger-tip"],g=h.joints["thumb-tip"],v=p.position.distanceTo(g.position),x=.02,_=.005;h.inputState.pinching&&v>x+_?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&v<=x-_&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,i),a!==null&&(c.matrix.fromArray(a.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,a.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(a.linearVelocity)):c.hasLinearVelocity=!1,a.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(a.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(XX)))}return l!==null&&(l.visible=r!==null),c!==null&&(c.visible=a!==null),h!==null&&(h.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new hg;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}const c6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Wf={h:0,s:0,l:0},Z_={h:0,s:0,l:0};function ZA(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Ut=class{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Ta){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Hn.colorSpaceToWorking(this,n),this}setRGB(e,n,i,r=Hn.workingColorSpace){return this.r=e,this.g=n,this.b=i,Hn.colorSpaceToWorking(this,r),this}setHSL(e,n,i,r=Hn.workingColorSpace){if(e=KO(e,1),n=fn(n,0,1),i=fn(i,0,1),n===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+n):i+n-i*n,s=2*i-a;this.r=ZA(s,a,e+1/3),this.g=ZA(s,a,e),this.b=ZA(s,a,e-1/3)}return Hn.colorSpaceToWorking(this,r),this}setStyle(e,n=Ta){function i(a){a!==void 0&&parseFloat(a)<1&&Ct("Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=r[1],l=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:Ct("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(a,16),n);Ct("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Ta){const i=c6[e.toLowerCase()];return i!==void 0?this.setHex(i,n):Ct("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ic(e.r),this.g=Ic(e.g),this.b=Ic(e.b),this}copyLinearToSRGB(e){return this.r=Sg(e.r),this.g=Sg(e.g),this.b=Sg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ta){return Hn.workingToColorSpace(ja.copy(this),e),Math.round(fn(ja.r*255,0,255))*65536+Math.round(fn(ja.g*255,0,255))*256+Math.round(fn(ja.b*255,0,255))}getHexString(e=Ta){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Hn.workingColorSpace){Hn.workingToColorSpace(ja.copy(this),n);const i=ja.r,r=ja.g,a=ja.b,s=Math.max(i,r,a),l=Math.min(i,r,a);let c,h;const p=(l+s)/2;if(l===s)c=0,h=0;else{const g=s-l;switch(h=p<=.5?g/(s+l):g/(2-s-l),s){case i:c=(r-a)/g+(r<a?6:0);break;case r:c=(a-i)/g+2;break;case a:c=(i-r)/g+4;break}c/=6}return e.h=c,e.s=h,e.l=p,e}getRGB(e,n=Hn.workingColorSpace){return Hn.workingToColorSpace(ja.copy(this),n),e.r=ja.r,e.g=ja.g,e.b=ja.b,e}getStyle(e=Ta){Hn.workingToColorSpace(ja.copy(this),e);const n=ja.r,i=ja.g,r=ja.b;return e!==Ta?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(Wf),this.setHSL(Wf.h+e,Wf.s+n,Wf.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(Wf),e.getHSL(Z_);const i=Ny(Wf.h,Z_.h,n),r=Ny(Wf.s,Z_.s,n),a=Ny(Wf.l,Z_.l,n);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*n+a[3]*i+a[6]*r,this.g=a[1]*n+a[4]*i+a[7]*r,this.b=a[2]*n+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const ja=new Ut;Ut.NAMES=c6;class Vw{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ut(e),this.density=n}clone(){return new Vw(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Hw{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ut(e),this.near=n,this.far=i}clone(){return new Hw(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let Nx=class extends Zn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Gs,this.environmentIntensity=1,this.environmentRotation=new Gs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}};const Sl=new ee,_c=new ee,KA=new ee,Sc=new ee,Um=new ee,zm=new ee,tL=new ee,QA=new ee,JA=new ee,eT=new ee,tT=new ii,nT=new ii,iT=new ii;class Vs{constructor(e=new ee,n=new ee,i=new ee){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Sl.subVectors(e,n),r.cross(Sl);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,n,i,r,a){Sl.subVectors(r,n),_c.subVectors(i,n),KA.subVectors(e,n);const s=Sl.dot(Sl),l=Sl.dot(_c),c=Sl.dot(KA),h=_c.dot(_c),p=_c.dot(KA),g=s*h-l*l;if(g===0)return a.set(0,0,0),null;const v=1/g,x=(h*c-l*p)*v,_=(s*p-l*c)*v;return a.set(1-x-_,_,x)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Sc)===null?!1:Sc.x>=0&&Sc.y>=0&&Sc.x+Sc.y<=1}static getInterpolation(e,n,i,r,a,s,l,c){return this.getBarycoord(e,n,i,r,Sc)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(a,Sc.x),c.addScaledVector(s,Sc.y),c.addScaledVector(l,Sc.z),c)}static getInterpolatedAttribute(e,n,i,r,a,s){return tT.setScalar(0),nT.setScalar(0),iT.setScalar(0),tT.fromBufferAttribute(e,n),nT.fromBufferAttribute(e,i),iT.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(tT,a.x),s.addScaledVector(nT,a.y),s.addScaledVector(iT,a.z),s}static isFrontFacing(e,n,i,r){return Sl.subVectors(i,n),_c.subVectors(e,n),Sl.cross(_c).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Sl.subVectors(this.c,this.b),_c.subVectors(this.a,this.b),Sl.cross(_c).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Vs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Vs.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,a){return Vs.getInterpolation(e,this.a,this.b,this.c,n,i,r,a)}containsPoint(e){return Vs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Vs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,a=this.c;let s,l;Um.subVectors(r,i),zm.subVectors(a,i),QA.subVectors(e,i);const c=Um.dot(QA),h=zm.dot(QA);if(c<=0&&h<=0)return n.copy(i);JA.subVectors(e,r);const p=Um.dot(JA),g=zm.dot(JA);if(p>=0&&g<=p)return n.copy(r);const v=c*g-p*h;if(v<=0&&c>=0&&p<=0)return s=c/(c-p),n.copy(i).addScaledVector(Um,s);eT.subVectors(e,a);const x=Um.dot(eT),_=zm.dot(eT);if(_>=0&&x<=_)return n.copy(a);const w=x*h-c*_;if(w<=0&&h>=0&&_<=0)return l=h/(h-_),n.copy(i).addScaledVector(zm,l);const S=p*_-x*g;if(S<=0&&g-p>=0&&x-_>=0)return tL.subVectors(a,r),l=(g-p)/(g-p+(x-_)),n.copy(r).addScaledVector(tL,l);const M=1/(S+w+v);return s=w*M,l=v*M,n.copy(i).addScaledVector(Um,s).addScaledVector(zm,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}class $a{constructor(e=new ee(1/0,1/0,1/0),n=new ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Ml.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Ml.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Ml.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,l=a.count;s<l;s++)e.isMesh===!0?e.getVertexPosition(s,Ml):Ml.fromBufferAttribute(a,s),Ml.applyMatrix4(e.matrixWorld),this.expandByPoint(Ml);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),K_.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),K_.copy(i.boundingBox)),K_.applyMatrix4(e.matrixWorld),this.union(K_)}const r=e.children;for(let a=0,s=r.length;a<s;a++)this.expandByObject(r[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ml),Ml.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(H0),Q_.subVectors(this.max,H0),Bm.subVectors(e.a,H0),km.subVectors(e.b,H0),Fm.subVectors(e.c,H0),qf.subVectors(km,Bm),Xf.subVectors(Fm,km),pd.subVectors(Bm,Fm);let n=[0,-qf.z,qf.y,0,-Xf.z,Xf.y,0,-pd.z,pd.y,qf.z,0,-qf.x,Xf.z,0,-Xf.x,pd.z,0,-pd.x,-qf.y,qf.x,0,-Xf.y,Xf.x,0,-pd.y,pd.x,0];return!rT(n,Bm,km,Fm,Q_)||(n=[1,0,0,0,1,0,0,0,1],!rT(n,Bm,km,Fm,Q_))?!1:(J_.crossVectors(qf,Xf),n=[J_.x,J_.y,J_.z],rT(n,Bm,km,Fm,Q_))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ml).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ml).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Mc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Mc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Mc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Mc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Mc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Mc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Mc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Mc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Mc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Mc=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],Ml=new ee,K_=new $a,Bm=new ee,km=new ee,Fm=new ee,qf=new ee,Xf=new ee,pd=new ee,H0=new ee,Q_=new ee,J_=new ee,md=new ee;function rT(t,e,n,i,r){for(let a=0,s=t.length-3;a<=s;a+=3){md.fromArray(t,a);const l=r.x*Math.abs(md.x)+r.y*Math.abs(md.y)+r.z*Math.abs(md.z),c=e.dot(md),h=n.dot(md),p=i.dot(md);if(Math.max(-Math.max(c,h,p),Math.min(c,h,p))>l)return!1}return!0}const Rc=$X();function $X(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let c=0;c<256;++c){const h=c-127;h<-27?(i[c]=0,i[c|256]=32768,r[c]=24,r[c|256]=24):h<-14?(i[c]=1024>>-h-14,i[c|256]=1024>>-h-14|32768,r[c]=-h-1,r[c|256]=-h-1):h<=15?(i[c]=h+15<<10,i[c|256]=h+15<<10|32768,r[c]=13,r[c|256]=13):h<128?(i[c]=31744,i[c|256]=64512,r[c]=24,r[c|256]=24):(i[c]=31744,i[c|256]=64512,r[c]=13,r[c|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),l=new Uint32Array(64);for(let c=1;c<1024;++c){let h=c<<13,p=0;for(;(h&8388608)===0;)h<<=1,p-=8388608;h&=-8388609,p+=947912704,a[c]=h|p}for(let c=1024;c<2048;++c)a[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)s[c]=c<<23;s[31]=1199570944,s[32]=2147483648;for(let c=33;c<63;++c)s[c]=2147483648+(c-32<<23);s[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(l[c]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:l}}function Fs(t){Math.abs(t)>65504&&Ct("DataUtils.toHalfFloat(): Value out of range."),t=fn(t,-65504,65504),Rc.floatView[0]=t;const e=Rc.uint32View[0],n=e>>23&511;return Rc.baseTable[n]+((e&8388607)>>Rc.shiftTable[n])}function xy(t){const e=t>>10;return Rc.uint32View[0]=Rc.mantissaTable[Rc.offsetTable[e]+(t&1023)]+Rc.exponentTable[e],Rc.floatView[0]}class Vd{static toHalfFloat(e){return Fs(e)}static fromHalfFloat(e){return xy(e)}}const Ir=new ee,eS=new Qe;let YX=0;class gi{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:YX++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=Zy,this.updateRanges=[],this.gpuType=Bi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)eS.fromBufferAttribute(this,n),eS.applyMatrix3(e),this.setXY(n,eS.x,eS.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Ir.fromBufferAttribute(this,n),Ir.applyMatrix3(e),this.setXYZ(n,Ir.x,Ir.y,Ir.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Ir.fromBufferAttribute(this,n),Ir.applyMatrix4(e),this.setXYZ(n,Ir.x,Ir.y,Ir.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Ir.fromBufferAttribute(this,n),Ir.applyNormalMatrix(e),this.setXYZ(n,Ir.x,Ir.y,Ir.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Ir.fromBufferAttribute(this,n),Ir.transformDirection(e),this.setXYZ(n,Ir.x,Ir.y,Ir.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=cs(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=wn(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=cs(n,this.array)),n}setX(e,n){return this.normalized&&(n=wn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=cs(n,this.array)),n}setY(e,n){return this.normalized&&(n=wn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=cs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=wn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=cs(n,this.array)),n}setW(e,n){return this.normalized&&(n=wn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=wn(n,this.array),i=wn(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=wn(n,this.array),i=wn(i,this.array),r=wn(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=wn(n,this.array),i=wn(i,this.array),r=wn(r,this.array),a=wn(a,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Zy&&(e.usage=this.usage),e}}class ZX extends gi{constructor(e,n,i){super(new Int8Array(e),n,i)}}class KX extends gi{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class QX extends gi{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class JX extends gi{constructor(e,n,i){super(new Int16Array(e),n,i)}}class JO extends gi{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class e$ extends gi{constructor(e,n,i){super(new Int32Array(e),n,i)}}class e3 extends gi{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class t$ extends gi{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=xy(this.array[e*this.itemSize]);return this.normalized&&(n=cs(n,this.array)),n}setX(e,n){return this.normalized&&(n=wn(n,this.array)),this.array[e*this.itemSize]=Fs(n),this}getY(e){let n=xy(this.array[e*this.itemSize+1]);return this.normalized&&(n=cs(n,this.array)),n}setY(e,n){return this.normalized&&(n=wn(n,this.array)),this.array[e*this.itemSize+1]=Fs(n),this}getZ(e){let n=xy(this.array[e*this.itemSize+2]);return this.normalized&&(n=cs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=wn(n,this.array)),this.array[e*this.itemSize+2]=Fs(n),this}getW(e){let n=xy(this.array[e*this.itemSize+3]);return this.normalized&&(n=cs(n,this.array)),n}setW(e,n){return this.normalized&&(n=wn(n,this.array)),this.array[e*this.itemSize+3]=Fs(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=wn(n,this.array),i=wn(i,this.array)),this.array[e+0]=Fs(n),this.array[e+1]=Fs(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=wn(n,this.array),i=wn(i,this.array),r=wn(r,this.array)),this.array[e+0]=Fs(n),this.array[e+1]=Fs(i),this.array[e+2]=Fs(r),this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=wn(n,this.array),i=wn(i,this.array),r=wn(r,this.array),a=wn(a,this.array)),this.array[e+0]=Fs(n),this.array[e+1]=Fs(i),this.array[e+2]=Fs(r),this.array[e+3]=Fs(a),this}}class Bt extends gi{constructor(e,n,i){super(new Float32Array(e),n,i)}}const n$=new $a,j0=new ee,aT=new ee;class Ra{constructor(e=new ee,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):n$.setFromPoints(e).getCenter(i);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;j0.subVectors(e,this.center);const n=j0.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(j0,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(aT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(j0.copy(e.center).add(aT)),this.expandByPoint(j0.copy(e.center).sub(aT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}let i$=0;const Fo=new on,sT=new Zn,Vm=new ee,to=new $a,G0=new $a,ea=new ee;class yn extends Hu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:i$++}),this.uuid=so(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(dX(e)?e3:JO)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new bn().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Fo.makeRotationFromQuaternion(e),this.applyMatrix4(Fo),this}rotateX(e){return Fo.makeRotationX(e),this.applyMatrix4(Fo),this}rotateY(e){return Fo.makeRotationY(e),this.applyMatrix4(Fo),this}rotateZ(e){return Fo.makeRotationZ(e),this.applyMatrix4(Fo),this}translate(e,n,i){return Fo.makeTranslation(e,n,i),this.applyMatrix4(Fo),this}scale(e,n,i){return Fo.makeScale(e,n,i),this.applyMatrix4(Fo),this}lookAt(e){return sT.lookAt(e),sT.updateMatrix(),this.applyMatrix4(sT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Vm).negate(),this.translate(Vm.x,Vm.y,Vm.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const s=e[r];i.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Bt(i,3))}else{const i=Math.min(e.length,n.count);for(let r=0;r<i;r++){const a=e[r];n.setXYZ(r,a.x,a.y,a.z||0)}e.length>n.count&&Ct("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new $a);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Kt("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ee(-1/0,-1/0,-1/0),new ee(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const a=n[i];to.setFromBufferAttribute(a),this.morphTargetsRelative?(ea.addVectors(this.boundingBox.min,to.min),this.boundingBox.expandByPoint(ea),ea.addVectors(this.boundingBox.max,to.max),this.boundingBox.expandByPoint(ea)):(this.boundingBox.expandByPoint(to.min),this.boundingBox.expandByPoint(to.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Kt('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ra);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Kt("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ee,1/0);return}if(e){const i=this.boundingSphere.center;if(to.setFromBufferAttribute(e),n)for(let a=0,s=n.length;a<s;a++){const l=n[a];G0.setFromBufferAttribute(l),this.morphTargetsRelative?(ea.addVectors(to.min,G0.min),to.expandByPoint(ea),ea.addVectors(to.max,G0.max),to.expandByPoint(ea)):(to.expandByPoint(G0.min),to.expandByPoint(G0.max))}to.getCenter(i);let r=0;for(let a=0,s=e.count;a<s;a++)ea.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(ea));if(n)for(let a=0,s=n.length;a<s;a++){const l=n[a],c=this.morphTargetsRelative;for(let h=0,p=l.count;h<p;h++)ea.fromBufferAttribute(l,h),c&&(Vm.fromBufferAttribute(e,h),ea.add(Vm)),r=Math.max(r,i.distanceToSquared(ea))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&Kt('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){Kt("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new gi(new Float32Array(4*i.count),4));const s=this.getAttribute("tangent"),l=[],c=[];for(let D=0;D<i.count;D++)l[D]=new ee,c[D]=new ee;const h=new ee,p=new ee,g=new ee,v=new Qe,x=new Qe,_=new Qe,w=new ee,S=new ee;function M(D,z,W){h.fromBufferAttribute(i,D),p.fromBufferAttribute(i,z),g.fromBufferAttribute(i,W),v.fromBufferAttribute(a,D),x.fromBufferAttribute(a,z),_.fromBufferAttribute(a,W),p.sub(h),g.sub(h),x.sub(v),_.sub(v);const j=1/(x.x*_.y-_.x*x.y);isFinite(j)&&(w.copy(p).multiplyScalar(_.y).addScaledVector(g,-x.y).multiplyScalar(j),S.copy(g).multiplyScalar(x.x).addScaledVector(p,-_.x).multiplyScalar(j),l[D].add(w),l[z].add(w),l[W].add(w),c[D].add(S),c[z].add(S),c[W].add(S))}let T=this.groups;T.length===0&&(T=[{start:0,count:e.count}]);for(let D=0,z=T.length;D<z;++D){const W=T[D],j=W.start,G=W.count;for(let J=j,te=j+G;J<te;J+=3)M(e.getX(J+0),e.getX(J+1),e.getX(J+2))}const R=new ee,P=new ee,L=new ee,I=new ee;function B(D){L.fromBufferAttribute(r,D),I.copy(L);const z=l[D];R.copy(z),R.sub(L.multiplyScalar(L.dot(z))).normalize(),P.crossVectors(I,z);const j=P.dot(c[D])<0?-1:1;s.setXYZW(D,R.x,R.y,R.z,j)}for(let D=0,z=T.length;D<z;++D){const W=T[D],j=W.start,G=W.count;for(let J=j,te=j+G;J<te;J+=3)B(e.getX(J+0)),B(e.getX(J+1)),B(e.getX(J+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new gi(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let v=0,x=i.count;v<x;v++)i.setXYZ(v,0,0,0);const r=new ee,a=new ee,s=new ee,l=new ee,c=new ee,h=new ee,p=new ee,g=new ee;if(e)for(let v=0,x=e.count;v<x;v+=3){const _=e.getX(v+0),w=e.getX(v+1),S=e.getX(v+2);r.fromBufferAttribute(n,_),a.fromBufferAttribute(n,w),s.fromBufferAttribute(n,S),p.subVectors(s,a),g.subVectors(r,a),p.cross(g),l.fromBufferAttribute(i,_),c.fromBufferAttribute(i,w),h.fromBufferAttribute(i,S),l.add(p),c.add(p),h.add(p),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(w,c.x,c.y,c.z),i.setXYZ(S,h.x,h.y,h.z)}else for(let v=0,x=n.count;v<x;v+=3)r.fromBufferAttribute(n,v+0),a.fromBufferAttribute(n,v+1),s.fromBufferAttribute(n,v+2),p.subVectors(s,a),g.subVectors(r,a),p.cross(g),i.setXYZ(v+0,p.x,p.y,p.z),i.setXYZ(v+1,p.x,p.y,p.z),i.setXYZ(v+2,p.x,p.y,p.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)ea.fromBufferAttribute(e,n),ea.normalize(),e.setXYZ(n,ea.x,ea.y,ea.z)}toNonIndexed(){function e(l,c){const h=l.array,p=l.itemSize,g=l.normalized,v=new h.constructor(c.length*p);let x=0,_=0;for(let w=0,S=c.length;w<S;w++){l.isInterleavedBufferAttribute?x=c[w]*l.data.stride+l.offset:x=c[w]*p;for(let M=0;M<p;M++)v[_++]=h[x++]}return new gi(v,p,g)}if(this.index===null)return Ct("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new yn,i=this.index.array,r=this.attributes;for(const l in r){const c=r[l],h=e(c,i);n.setAttribute(l,h)}const a=this.morphAttributes;for(const l in a){const c=[],h=a[l];for(let p=0,g=h.length;p<g;p++){const v=h[p],x=e(v,i);c.push(x)}n.morphAttributes[l]=c}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let l=0,c=s.length;l<c;l++){const h=s[l];n.addGroup(h.start,h.count,h.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const h in c)c[h]!==void 0&&(e[h]=c[h]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const c in i){const h=i[c];e.data.attributes[c]=h.toJSON(e.data)}const r={};let a=!1;for(const c in this.morphAttributes){const h=this.morphAttributes[c],p=[];for(let g=0,v=h.length;g<v;g++){const x=h[g];p.push(x.toJSON(e.data))}p.length>0&&(r[c]=p,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const h in r){const p=r[h];this.setAttribute(h,p.clone(n))}const a=e.morphAttributes;for(const h in a){const p=[],g=a[h];for(let v=0,x=g.length;v<x;v++)p.push(g[v].clone(n));this.morphAttributes[h]=p}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let h=0,p=s.length;h<p;h++){const g=s[h];this.addGroup(g.start,g.count,g.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}class jw{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Zy,this.updateRanges=[],this.version=0,this.uuid=so()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=so()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=so()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ss=new ee;class op{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)ss.fromBufferAttribute(this,n),ss.applyMatrix4(e),this.setXYZ(n,ss.x,ss.y,ss.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)ss.fromBufferAttribute(this,n),ss.applyNormalMatrix(e),this.setXYZ(n,ss.x,ss.y,ss.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)ss.fromBufferAttribute(this,n),ss.transformDirection(e),this.setXYZ(n,ss.x,ss.y,ss.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=cs(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=wn(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=wn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=wn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=wn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=wn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=cs(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=cs(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=cs(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=cs(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=wn(n,this.array),i=wn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=wn(n,this.array),i=wn(i,this.array),r=wn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=wn(n,this.array),i=wn(i,this.array),r=wn(r,this.array),a=wn(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){Qy("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return new gi(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new op(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){Qy("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}let r$=0;class Ya extends Hu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:r$++}),this.uuid=so(),this.name="",this.type="Material",this.blending=Yd,this.side=Lc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=O1,this.blendDst=D1,this.blendEquation=ih,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ut(0,0,0),this.blendAlpha=0,this.depthFunc=rp,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=$R,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Dd,this.stencilZFail=Dd,this.stencilZPass=Dd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){Ct(`Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){Ct(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Yd&&(i.blending=this.blending),this.side!==Lc&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==O1&&(i.blendSrc=this.blendSrc),this.blendDst!==D1&&(i.blendDst=this.blendDst),this.blendEquation!==ih&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==rp&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==$R&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Dd&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Dd&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Dd&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.allowOverride===!1&&(i.allowOverride=!1),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const s=[];for(const l in a){const c=a[l];delete c.metadata,s.push(c)}return s}if(n){const a=r(e.textures),s=r(e.images);a.length>0&&(i.textures=a),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=n[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class t3 extends Ya{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ut(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Hm;const W0=new ee,jm=new ee,Gm=new ee,Wm=new Qe,q0=new Qe,f6=new on,tS=new ee,X0=new ee,nS=new ee,nL=new Qe,oT=new Qe,iL=new Qe;class h6 extends Zn{constructor(e=new t3){if(super(),this.isSprite=!0,this.type="Sprite",Hm===void 0){Hm=new yn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new jw(n,5);Hm.setIndex([0,1,2,0,2,3]),Hm.setAttribute("position",new op(i,3,0,!1)),Hm.setAttribute("uv",new op(i,2,3,!1))}this.geometry=Hm,this.material=e,this.center=new Qe(.5,.5),this.count=1}raycast(e,n){e.camera===null&&Kt('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),jm.setFromMatrixScale(this.matrixWorld),f6.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Gm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&jm.multiplyScalar(-Gm.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const s=this.center;iS(tS.set(-.5,-.5,0),Gm,s,jm,r,a),iS(X0.set(.5,-.5,0),Gm,s,jm,r,a),iS(nS.set(.5,.5,0),Gm,s,jm,r,a),nL.set(0,0),oT.set(1,0),iL.set(1,1);let l=e.ray.intersectTriangle(tS,X0,nS,!1,W0);if(l===null&&(iS(X0.set(-.5,.5,0),Gm,s,jm,r,a),oT.set(0,1),l=e.ray.intersectTriangle(tS,nS,X0,!1,W0),l===null))return;const c=e.ray.origin.distanceTo(W0);c<e.near||c>e.far||n.push({distance:c,point:W0.clone(),uv:Vs.getInterpolation(W0,tS,X0,nS,nL,oT,iL,new Qe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function iS(t,e,n,i,r,a){Wm.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(q0.x=a*Wm.x-r*Wm.y,q0.y=r*Wm.x+a*Wm.y):q0.copy(Wm),t.copy(e),t.x+=q0.x,t.y+=q0.y,t.applyMatrix4(f6)}const rS=new ee,rL=new ee;class d6 extends Zn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const a=n[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let a;for(a=0;a<r.length&&!(n<r[a].distance);a++);return r.splice(a,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let i=0;i<n.length;i++)if(n[i].distance===e){const r=n.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),e<a)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){rS.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(rS);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){rS.setFromMatrixPosition(e.matrixWorld),rL.setFromMatrixPosition(this.matrixWorld);const i=rS.distanceTo(rL)/e.zoom;n[0].object.visible=!0;let r,a;for(r=1,a=n.length;r<a;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),i>=s)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const s=i[r];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}}const wc=new ee,lT=new ee,aS=new ee,$f=new ee,uT=new ee,sS=new ee,cT=new ee;class Zg{constructor(e=new ee,n=new ee(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=wc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(wc.copy(this.origin).addScaledVector(this.direction,n),wc.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){lT.copy(e).add(n).multiplyScalar(.5),aS.copy(n).sub(e).normalize(),$f.copy(this.origin).sub(lT);const a=e.distanceTo(n)*.5,s=-this.direction.dot(aS),l=$f.dot(this.direction),c=-$f.dot(aS),h=$f.lengthSq(),p=Math.abs(1-s*s);let g,v,x,_;if(p>0)if(g=s*c-l,v=s*l-c,_=a*p,g>=0)if(v>=-_)if(v<=_){const w=1/p;g*=w,v*=w,x=g*(g+s*v+2*l)+v*(s*g+v+2*c)+h}else v=a,g=Math.max(0,-(s*v+l)),x=-g*g+v*(v+2*c)+h;else v=-a,g=Math.max(0,-(s*v+l)),x=-g*g+v*(v+2*c)+h;else v<=-_?(g=Math.max(0,-(-s*a+l)),v=g>0?-a:Math.min(Math.max(-a,-c),a),x=-g*g+v*(v+2*c)+h):v<=_?(g=0,v=Math.min(Math.max(-a,-c),a),x=v*(v+2*c)+h):(g=Math.max(0,-(s*a+l)),v=g>0?a:Math.min(Math.max(-a,-c),a),x=-g*g+v*(v+2*c)+h);else v=s>0?-a:a,g=Math.max(0,-(s*v+l)),x=-g*g+v*(v+2*c)+h;return i&&i.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(lT).addScaledVector(aS,v),x}intersectSphere(e,n){wc.subVectors(e.center,this.origin);const i=wc.dot(this.direction),r=wc.dot(wc)-i*i,a=e.radius*e.radius;if(r>a)return null;const s=Math.sqrt(a-r),l=i-s,c=i+s;return c<0?null:l<0?this.at(c,n):this.at(l,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,a,s,l,c;const h=1/this.direction.x,p=1/this.direction.y,g=1/this.direction.z,v=this.origin;return h>=0?(i=(e.min.x-v.x)*h,r=(e.max.x-v.x)*h):(i=(e.max.x-v.x)*h,r=(e.min.x-v.x)*h),p>=0?(a=(e.min.y-v.y)*p,s=(e.max.y-v.y)*p):(a=(e.max.y-v.y)*p,s=(e.min.y-v.y)*p),i>s||a>r||((a>i||isNaN(i))&&(i=a),(s<r||isNaN(r))&&(r=s),g>=0?(l=(e.min.z-v.z)*g,c=(e.max.z-v.z)*g):(l=(e.max.z-v.z)*g,c=(e.min.z-v.z)*g),i>c||l>r)||((l>i||i!==i)&&(i=l),(c<r||r!==r)&&(r=c),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,wc)!==null}intersectTriangle(e,n,i,r,a){uT.subVectors(n,e),sS.subVectors(i,e),cT.crossVectors(uT,sS);let s=this.direction.dot(cT),l;if(s>0){if(r)return null;l=1}else if(s<0)l=-1,s=-s;else return null;$f.subVectors(this.origin,e);const c=l*this.direction.dot(sS.crossVectors($f,sS));if(c<0)return null;const h=l*this.direction.dot(uT.cross($f));if(h<0||c+h>s)return null;const p=-l*$f.dot(cT);return p<0?null:this.at(p/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Wc extends Ya{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Gs,this.combine=Px,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const aL=new on,gd=new Zg,oS=new Ra,sL=new ee,lS=new ee,uS=new ee,cS=new ee,fT=new ee,fS=new ee,oL=new ee,hS=new ee;class ar extends Zn{constructor(e=new yn,n=new Wc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,s=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(a&&l){fS.set(0,0,0);for(let c=0,h=a.length;c<h;c++){const p=l[c],g=a[c];p!==0&&(fT.fromBufferAttribute(g,e),s?fS.addScaledVector(fT,p):fS.addScaledVector(fT.sub(n),p))}n.add(fS)}return n}raycast(e,n){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),oS.copy(i.boundingSphere),oS.applyMatrix4(a),gd.copy(e.ray).recast(e.near),!(oS.containsPoint(gd.origin)===!1&&(gd.intersectSphere(oS,sL)===null||gd.origin.distanceToSquared(sL)>(e.far-e.near)**2))&&(aL.copy(a).invert(),gd.copy(e.ray).applyMatrix4(aL),!(i.boundingBox!==null&&gd.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,gd)))}_computeIntersections(e,n,i){let r;const a=this.geometry,s=this.material,l=a.index,c=a.attributes.position,h=a.attributes.uv,p=a.attributes.uv1,g=a.attributes.normal,v=a.groups,x=a.drawRange;if(l!==null)if(Array.isArray(s))for(let _=0,w=v.length;_<w;_++){const S=v[_],M=s[S.materialIndex],T=Math.max(S.start,x.start),R=Math.min(l.count,Math.min(S.start+S.count,x.start+x.count));for(let P=T,L=R;P<L;P+=3){const I=l.getX(P),B=l.getX(P+1),D=l.getX(P+2);r=dS(this,M,e,i,h,p,g,I,B,D),r&&(r.faceIndex=Math.floor(P/3),r.face.materialIndex=S.materialIndex,n.push(r))}}else{const _=Math.max(0,x.start),w=Math.min(l.count,x.start+x.count);for(let S=_,M=w;S<M;S+=3){const T=l.getX(S),R=l.getX(S+1),P=l.getX(S+2);r=dS(this,s,e,i,h,p,g,T,R,P),r&&(r.faceIndex=Math.floor(S/3),n.push(r))}}else if(c!==void 0)if(Array.isArray(s))for(let _=0,w=v.length;_<w;_++){const S=v[_],M=s[S.materialIndex],T=Math.max(S.start,x.start),R=Math.min(c.count,Math.min(S.start+S.count,x.start+x.count));for(let P=T,L=R;P<L;P+=3){const I=P,B=P+1,D=P+2;r=dS(this,M,e,i,h,p,g,I,B,D),r&&(r.faceIndex=Math.floor(P/3),r.face.materialIndex=S.materialIndex,n.push(r))}}else{const _=Math.max(0,x.start),w=Math.min(c.count,x.start+x.count);for(let S=_,M=w;S<M;S+=3){const T=S,R=S+1,P=S+2;r=dS(this,s,e,i,h,p,g,T,R,P),r&&(r.faceIndex=Math.floor(S/3),n.push(r))}}}}function a$(t,e,n,i,r,a,s,l){let c;if(e.side===ps?c=i.intersectTriangle(s,a,r,!0,l):c=i.intersectTriangle(r,a,s,e.side===Lc,l),c===null)return null;hS.copy(l),hS.applyMatrix4(t.matrixWorld);const h=n.ray.origin.distanceTo(hS);return h<n.near||h>n.far?null:{distance:h,point:hS.clone(),object:t}}function dS(t,e,n,i,r,a,s,l,c,h){t.getVertexPosition(l,lS),t.getVertexPosition(c,uS),t.getVertexPosition(h,cS);const p=a$(t,e,n,i,lS,uS,cS,oL);if(p){const g=new ee;Vs.getBarycoord(oL,lS,uS,cS,g),r&&(p.uv=Vs.getInterpolatedAttribute(r,l,c,h,g,new Qe)),a&&(p.uv1=Vs.getInterpolatedAttribute(a,l,c,h,g,new Qe)),s&&(p.normal=Vs.getInterpolatedAttribute(s,l,c,h,g,new ee),p.normal.dot(i.direction)>0&&p.normal.multiplyScalar(-1));const v={a:l,b:c,c:h,normal:new ee,materialIndex:0};Vs.getNormal(lS,uS,cS,v.normal),p.face=v,p.barycoord=g}return p}const lL=new ee,uL=new ii,cL=new ii,s$=new ee,fL=new on,pS=new ee,hT=new Ra,hL=new on,dT=new Zg;class p6 extends ar{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=WR,this.bindMatrix=new on,this.bindMatrixInverse=new on,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new $a),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,pS),this.boundingBox.expandByPoint(pS)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ra),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,pS),this.boundingSphere.expandByPoint(pS)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),hT.copy(this.boundingSphere),hT.applyMatrix4(r),e.ray.intersectsSphere(hT)!==!1&&(hL.copy(r).invert(),dT.copy(e.ray).applyMatrix4(hL),!(this.boundingBox!==null&&dT.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,dT)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ii,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===WR?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===$V?this.bindMatrixInverse.copy(this.bindMatrix).invert():Ct("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;uL.fromBufferAttribute(r.attributes.skinIndex,e),cL.fromBufferAttribute(r.attributes.skinWeight,e),lL.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const s=cL.getComponent(a);if(s!==0){const l=uL.getComponent(a);fL.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),n.addScaledVector(s$.copy(lL).applyMatrix4(fL),s)}}return n.applyMatrix4(this.bindMatrixInverse)}}class n3 extends Zn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Yo extends mi{constructor(e=null,n=1,i=1,r,a,s,l,c,h=_r,p=_r,g,v){super(null,s,l,c,h,p,r,a,g,v),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const dL=new on,o$=new on;class Gw{constructor(e=[],n=[]){this.uuid=so(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){Ct("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new on)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new on;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const l=e[a]?e[a].matrixWorld:o$;dL.multiplyMatrices(l,n[a]),dL.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Gw(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Yo(n,e,e,Sr,Bi);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let s=n[a];s===void 0&&(Ct("Skeleton: No bone found with UUID:",a),s=new n3),this.bones.push(s),this.boneInverses.push(new on().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,a=n.length;r<a;r++){const s=n[r];e.bones.push(s.uuid);const l=i[r];e.boneInverses.push(l.toArray())}return e}}class Dg extends gi{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const qm=new on,pL=new on,mS=[],mL=new $a,l$=new on,$0=new ar,Y0=new Ra;class m6 extends ar{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Dg(new Float32Array(i*16),16),this.previousInstanceMatrix=null,this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,l$)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new $a),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,qm),mL.copy(e.boundingBox).applyMatrix4(qm),this.boundingBox.union(mL)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ra),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,qm),Y0.copy(e.boundingSphere).applyMatrix4(qm),this.boundingSphere.union(Y0)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.previousInstanceMatrix!==null&&(this.previousInstanceMatrix=e.previousInstanceMatrix.clone()),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,s=e*a+1;for(let l=0;l<i.length;l++)i[l]=r[s+l]}raycast(e,n){const i=this.matrixWorld,r=this.count;if($0.geometry=this.geometry,$0.material=this.material,$0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Y0.copy(this.boundingSphere),Y0.applyMatrix4(i),e.ray.intersectsSphere(Y0)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,qm),pL.multiplyMatrices(i,qm),$0.matrixWorld=pL,$0.raycast(e,mS);for(let s=0,l=mS.length;s<l;s++){const c=mS[s];c.instanceId=a,c.object=this,n.push(c)}mS.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Dg(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Yo(new Float32Array(r*this.count),r,this.count,Dx,Bi));const a=this.morphTexture.source.data.data;let s=0;for(let h=0;h<i.length;h++)s+=i[h];const l=this.geometry.morphTargetsRelative?1:1-s,c=r*e;a[c]=l,a.set(i,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const pT=new ee,u$=new ee,c$=new bn;class eh{constructor(e=new ee(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=pT.subVectors(i,n).cross(u$.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(pT),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:n.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||c$.getNormalMatrix(e),r=this.coplanarPoint(pT).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const vd=new Ra,f$=new Qe(.5,.5),gS=new ee;class Kg{constructor(e=new eh,n=new eh,i=new eh,r=new eh,a=new eh,s=new eh){this.planes=[e,n,i,r,a,s]}set(e,n,i,r,a,s){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(i),l[3].copy(r),l[4].copy(a),l[5].copy(s),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=io,i=!1){const r=this.planes,a=e.elements,s=a[0],l=a[1],c=a[2],h=a[3],p=a[4],g=a[5],v=a[6],x=a[7],_=a[8],w=a[9],S=a[10],M=a[11],T=a[12],R=a[13],P=a[14],L=a[15];if(r[0].setComponents(h-s,x-p,M-_,L-T).normalize(),r[1].setComponents(h+s,x+p,M+_,L+T).normalize(),r[2].setComponents(h+l,x+g,M+w,L+R).normalize(),r[3].setComponents(h-l,x-g,M-w,L-R).normalize(),i)r[4].setComponents(c,v,S,P).normalize(),r[5].setComponents(h-c,x-v,M-S,L-P).normalize();else if(r[4].setComponents(h-c,x-v,M-S,L-P).normalize(),n===io)r[5].setComponents(h+c,x+v,M+S,L+P).normalize();else if(n===sp)r[5].setComponents(c,v,S,P).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),vd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),vd.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(vd)}intersectsSprite(e){vd.center.set(0,0,0);const n=f$.distanceTo(e.center);return vd.radius=.7071067811865476+n,vd.applyMatrix4(e.matrixWorld),this.intersectsSphere(vd)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(gS.x=r.normal.x>0?e.max.x:e.min.x,gS.y=r.normal.y>0?e.max.y:e.min.y,gS.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(gS)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const bu=new on,_u=new Kg;class Ww{constructor(){this.coordinateSystem=io}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(bu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),_u.setFromProjectionMatrix(bu,r.coordinateSystem,r.reversedDepth),_u.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(bu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),_u.setFromProjectionMatrix(bu,r.coordinateSystem,r.reversedDepth),_u.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(bu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),_u.setFromProjectionMatrix(bu,r.coordinateSystem,r.reversedDepth),_u.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(bu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),_u.setFromProjectionMatrix(bu,r.coordinateSystem,r.reversedDepth),_u.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(bu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),_u.setFromProjectionMatrix(bu,r.coordinateSystem,r.reversedDepth),_u.containsPoint(e))return!0}return!1}clone(){return new Ww}}function mT(t,e){return t-e}function h$(t,e){return t.z-e.z}function d$(t,e){return e.z-t.z}class p${constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i,r){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const l=a[this.index];s.push(l),this.index++,l.start=e,l.count=n,l.z=i,l.index=r}reset(){this.list.length=0,this.index=0}}const ks=new on,m$=new Ut(1,1,1),gL=new Kg,g$=new Ww,vS=new $a,yd=new Ra,Z0=new ee,vL=new ee,v$=new ee,gT=new p$,Ga=new ar,yS=[];function y$(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let a=0;a<r;a++)for(let s=0;s<i;s++)e.setComponent(a+n,s,t.getComponent(a,s))}else e.array.set(t.array,n*i);e.needsUpdate=!0}function xd(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)e[i]=t[i]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class g6 extends ar{constructor(e,n,i=n*2,r){super(new yn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new Yo(n,e,e,Sr,Bi);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new Yo(n,e,e,Ix,co);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new Yo(n,e,e,Sr,Bi);i.colorSpace=Hn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:l,itemSize:c,normalized:h}=s,p=new l.constructor(i*c),g=new gi(p,c,h);n.setAttribute(a,g)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);n.setIndex(new gi(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=n.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new $a);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,ks),this.getBoundingBoxAt(a,vS).applyMatrix4(ks),e.union(vS)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ra);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,ks),this.getBoundingSphereAt(a,yd).applyMatrix4(ks),e.union(yd)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(mT),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;ks.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(m$.toArray(s.image.data,r*4),s.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,n=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const s=e.getIndex();if(s!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?s.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(mT),c=this._availableGeometryIds.shift(),a[c]=r):(c=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(c,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,c}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),s=n.getIndex(),l=this._geometryInfo[e];if(r&&s.count>l.reservedIndexCount||n.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const c=l.vertexStart,h=l.reservedVertexCount;l.vertexCount=n.getAttribute("position").count;for(const p in i.attributes){const g=n.getAttribute(p),v=i.getAttribute(p);y$(g,v,c);const x=g.itemSize;for(let _=g.count,w=h;_<w;_++){const S=c+_;for(let M=0;M<x;M++)v.setComponent(S,M,0)}v.needsUpdate=!0,v.addUpdateRange(c*x,h*x)}if(r){const p=l.indexStart,g=l.reservedIndexCount;l.indexCount=n.getIndex().count;for(let v=0;v<s.count;v++)a.setX(p+v,c+s.getX(v));for(let v=s.count,x=g;v<x;v++)a.setX(p+v,c);a.needsUpdate=!0,a.addUpdateRange(p,l.reservedIndexCount)}return l.start=r?l.indexStart:l.vertexStart,l.count=r?l.indexCount:l.vertexCount,l.boundingBox=null,n.boundingBox!==null&&(l.boundingBox=n.boundingBox.clone()),l.boundingSphere=null,n.boundingSphere!==null&&(l.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const i=this._geometryInfo,r=i.map((s,l)=>l).sort((s,l)=>i[s].vertexStart-i[l].vertexStart),a=this.geometry;for(let s=0,l=i.length;s<l;s++){const c=r[s],h=i[c];if(h.active!==!1){if(a.index!==null){if(h.indexStart!==n){const{indexStart:p,vertexStart:g,reservedIndexCount:v}=h,x=a.index,_=x.array,w=e-g;for(let S=p;S<p+v;S++)_[S]=_[S]+w;x.array.copyWithin(n,p,p+v),x.addUpdateRange(n,v),x.needsUpdate=!0,h.indexStart=n}n+=h.reservedIndexCount}if(h.vertexStart!==e){const{vertexStart:p,reservedVertexCount:g}=h,v=a.attributes;for(const x in v){const _=v[x],{array:w,itemSize:S}=_;w.copyWithin(e*S,p*S,(p+g)*S),_.addUpdateRange(e*S,g*S),_.needsUpdate=!0}h.vertexStart=e}e+=h.reservedVertexCount,h.start=a.index?h.indexStart:h.vertexStart}}return this._nextIndexStart=n,this._nextVertexStart=e,this._visibilityChanged=!0,this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new $a,s=i.index,l=i.attributes.position;for(let c=r.start,h=r.start+r.count;c<h;c++){let p=c;s&&(p=s.getX(p)),a.expandByPoint(Z0.fromBufferAttribute(l,p))}r.boundingBox=a}return n.copy(r.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new Ra;this.getBoundingBoxAt(e,vS),vS.getCenter(a.center);const s=i.index,l=i.attributes.position;let c=0;for(let h=r.start,p=r.start+r.count;h<p;h++){let g=h;s&&(g=s.getX(g)),Z0.fromBufferAttribute(l,g),c=Math.max(c,a.center.distanceToSquared(Z0))}a.radius=Math.sqrt(c),r.boundingSphere=a}return n.copy(r.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return n.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return n.vertexStart=i.vertexStart,n.vertexCount=i.vertexCount,n.reservedVertexCount=i.reservedVertexCount,n.indexStart=i.indexStart,n.indexCount=i.indexCount,n.reservedIndexCount=i.reservedIndexCount,n.start=i.start,n.count=i.count,n}setInstanceCount(e){const n=this._availableInstanceIds,i=this._instanceInfo;for(n.sort(mT);n[n.length-1]===i.length-1;)i.pop(),n.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);xd(this._multiDrawCounts,r),xd(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,l=this._matricesTexture,c=this._colorsTexture;s.dispose(),this._initIndirectTexture(),xd(s.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),xd(l.image.data,this._matricesTexture.image.data),c&&(c.dispose(),this._initColorsTexture(),xd(c.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(c=>c.indexStart+c.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new yn,this._initializeGeometry(a));const s=this.geometry;a.index&&xd(a.index.array,s.index.array);for(const l in a.attributes)xd(a.attributes[l].array,s.attributes[l].array)}raycast(e,n){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,s=this.geometry;Ga.material=this.material,Ga.geometry.index=s.index,Ga.geometry.attributes=s.attributes,Ga.geometry.boundingBox===null&&(Ga.geometry.boundingBox=new $a),Ga.geometry.boundingSphere===null&&(Ga.geometry.boundingSphere=new Ra);for(let l=0,c=i.length;l<c;l++){if(!i[l].visible||!i[l].active)continue;const h=i[l].geometryIndex,p=r[h];Ga.geometry.setDrawRange(p.start,p.count),this.getMatrixAt(l,Ga.matrixWorld).premultiply(a),this.getBoundingBoxAt(h,Ga.geometry.boundingBox),this.getBoundingSphereAt(h,Ga.geometry.boundingSphere),Ga.raycast(e,yS);for(let g=0,v=yS.length;g<v;g++){const x=yS[g];x.object=this,x.batchId=l,n.push(x)}yS.length=0}Ga.material=null,Ga.geometry.index=null,Ga.geometry.attributes={},Ga.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=r.getIndex();let l=s===null?1:s.array.BYTES_PER_ELEMENT,c=1;a.wireframe&&(c=2,l=r.attributes.position.count>65535?4:2);const h=this._instanceInfo,p=this._multiDrawStarts,g=this._multiDrawCounts,v=this._geometryInfo,x=this.perObjectFrustumCulled,_=this._indirectTexture,w=_.image.data,S=i.isArrayCamera?g$:gL;x&&!i.isArrayCamera&&(ks.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),gL.setFromProjectionMatrix(ks,i.coordinateSystem,i.reversedDepth));let M=0;if(this.sortObjects){ks.copy(this.matrixWorld).invert(),Z0.setFromMatrixPosition(i.matrixWorld).applyMatrix4(ks),vL.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(ks);for(let P=0,L=h.length;P<L;P++)if(h[P].visible&&h[P].active){const I=h[P].geometryIndex;this.getMatrixAt(P,ks),this.getBoundingSphereAt(I,yd).applyMatrix4(ks);let B=!1;if(x&&(B=!S.intersectsSphere(yd,i)),!B){const D=v[I],z=v$.subVectors(yd.center,Z0).dot(vL);gT.push(D.start,D.count,z,P)}}const T=gT.list,R=this.customSort;R===null?T.sort(a.transparent?d$:h$):R.call(this,T,i);for(let P=0,L=T.length;P<L;P++){const I=T[P];p[M]=I.start*l*c,g[M]=I.count*c,w[M]=I.index,M++}gT.reset()}else for(let T=0,R=h.length;T<R;T++)if(h[T].visible&&h[T].active){const P=h[T].geometryIndex;let L=!1;if(x&&(this.getMatrixAt(T,ks),this.getBoundingSphereAt(P,yd).applyMatrix4(ks),L=!S.intersectsSphere(yd,i)),!L){const I=v[P];p[M]=I.start*l*c,g[M]=I.count*c,w[M]=T,M++}}_.needsUpdate=!0,this._multiDrawCount=M,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,a,s){this.onBeforeRender(e,null,r,a,s)}}class vs extends Ya{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ut(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const xM=new ee,bM=new ee,yL=new on,K0=new Zg,xS=new Ra,vT=new ee,xL=new ee;class gh extends Zn{constructor(e=new yn,n=new vs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,a=n.count;r<a;r++)xM.fromBufferAttribute(n,r-1),bM.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=xM.distanceTo(bM);e.setAttribute("lineDistance",new Bt(i,1))}else Ct("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),xS.copy(i.boundingSphere),xS.applyMatrix4(r),xS.radius+=a,e.ray.intersectsSphere(xS)===!1)return;yL.copy(r).invert(),K0.copy(e.ray).applyMatrix4(yL);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,h=this.isLineSegments?2:1,p=i.index,v=i.attributes.position;if(p!==null){const x=Math.max(0,s.start),_=Math.min(p.count,s.start+s.count);for(let w=x,S=_-1;w<S;w+=h){const M=p.getX(w),T=p.getX(w+1),R=bS(this,e,K0,c,M,T,w);R&&n.push(R)}if(this.isLineLoop){const w=p.getX(_-1),S=p.getX(x),M=bS(this,e,K0,c,w,S,_-1);M&&n.push(M)}}else{const x=Math.max(0,s.start),_=Math.min(v.count,s.start+s.count);for(let w=x,S=_-1;w<S;w+=h){const M=bS(this,e,K0,c,w,w+1,w);M&&n.push(M)}if(this.isLineLoop){const w=bS(this,e,K0,c,_-1,x,_-1);w&&n.push(w)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function bS(t,e,n,i,r,a,s){const l=t.geometry.attributes.position;if(xM.fromBufferAttribute(l,r),bM.fromBufferAttribute(l,a),n.distanceSqToSegment(xM,bM,vT,xL)>i)return;vT.applyMatrix4(t.matrixWorld);const h=e.ray.origin.distanceTo(vT);if(!(h<e.near||h>e.far))return{distance:h,point:xL.clone().applyMatrix4(t.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:t}}const bL=new ee,_L=new ee;class ju extends gh{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,a=n.count;r<a;r+=2)bL.fromBufferAttribute(n,r),_L.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+bL.distanceTo(_L);e.setAttribute("lineDistance",new Bt(i,1))}else Ct("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class v6 extends gh{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class qw extends Ya{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ut(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const SL=new on,ZR=new Zg,_S=new Ra,SS=new ee;let y6=class extends Zn{constructor(e=new yn,n=new qw){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),_S.copy(i.boundingSphere),_S.applyMatrix4(r),_S.radius+=a,e.ray.intersectsSphere(_S)===!1)return;SL.copy(r).invert(),ZR.copy(e.ray).applyMatrix4(SL);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,h=i.index,g=i.attributes.position;if(h!==null){const v=Math.max(0,s.start),x=Math.min(h.count,s.start+s.count);for(let _=v,w=x;_<w;_++){const S=h.getX(_);SS.fromBufferAttribute(g,S),ML(SS,S,c,r,e,n,this)}}else{const v=Math.max(0,s.start),x=Math.min(g.count,s.start+s.count);for(let _=v,w=x;_<w;_++)SS.fromBufferAttribute(g,_),ML(SS,_,c,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}};function ML(t,e,n,i,r,a,s){const l=ZR.distanceSqToPoint(t);if(l<n){const c=new ee;ZR.closestPointToPoint(t,c),c.applyMatrix4(i);const h=r.ray.origin.distanceTo(c);if(h<r.near||h>r.far)return;a.push({distance:h,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class x6 extends mi{constructor(e,n,i,r,a=kn,s=kn,l,c,h){super(e,n,i,r,a,s,l,c,h),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const p=this;function g(){p.needsUpdate=!0,p._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class x$ extends x6{constructor(e,n,i,r,a,s,l,c){super({},e,n,i,r,a,s,l,c),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class b$ extends mi{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=_r,this.minFilter=_r,this.generateMipmaps=!1,this.needsUpdate=!0}}class Xw extends mi{constructor(e,n,i,r,a,s,l,c,h,p,g,v){super(null,s,l,c,h,p,r,a,g,v),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class _$ extends Xw{constructor(e,n,i,r,a,s){super(e,n,i,a,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=pr,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class S$ extends Xw{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,Bl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Lx extends mi{constructor(e=[],n=Bl,i,r,a,s,l,c,h,p){super(e,n,i,r,a,s,l,c,h,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class M$ extends mi{constructor(e,n,i,r,a,s,l,c,h){super(e,n,i,r,a,s,l,c,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class lp extends mi{constructor(e,n,i=co,r,a,s,l=_r,c=_r,h,p=zu,g=1){if(p!==zu&&p!==ah)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const v={width:e,height:n,depth:g};super(v,r,a,s,l,c,p,i,h),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new sh(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class b6 extends lp{constructor(e,n=co,i=Bl,r,a,s=_r,l=_r,c,h=zu){const p={width:e,height:e,depth:1},g=[p,p,p,p,p,p];super(e,e,n,i,r,a,s,l,c,h),this.image=g,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class i3 extends mi{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class yp extends yn{constructor(e=1,n=1,i=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:a,depthSegments:s};const l=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);const c=[],h=[],p=[],g=[];let v=0,x=0;_("z","y","x",-1,-1,i,n,e,s,a,0),_("z","y","x",1,-1,i,n,-e,s,a,1),_("x","z","y",1,1,e,i,n,r,s,2),_("x","z","y",1,-1,e,i,-n,r,s,3),_("x","y","z",1,-1,e,n,i,r,a,4),_("x","y","z",-1,-1,e,n,-i,r,a,5),this.setIndex(c),this.setAttribute("position",new Bt(h,3)),this.setAttribute("normal",new Bt(p,3)),this.setAttribute("uv",new Bt(g,2));function _(w,S,M,T,R,P,L,I,B,D,z){const W=P/B,j=L/D,G=P/2,J=L/2,te=I/2,ie=B+1,q=D+1;let K=0,pe=0;const de=new ee;for(let _e=0;_e<q;_e++){const Y=_e*j-J;for(let re=0;re<ie;re++){const Me=re*W-G;de[w]=Me*T,de[S]=Y*R,de[M]=te,h.push(de.x,de.y,de.z),de[w]=0,de[S]=0,de[M]=I>0?1:-1,p.push(de.x,de.y,de.z),g.push(re/B),g.push(1-_e/D),K+=1}}for(let _e=0;_e<D;_e++)for(let Y=0;Y<B;Y++){const re=v+Y+ie*_e,Me=v+Y+ie*(_e+1),ke=v+(Y+1)+ie*(_e+1),mt=v+(Y+1)+ie*_e;c.push(re,Me,mt),c.push(Me,ke,mt),pe+=6}l.addGroup(x,pe,z),x+=pe,v+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}class $w extends yn{constructor(e=1,n=1,i=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:i,radialSegments:r,heightSegments:a},n=Math.max(0,n),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const s=[],l=[],c=[],h=[],p=n/2,g=Math.PI/2*e,v=n,x=2*g+v,_=i*2+a,w=r+1,S=new ee,M=new ee;for(let T=0;T<=_;T++){let R=0,P=0,L=0,I=0;if(T<=i){const z=T/i,W=z*Math.PI/2;P=-p-e*Math.cos(W),L=e*Math.sin(W),I=-e*Math.cos(W),R=z*g}else if(T<=i+a){const z=(T-i)/a;P=-p+z*n,L=e,I=0,R=g+z*v}else{const z=(T-i-a)/i,W=z*Math.PI/2;P=p+e*Math.sin(W),L=e*Math.cos(W),I=e*Math.sin(W),R=g+v+z*g}const B=Math.max(0,Math.min(1,R/x));let D=0;T===0?D=.5/r:T===_&&(D=-.5/r);for(let z=0;z<=r;z++){const W=z/r,j=W*Math.PI*2,G=Math.sin(j),J=Math.cos(j);M.x=-L*J,M.y=P,M.z=L*G,l.push(M.x,M.y,M.z),S.set(-L*J,I,L*G),S.normalize(),c.push(S.x,S.y,S.z),h.push(W+D,B)}if(T>0){const z=(T-1)*w;for(let W=0;W<r;W++){const j=z+W,G=z+W+1,J=T*w+W,te=T*w+W+1;s.push(j,G,J),s.push(G,te,J)}}}this.setIndex(s),this.setAttribute("position",new Bt(l,3)),this.setAttribute("normal",new Bt(c,3)),this.setAttribute("uv",new Bt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $w(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class Yw extends yn{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const a=[],s=[],l=[],c=[],h=new ee,p=new Qe;s.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(let g=0,v=3;g<=n;g++,v+=3){const x=i+g/n*r;h.x=e*Math.cos(x),h.y=e*Math.sin(x),s.push(h.x,h.y,h.z),l.push(0,0,1),p.x=(s[v]/e+1)/2,p.y=(s[v+1]/e+1)/2,c.push(p.x,p.y)}for(let g=1;g<=n;g++)a.push(g,g+1,0);this.setIndex(a),this.setAttribute("position",new Bt(s,3)),this.setAttribute("normal",new Bt(l,3)),this.setAttribute("uv",new Bt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yw(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ux extends yn{constructor(e=1,n=1,i=1,r=32,a=1,s=!1,l=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:l,thetaLength:c};const h=this;r=Math.floor(r),a=Math.floor(a);const p=[],g=[],v=[],x=[];let _=0;const w=[],S=i/2;let M=0;T(),s===!1&&(e>0&&R(!0),n>0&&R(!1)),this.setIndex(p),this.setAttribute("position",new Bt(g,3)),this.setAttribute("normal",new Bt(v,3)),this.setAttribute("uv",new Bt(x,2));function T(){const P=new ee,L=new ee;let I=0;const B=(n-e)/i;for(let D=0;D<=a;D++){const z=[],W=D/a,j=W*(n-e)+e;for(let G=0;G<=r;G++){const J=G/r,te=J*c+l,ie=Math.sin(te),q=Math.cos(te);L.x=j*ie,L.y=-W*i+S,L.z=j*q,g.push(L.x,L.y,L.z),P.set(ie,B,q).normalize(),v.push(P.x,P.y,P.z),x.push(J,1-W),z.push(_++)}w.push(z)}for(let D=0;D<r;D++)for(let z=0;z<a;z++){const W=w[z][D],j=w[z+1][D],G=w[z+1][D+1],J=w[z][D+1];(e>0||z!==0)&&(p.push(W,j,J),I+=3),(n>0||z!==a-1)&&(p.push(j,G,J),I+=3)}h.addGroup(M,I,0),M+=I}function R(P){const L=_,I=new Qe,B=new ee;let D=0;const z=P===!0?e:n,W=P===!0?1:-1;for(let G=1;G<=r;G++)g.push(0,S*W,0),v.push(0,W,0),x.push(.5,.5),_++;const j=_;for(let G=0;G<=r;G++){const te=G/r*c+l,ie=Math.cos(te),q=Math.sin(te);B.x=z*q,B.y=S*W,B.z=z*ie,g.push(B.x,B.y,B.z),v.push(0,W,0),I.x=ie*.5+.5,I.y=q*.5*W+.5,x.push(I.x,I.y),_++}for(let G=0;G<r;G++){const J=L+G,te=j+G;P===!0?p.push(te,te+1,J):p.push(te+1,te,J),D+=3}h.addGroup(M,D,P===!0?1:2),M+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ux(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class zx extends Ux{constructor(e=1,n=1,i=32,r=1,a=!1,s=0,l=Math.PI*2){super(0,e,n,i,r,a,s,l),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:l}}static fromJSON(e){return new zx(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class _h extends yn{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const a=[],s=[];l(r),h(i),p(),this.setAttribute("position",new Bt(a,3)),this.setAttribute("normal",new Bt(a.slice(),3)),this.setAttribute("uv",new Bt(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(T){const R=new ee,P=new ee,L=new ee;for(let I=0;I<n.length;I+=3)x(n[I+0],R),x(n[I+1],P),x(n[I+2],L),c(R,P,L,T)}function c(T,R,P,L){const I=L+1,B=[];for(let D=0;D<=I;D++){B[D]=[];const z=T.clone().lerp(P,D/I),W=R.clone().lerp(P,D/I),j=I-D;for(let G=0;G<=j;G++)G===0&&D===I?B[D][G]=z:B[D][G]=z.clone().lerp(W,G/j)}for(let D=0;D<I;D++)for(let z=0;z<2*(I-D)-1;z++){const W=Math.floor(z/2);z%2===0?(v(B[D][W+1]),v(B[D+1][W]),v(B[D][W])):(v(B[D][W+1]),v(B[D+1][W+1]),v(B[D+1][W]))}}function h(T){const R=new ee;for(let P=0;P<a.length;P+=3)R.x=a[P+0],R.y=a[P+1],R.z=a[P+2],R.normalize().multiplyScalar(T),a[P+0]=R.x,a[P+1]=R.y,a[P+2]=R.z}function p(){const T=new ee;for(let R=0;R<a.length;R+=3){T.x=a[R+0],T.y=a[R+1],T.z=a[R+2];const P=S(T)/2/Math.PI+.5,L=M(T)/Math.PI+.5;s.push(P,1-L)}_(),g()}function g(){for(let T=0;T<s.length;T+=6){const R=s[T+0],P=s[T+2],L=s[T+4],I=Math.max(R,P,L),B=Math.min(R,P,L);I>.9&&B<.1&&(R<.2&&(s[T+0]+=1),P<.2&&(s[T+2]+=1),L<.2&&(s[T+4]+=1))}}function v(T){a.push(T.x,T.y,T.z)}function x(T,R){const P=T*3;R.x=e[P+0],R.y=e[P+1],R.z=e[P+2]}function _(){const T=new ee,R=new ee,P=new ee,L=new ee,I=new Qe,B=new Qe,D=new Qe;for(let z=0,W=0;z<a.length;z+=9,W+=6){T.set(a[z+0],a[z+1],a[z+2]),R.set(a[z+3],a[z+4],a[z+5]),P.set(a[z+6],a[z+7],a[z+8]),I.set(s[W+0],s[W+1]),B.set(s[W+2],s[W+3]),D.set(s[W+4],s[W+5]),L.copy(T).add(R).add(P).divideScalar(3);const j=S(L);w(I,W+0,T,j),w(B,W+2,R,j),w(D,W+4,P,j)}}function w(T,R,P,L){L<0&&T.x===1&&(s[R]=T.x-1),P.x===0&&P.z===0&&(s[R]=L/2/Math.PI+.5)}function S(T){return Math.atan2(T.z,-T.x)}function M(T){return Math.atan2(-T.y,Math.sqrt(T.x*T.x+T.z*T.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _h(e.vertices,e.indices,e.radius,e.detail)}}class Zw extends _h{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Zw(e.radius,e.detail)}}const MS=new ee,wS=new ee,yT=new ee,ES=new Vs;class _6 extends yn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),a=Math.cos(Kd*n),s=e.getIndex(),l=e.getAttribute("position"),c=s?s.count:l.count,h=[0,0,0],p=["a","b","c"],g=new Array(3),v={},x=[];for(let _=0;_<c;_+=3){s?(h[0]=s.getX(_),h[1]=s.getX(_+1),h[2]=s.getX(_+2)):(h[0]=_,h[1]=_+1,h[2]=_+2);const{a:w,b:S,c:M}=ES;if(w.fromBufferAttribute(l,h[0]),S.fromBufferAttribute(l,h[1]),M.fromBufferAttribute(l,h[2]),ES.getNormal(yT),g[0]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,g[1]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,g[2]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let T=0;T<3;T++){const R=(T+1)%3,P=g[T],L=g[R],I=ES[p[T]],B=ES[p[R]],D=`${P}_${L}`,z=`${L}_${P}`;z in v&&v[z]?(yT.dot(v[z].normal)<=a&&(x.push(I.x,I.y,I.z),x.push(B.x,B.y,B.z)),v[z]=null):D in v||(v[D]={index0:h[T],index1:h[R],normal:yT.clone()})}}for(const _ in v)if(v[_]){const{index0:w,index1:S}=v[_];MS.fromBufferAttribute(l,w),wS.fromBufferAttribute(l,S),x.push(MS.x,MS.y,MS.z),x.push(wS.x,wS.y,wS.z)}this.setAttribute("position",new Bt(x,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Gl=class{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Ct("Curve: .getPoint() not implemented.")}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),a=0;n.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),a+=i.distanceTo(r),n.push(a),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const i=this.getLengths();let r=0;const a=i.length;let s;n?s=n:s=e*i[a-1];let l=0,c=a-1,h;for(;l<=c;)if(r=Math.floor(l+(c-l)/2),h=i[r]-s,h<0)l=r+1;else if(h>0)c=r-1;else{c=r;break}if(r=c,i[r]===s)return r/(a-1);const p=i[r],v=i[r+1]-p,x=(s-p)/v;return(r+x)/(a-1)}getTangent(e,n){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const s=this.getPoint(r),l=this.getPoint(a),c=n||(s.isVector2?new Qe:new ee);return c.copy(l).sub(s).normalize(),c}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n=!1){const i=new ee,r=[],a=[],s=[],l=new ee,c=new on;for(let x=0;x<=e;x++){const _=x/e;r[x]=this.getTangentAt(_,new ee)}a[0]=new ee,s[0]=new ee;let h=Number.MAX_VALUE;const p=Math.abs(r[0].x),g=Math.abs(r[0].y),v=Math.abs(r[0].z);p<=h&&(h=p,i.set(1,0,0)),g<=h&&(h=g,i.set(0,1,0)),v<=h&&i.set(0,0,1),l.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],l),s[0].crossVectors(r[0],a[0]);for(let x=1;x<=e;x++){if(a[x]=a[x-1].clone(),s[x]=s[x-1].clone(),l.crossVectors(r[x-1],r[x]),l.length()>Number.EPSILON){l.normalize();const _=Math.acos(fn(r[x-1].dot(r[x]),-1,1));a[x].applyMatrix4(c.makeRotationAxis(l,_))}s[x].crossVectors(r[x],a[x])}if(n===!0){let x=Math.acos(fn(a[0].dot(a[e]),-1,1));x/=e,r[0].dot(l.crossVectors(a[0],a[e]))>0&&(x=-x);for(let _=1;_<=e;_++)a[_].applyMatrix4(c.makeRotationAxis(r[_],x*_)),s[_].crossVectors(r[_],a[_])}return{tangents:r,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class Kw extends Gl{constructor(e=0,n=0,i=1,r=1,a=0,s=Math.PI*2,l=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=l,this.aRotation=c}getPoint(e,n=new Qe){const i=n,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(s?a=0:a=r),this.aClockwise===!0&&!s&&(a===r?a=-r:a=a-r);const l=this.aStartAngle+e*a;let c=this.aX+this.xRadius*Math.cos(l),h=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const p=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=c-this.aX,x=h-this.aY;c=v*p-x*g+this.aX,h=v*g+x*p+this.aY}return i.set(c,h)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class S6 extends Kw{constructor(e,n,i,r,a,s){super(e,n,i,i,r,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function r3(){let t=0,e=0,n=0,i=0;function r(a,s,l,c){t=a,e=l,n=-3*a+3*s-2*l-c,i=2*a-2*s+l+c}return{initCatmullRom:function(a,s,l,c,h){r(s,l,h*(l-a),h*(c-s))},initNonuniformCatmullRom:function(a,s,l,c,h,p,g){let v=(s-a)/h-(l-a)/(h+p)+(l-s)/p,x=(l-s)/p-(c-s)/(p+g)+(c-l)/g;v*=p,x*=p,r(s,l,v,x)},calc:function(a){const s=a*a,l=s*a;return t+e*a+n*s+i*l}}}const AS=new ee,xT=new r3,bT=new r3,_T=new r3;class M6 extends Gl{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new ee){const i=n,r=this.points,a=r.length,s=(a-(this.closed?0:1))*e;let l=Math.floor(s),c=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:c===0&&l===a-1&&(l=a-2,c=1);let h,p;this.closed||l>0?h=r[(l-1)%a]:(AS.subVectors(r[0],r[1]).add(r[0]),h=AS);const g=r[l%a],v=r[(l+1)%a];if(this.closed||l+2<a?p=r[(l+2)%a]:(AS.subVectors(r[a-1],r[a-2]).add(r[a-1]),p=AS),this.curveType==="centripetal"||this.curveType==="chordal"){const x=this.curveType==="chordal"?.5:.25;let _=Math.pow(h.distanceToSquared(g),x),w=Math.pow(g.distanceToSquared(v),x),S=Math.pow(v.distanceToSquared(p),x);w<1e-4&&(w=1),_<1e-4&&(_=w),S<1e-4&&(S=w),xT.initNonuniformCatmullRom(h.x,g.x,v.x,p.x,_,w,S),bT.initNonuniformCatmullRom(h.y,g.y,v.y,p.y,_,w,S),_T.initNonuniformCatmullRom(h.z,g.z,v.z,p.z,_,w,S)}else this.curveType==="catmullrom"&&(xT.initCatmullRom(h.x,g.x,v.x,p.x,this.tension),bT.initCatmullRom(h.y,g.y,v.y,p.y,this.tension),_T.initCatmullRom(h.z,g.z,v.z,p.z,this.tension));return i.set(xT.calc(c),bT.calc(c),_T.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new ee().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function wL(t,e,n,i,r){const a=(i-e)*.5,s=(r-n)*.5,l=t*t,c=t*l;return(2*n-2*i+a+s)*c+(-3*n+3*i-2*a-s)*l+a*t+n}function w$(t,e){const n=1-t;return n*n*e}function E$(t,e){return 2*(1-t)*t*e}function A$(t,e){return t*t*e}function Ly(t,e,n,i){return w$(t,e)+E$(t,n)+A$(t,i)}function T$(t,e){const n=1-t;return n*n*n*e}function C$(t,e){const n=1-t;return 3*n*n*t*e}function R$(t,e){return 3*(1-t)*t*t*e}function P$(t,e){return t*t*t*e}function Uy(t,e,n,i,r){return T$(t,e)+C$(t,n)+R$(t,i)+P$(t,r)}class a3 extends Gl{constructor(e=new Qe,n=new Qe,i=new Qe,r=new Qe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new Qe){const i=n,r=this.v0,a=this.v1,s=this.v2,l=this.v3;return i.set(Uy(e,r.x,a.x,s.x,l.x),Uy(e,r.y,a.y,s.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class w6 extends Gl{constructor(e=new ee,n=new ee,i=new ee,r=new ee){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new ee){const i=n,r=this.v0,a=this.v1,s=this.v2,l=this.v3;return i.set(Uy(e,r.x,a.x,s.x,l.x),Uy(e,r.y,a.y,s.y,l.y),Uy(e,r.z,a.z,s.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class s3 extends Gl{constructor(e=new Qe,n=new Qe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Qe){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Qe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class E6 extends Gl{constructor(e=new ee,n=new ee){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ee){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ee){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class o3 extends Gl{constructor(e=new Qe,n=new Qe,i=new Qe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new Qe){const i=n,r=this.v0,a=this.v1,s=this.v2;return i.set(Ly(e,r.x,a.x,s.x),Ly(e,r.y,a.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class l3 extends Gl{constructor(e=new ee,n=new ee,i=new ee){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new ee){const i=n,r=this.v0,a=this.v1,s=this.v2;return i.set(Ly(e,r.x,a.x,s.x),Ly(e,r.y,a.y,s.y),Ly(e,r.z,a.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class u3 extends Gl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Qe){const i=n,r=this.points,a=(r.length-1)*e,s=Math.floor(a),l=a-s,c=r[s===0?s:s-1],h=r[s],p=r[s>r.length-2?r.length-1:s+1],g=r[s>r.length-3?r.length-1:s+2];return i.set(wL(l,c.x,h.x,p.x,g.x),wL(l,c.y,h.y,p.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new Qe().fromArray(r))}return this}}var _M=Object.freeze({__proto__:null,ArcCurve:S6,CatmullRomCurve3:M6,CubicBezierCurve:a3,CubicBezierCurve3:w6,EllipseCurve:Kw,LineCurve:s3,LineCurve3:E6,QuadraticBezierCurve:o3,QuadraticBezierCurve3:l3,SplineCurve:u3});class A6 extends Gl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new _M[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const s=r[a]-i,l=this.curves[a],c=l.getLength(),h=c===0?0:1-s/c;return l.getPointAt(h,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const s=a[r],l=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,c=s.getPoints(l);for(let h=0;h<c.length;h++){const p=c[h];i&&i.equals(p)||(n.push(p),i=p)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new _M[r.type]().fromJSON(r))}return this}}let SM=class extends A6{constructor(e){super(),this.type="Path",this.currentPoint=new Qe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new s3(this.currentPoint.clone(),new Qe(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const a=new o3(this.currentPoint.clone(),new Qe(e,n),new Qe(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,a,s){const l=new a3(this.currentPoint.clone(),new Qe(e,n),new Qe(i,r),new Qe(a,s));return this.curves.push(l),this.currentPoint.set(a,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new u3(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,a,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,n+c,i,r,a,s),this}absarc(e,n,i,r,a,s){return this.absellipse(e,n,i,i,r,a,s),this}ellipse(e,n,i,r,a,s,l,c){const h=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+h,n+p,i,r,a,s,l,c),this}absellipse(e,n,i,r,a,s,l,c){const h=new Kw(e,n,i,r,a,s,l,c);if(this.curves.length>0){const g=h.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(h);const p=h.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},Qd=class extends SM{constructor(e){super(e),this.uuid=so(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new SM().fromJSON(r))}return this}};function O$(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let a=T6(t,0,r,n,!0);const s=[];if(!a||a.next===a.prev)return s;let l,c,h;if(i&&(a=U$(t,e,a,n)),t.length>80*n){l=t[0],c=t[1];let p=l,g=c;for(let v=n;v<r;v+=n){const x=t[v],_=t[v+1];x<l&&(l=x),_<c&&(c=_),x>p&&(p=x),_>g&&(g=_)}h=Math.max(p-l,g-c),h=h!==0?32767/h:0}return ex(a,s,n,l,c,h,0),s}function T6(t,e,n,i,r){let a;if(r===X$(t,e,n,i)>0)for(let s=e;s<n;s+=i)a=EL(s/i|0,t[s],t[s+1],a);else for(let s=n-i;s>=e;s-=i)a=EL(s/i|0,t[s],t[s+1],a);return a&&Ig(a,a.next)&&(nx(a),a=a.next),a}function up(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(Ig(n,n.next)||nr(n.prev,n,n.next)===0)){if(nx(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function ex(t,e,n,i,r,a,s){if(!t)return;!s&&a&&V$(t,i,r,a);let l=t;for(;t.prev!==t.next;){const c=t.prev,h=t.next;if(a?I$(t,i,r,a):D$(t)){e.push(c.i,t.i,h.i),nx(t),t=h.next,l=h.next;continue}if(t=h,t===l){s?s===1?(t=N$(up(t),e),ex(t,e,n,i,r,a,2)):s===2&&L$(t,e,n,i,r,a):ex(up(t),e,n,i,r,a,1);break}}}function D$(t){const e=t.prev,n=t,i=t.next;if(nr(e,n,i)>=0)return!1;const r=e.x,a=n.x,s=i.x,l=e.y,c=n.y,h=i.y,p=Math.min(r,a,s),g=Math.min(l,c,h),v=Math.max(r,a,s),x=Math.max(l,c,h);let _=i.next;for(;_!==e;){if(_.x>=p&&_.x<=v&&_.y>=g&&_.y<=x&&by(r,l,a,c,s,h,_.x,_.y)&&nr(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function I$(t,e,n,i){const r=t.prev,a=t,s=t.next;if(nr(r,a,s)>=0)return!1;const l=r.x,c=a.x,h=s.x,p=r.y,g=a.y,v=s.y,x=Math.min(l,c,h),_=Math.min(p,g,v),w=Math.max(l,c,h),S=Math.max(p,g,v),M=KR(x,_,e,n,i),T=KR(w,S,e,n,i);let R=t.prevZ,P=t.nextZ;for(;R&&R.z>=M&&P&&P.z<=T;){if(R.x>=x&&R.x<=w&&R.y>=_&&R.y<=S&&R!==r&&R!==s&&by(l,p,c,g,h,v,R.x,R.y)&&nr(R.prev,R,R.next)>=0||(R=R.prevZ,P.x>=x&&P.x<=w&&P.y>=_&&P.y<=S&&P!==r&&P!==s&&by(l,p,c,g,h,v,P.x,P.y)&&nr(P.prev,P,P.next)>=0))return!1;P=P.nextZ}for(;R&&R.z>=M;){if(R.x>=x&&R.x<=w&&R.y>=_&&R.y<=S&&R!==r&&R!==s&&by(l,p,c,g,h,v,R.x,R.y)&&nr(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;P&&P.z<=T;){if(P.x>=x&&P.x<=w&&P.y>=_&&P.y<=S&&P!==r&&P!==s&&by(l,p,c,g,h,v,P.x,P.y)&&nr(P.prev,P,P.next)>=0)return!1;P=P.nextZ}return!0}function N$(t,e){let n=t;do{const i=n.prev,r=n.next.next;!Ig(i,r)&&R6(i,n,n.next,r)&&tx(i,r)&&tx(r,i)&&(e.push(i.i,n.i,r.i),nx(n),nx(n.next),n=t=r),n=n.next}while(n!==t);return up(n)}function L$(t,e,n,i,r,a){let s=t;do{let l=s.next.next;for(;l!==s.prev;){if(s.i!==l.i&&G$(s,l)){let c=P6(s,l);s=up(s,s.next),c=up(c,c.next),ex(s,e,n,i,r,a,0),ex(c,e,n,i,r,a,0);return}l=l.next}s=s.next}while(s!==t)}function U$(t,e,n,i){const r=[];for(let a=0,s=e.length;a<s;a++){const l=e[a]*i,c=a<s-1?e[a+1]*i:t.length,h=T6(t,l,c,i,!1);h===h.next&&(h.steiner=!0),r.push(j$(h))}r.sort(z$);for(let a=0;a<r.length;a++)n=B$(r[a],n);return n}function z$(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const i=(t.next.y-t.y)/(t.next.x-t.x),r=(e.next.y-e.y)/(e.next.x-e.x);n=i-r}return n}function B$(t,e){const n=k$(t,e);if(!n)return e;const i=P6(n,t);return up(i,i.next),up(n,n.next)}function k$(t,e){let n=e;const i=t.x,r=t.y;let a=-1/0,s;if(Ig(t,n))return n;do{if(Ig(t,n.next))return n.next;if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const g=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(g<=i&&g>a&&(a=g,s=n.x<n.next.x?n:n.next,g===i))return s}n=n.next}while(n!==e);if(!s)return null;const l=s,c=s.x,h=s.y;let p=1/0;n=s;do{if(i>=n.x&&n.x>=c&&i!==n.x&&C6(r<h?i:a,r,c,h,r<h?a:i,r,n.x,n.y)){const g=Math.abs(r-n.y)/(i-n.x);tx(n,t)&&(g<p||g===p&&(n.x>s.x||n.x===s.x&&F$(s,n)))&&(s=n,p=g)}n=n.next}while(n!==l);return s}function F$(t,e){return nr(t.prev,t,e.prev)<0&&nr(e.next,t,t.next)<0}function V$(t,e,n,i){let r=t;do r.z===0&&(r.z=KR(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,H$(r)}function H$(t){let e,n=1;do{let i=t,r;t=null;let a=null;for(e=0;i;){e++;let s=i,l=0;for(let h=0;h<n&&(l++,s=s.nextZ,!!s);h++);let c=n;for(;l>0||c>0&&s;)l!==0&&(c===0||!s||i.z<=s.z)?(r=i,i=i.nextZ,l--):(r=s,s=s.nextZ,c--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;i=s}a.nextZ=null,n*=2}while(e>1);return t}function KR(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function j$(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function C6(t,e,n,i,r,a,s,l){return(r-s)*(e-l)>=(t-s)*(a-l)&&(t-s)*(i-l)>=(n-s)*(e-l)&&(n-s)*(a-l)>=(r-s)*(i-l)}function by(t,e,n,i,r,a,s,l){return!(t===s&&e===l)&&C6(t,e,n,i,r,a,s,l)}function G$(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!W$(t,e)&&(tx(t,e)&&tx(e,t)&&q$(t,e)&&(nr(t.prev,t,e.prev)||nr(t,e.prev,e))||Ig(t,e)&&nr(t.prev,t,t.next)>0&&nr(e.prev,e,e.next)>0)}function nr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ig(t,e){return t.x===e.x&&t.y===e.y}function R6(t,e,n,i){const r=CS(nr(t,e,n)),a=CS(nr(t,e,i)),s=CS(nr(n,i,t)),l=CS(nr(n,i,e));return!!(r!==a&&s!==l||r===0&&TS(t,n,e)||a===0&&TS(t,i,e)||s===0&&TS(n,t,i)||l===0&&TS(n,e,i))}function TS(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function CS(t){return t>0?1:t<0?-1:0}function W$(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&R6(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function tx(t,e){return nr(t.prev,t,t.next)<0?nr(t,e,t.next)>=0&&nr(t,t.prev,e)>=0:nr(t,e,t.prev)<0||nr(t,t.next,e)<0}function q$(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function P6(t,e){const n=QR(t.i,t.x,t.y),i=QR(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function EL(t,e,n,i){const r=QR(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function nx(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function QR(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function X$(t,e,n,i){let r=0;for(let a=e,s=n-i;a<n;a+=i)r+=(t[s]-t[a])*(t[a+1]+t[s+1]),s=a;return r}class $${static triangulate(e,n,i=2){return O$(e,n,i)}}class Il{static area(e){const n=e.length;let i=0;for(let r=n-1,a=0;a<n;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return Il.area(e)<0}static triangulateShape(e,n){const i=[],r=[],a=[];AL(e),TL(i,e);let s=e.length;n.forEach(AL);for(let c=0;c<n.length;c++)r.push(s),s+=n[c].length,TL(i,n[c]);const l=$$.triangulate(i,r);for(let c=0;c<l.length;c+=3)a.push(l.slice(c,c+3));return a}}function AL(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function TL(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Qw extends yn{constructor(e=new Qd([new Qe(.5,.5),new Qe(-.5,.5),new Qe(-.5,-.5),new Qe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let l=0,c=e.length;l<c;l++){const h=e[l];s(h)}this.setAttribute("position",new Bt(r,3)),this.setAttribute("uv",new Bt(a,2)),this.computeVertexNormals();function s(l){const c=[],h=n.curveSegments!==void 0?n.curveSegments:12,p=n.steps!==void 0?n.steps:1,g=n.depth!==void 0?n.depth:1;let v=n.bevelEnabled!==void 0?n.bevelEnabled:!0,x=n.bevelThickness!==void 0?n.bevelThickness:.2,_=n.bevelSize!==void 0?n.bevelSize:x-.1,w=n.bevelOffset!==void 0?n.bevelOffset:0,S=n.bevelSegments!==void 0?n.bevelSegments:3;const M=n.extrudePath,T=n.UVGenerator!==void 0?n.UVGenerator:Y$;let R,P=!1,L,I,B,D;if(M){R=M.getSpacedPoints(p),P=!0,v=!1;const Pe=M.isCatmullRomCurve3?M.closed:!1;L=M.computeFrenetFrames(p,Pe),I=new ee,B=new ee,D=new ee}v||(S=0,x=0,_=0,w=0);const z=l.extractPoints(h);let W=z.shape;const j=z.holes;if(!Il.isClockWise(W)){W=W.reverse();for(let Pe=0,qe=j.length;Pe<qe;Pe++){const He=j[Pe];Il.isClockWise(He)&&(j[Pe]=He.reverse())}}function J(Pe){const He=10000000000000001e-36;let ft=Pe[0];for(let ne=1;ne<=Pe.length;ne++){const Vt=ne%Pe.length,Mt=Pe[Vt],Gt=Mt.x-ft.x,ht=Mt.y-ft.y,Q=Gt*Gt+ht*ht,F=Math.max(Math.abs(Mt.x),Math.abs(Mt.y),Math.abs(ft.x),Math.abs(ft.y)),ge=He*F*F;if(Q<=ge){Pe.splice(Vt,1),ne--;continue}ft=Mt}}J(W),j.forEach(J);const te=j.length,ie=W;for(let Pe=0;Pe<te;Pe++){const qe=j[Pe];W=W.concat(qe)}function q(Pe,qe,He){return qe||Kt("ExtrudeGeometry: vec does not exist"),Pe.clone().addScaledVector(qe,He)}const K=W.length;function pe(Pe,qe,He){let ft,ne,Vt;const Mt=Pe.x-qe.x,Gt=Pe.y-qe.y,ht=He.x-Pe.x,Q=He.y-Pe.y,F=Mt*Mt+Gt*Gt,ge=Mt*Q-Gt*ht;if(Math.abs(ge)>Number.EPSILON){const Ie=Math.sqrt(F),Xe=Math.sqrt(ht*ht+Q*Q),Ue=qe.x-Gt/Ie,Et=qe.y+Mt/Ie,dt=He.x-Q/Xe,Ht=He.y+ht/Xe,Yt=((dt-Ue)*Q-(Ht-Et)*ht)/(Mt*Q-Gt*ht);ft=Ue+Mt*Yt-Pe.x,ne=Et+Gt*Yt-Pe.y;const Je=ft*ft+ne*ne;if(Je<=2)return new Qe(ft,ne);Vt=Math.sqrt(Je/2)}else{let Ie=!1;Mt>Number.EPSILON?ht>Number.EPSILON&&(Ie=!0):Mt<-Number.EPSILON?ht<-Number.EPSILON&&(Ie=!0):Math.sign(Gt)===Math.sign(Q)&&(Ie=!0),Ie?(ft=-Gt,ne=Mt,Vt=Math.sqrt(F)):(ft=Mt,ne=Gt,Vt=Math.sqrt(F/2))}return new Qe(ft/Vt,ne/Vt)}const de=[];for(let Pe=0,qe=ie.length,He=qe-1,ft=Pe+1;Pe<qe;Pe++,He++,ft++)He===qe&&(He=0),ft===qe&&(ft=0),de[Pe]=pe(ie[Pe],ie[He],ie[ft]);const _e=[];let Y,re=de.concat();for(let Pe=0,qe=te;Pe<qe;Pe++){const He=j[Pe];Y=[];for(let ft=0,ne=He.length,Vt=ne-1,Mt=ft+1;ft<ne;ft++,Vt++,Mt++)Vt===ne&&(Vt=0),Mt===ne&&(Mt=0),Y[ft]=pe(He[ft],He[Vt],He[Mt]);_e.push(Y),re=re.concat(Y)}let Me;if(S===0)Me=Il.triangulateShape(ie,j);else{const Pe=[],qe=[];for(let He=0;He<S;He++){const ft=He/S,ne=x*Math.cos(ft*Math.PI/2),Vt=_*Math.sin(ft*Math.PI/2)+w;for(let Mt=0,Gt=ie.length;Mt<Gt;Mt++){const ht=q(ie[Mt],de[Mt],Vt);xe(ht.x,ht.y,-ne),ft===0&&Pe.push(ht)}for(let Mt=0,Gt=te;Mt<Gt;Mt++){const ht=j[Mt];Y=_e[Mt];const Q=[];for(let F=0,ge=ht.length;F<ge;F++){const Ie=q(ht[F],Y[F],Vt);xe(Ie.x,Ie.y,-ne),ft===0&&Q.push(Ie)}ft===0&&qe.push(Q)}}Me=Il.triangulateShape(Pe,qe)}const ke=Me.length,mt=_+w;for(let Pe=0;Pe<K;Pe++){const qe=v?q(W[Pe],re[Pe],mt):W[Pe];P?(B.copy(L.normals[0]).multiplyScalar(qe.x),I.copy(L.binormals[0]).multiplyScalar(qe.y),D.copy(R[0]).add(B).add(I),xe(D.x,D.y,D.z)):xe(qe.x,qe.y,0)}for(let Pe=1;Pe<=p;Pe++)for(let qe=0;qe<K;qe++){const He=v?q(W[qe],re[qe],mt):W[qe];P?(B.copy(L.normals[Pe]).multiplyScalar(He.x),I.copy(L.binormals[Pe]).multiplyScalar(He.y),D.copy(R[Pe]).add(B).add(I),xe(D.x,D.y,D.z)):xe(He.x,He.y,g/p*Pe)}for(let Pe=S-1;Pe>=0;Pe--){const qe=Pe/S,He=x*Math.cos(qe*Math.PI/2),ft=_*Math.sin(qe*Math.PI/2)+w;for(let ne=0,Vt=ie.length;ne<Vt;ne++){const Mt=q(ie[ne],de[ne],ft);xe(Mt.x,Mt.y,g+He)}for(let ne=0,Vt=j.length;ne<Vt;ne++){const Mt=j[ne];Y=_e[ne];for(let Gt=0,ht=Mt.length;Gt<ht;Gt++){const Q=q(Mt[Gt],Y[Gt],ft);P?xe(Q.x,Q.y+R[p-1].y,R[p-1].x+He):xe(Q.x,Q.y,g+He)}}}me(),De();function me(){const Pe=r.length/3;if(v){let qe=0,He=K*qe;for(let ft=0;ft<ke;ft++){const ne=Me[ft];ot(ne[2]+He,ne[1]+He,ne[0]+He)}qe=p+S*2,He=K*qe;for(let ft=0;ft<ke;ft++){const ne=Me[ft];ot(ne[0]+He,ne[1]+He,ne[2]+He)}}else{for(let qe=0;qe<ke;qe++){const He=Me[qe];ot(He[2],He[1],He[0])}for(let qe=0;qe<ke;qe++){const He=Me[qe];ot(He[0]+K*p,He[1]+K*p,He[2]+K*p)}}i.addGroup(Pe,r.length/3-Pe,0)}function De(){const Pe=r.length/3;let qe=0;Ye(ie,qe),qe+=ie.length;for(let He=0,ft=j.length;He<ft;He++){const ne=j[He];Ye(ne,qe),qe+=ne.length}i.addGroup(Pe,r.length/3-Pe,1)}function Ye(Pe,qe){let He=Pe.length;for(;--He>=0;){const ft=He;let ne=He-1;ne<0&&(ne=Pe.length-1);for(let Vt=0,Mt=p+S*2;Vt<Mt;Vt++){const Gt=K*Vt,ht=K*(Vt+1),Q=qe+ft+Gt,F=qe+ne+Gt,ge=qe+ne+ht,Ie=qe+ft+ht;xt(Q,F,ge,Ie)}}}function xe(Pe,qe,He){c.push(Pe),c.push(qe),c.push(He)}function ot(Pe,qe,He){je(Pe),je(qe),je(He);const ft=r.length/3,ne=T.generateTopUV(i,r,ft-3,ft-2,ft-1);Nt(ne[0]),Nt(ne[1]),Nt(ne[2])}function xt(Pe,qe,He,ft){je(Pe),je(qe),je(ft),je(qe),je(He),je(ft);const ne=r.length/3,Vt=T.generateSideWallUV(i,r,ne-6,ne-3,ne-2,ne-1);Nt(Vt[0]),Nt(Vt[1]),Nt(Vt[3]),Nt(Vt[1]),Nt(Vt[2]),Nt(Vt[3])}function je(Pe){r.push(c[Pe*3+0]),r.push(c[Pe*3+1]),r.push(c[Pe*3+2])}function Nt(Pe){a.push(Pe.x),a.push(Pe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return Z$(n,i,e)}static fromJSON(e,n){const i=[];for(let a=0,s=e.shapes.length;a<s;a++){const l=n[e.shapes[a]];i.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new _M[r.type]().fromJSON(r)),new Qw(i,e.options)}}const Y$={generateTopUV:function(t,e,n,i,r){const a=e[n*3],s=e[n*3+1],l=e[i*3],c=e[i*3+1],h=e[r*3],p=e[r*3+1];return[new Qe(a,s),new Qe(l,c),new Qe(h,p)]},generateSideWallUV:function(t,e,n,i,r,a){const s=e[n*3],l=e[n*3+1],c=e[n*3+2],h=e[i*3],p=e[i*3+1],g=e[i*3+2],v=e[r*3],x=e[r*3+1],_=e[r*3+2],w=e[a*3],S=e[a*3+1],M=e[a*3+2];return Math.abs(l-p)<Math.abs(s-h)?[new Qe(s,1-c),new Qe(h,1-g),new Qe(v,1-_),new Qe(w,1-M)]:[new Qe(l,1-c),new Qe(p,1-g),new Qe(x,1-_),new Qe(S,1-M)]}};function Z$(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const a=t[i];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Bx extends _h{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Bx(e.radius,e.detail)}}class Jw extends yn{constructor(e=[new Qe(0,-.5),new Qe(.5,0),new Qe(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=fn(r,0,Math.PI*2);const a=[],s=[],l=[],c=[],h=[],p=1/n,g=new ee,v=new Qe,x=new ee,_=new ee,w=new ee;let S=0,M=0;for(let T=0;T<=e.length-1;T++)switch(T){case 0:S=e[T+1].x-e[T].x,M=e[T+1].y-e[T].y,x.x=M*1,x.y=-S,x.z=M*0,w.copy(x),x.normalize(),c.push(x.x,x.y,x.z);break;case e.length-1:c.push(w.x,w.y,w.z);break;default:S=e[T+1].x-e[T].x,M=e[T+1].y-e[T].y,x.x=M*1,x.y=-S,x.z=M*0,_.copy(x),x.x+=w.x,x.y+=w.y,x.z+=w.z,x.normalize(),c.push(x.x,x.y,x.z),w.copy(_)}for(let T=0;T<=n;T++){const R=i+T*p*r,P=Math.sin(R),L=Math.cos(R);for(let I=0;I<=e.length-1;I++){g.x=e[I].x*P,g.y=e[I].y,g.z=e[I].x*L,s.push(g.x,g.y,g.z),v.x=T/n,v.y=I/(e.length-1),l.push(v.x,v.y);const B=c[3*I+0]*P,D=c[3*I+1],z=c[3*I+0]*L;h.push(B,D,z)}}for(let T=0;T<n;T++)for(let R=0;R<e.length-1;R++){const P=R+T*e.length,L=P,I=P+e.length,B=P+e.length+1,D=P+1;a.push(L,I,D),a.push(B,D,I)}this.setIndex(a),this.setAttribute("position",new Bt(s,3)),this.setAttribute("uv",new Bt(l,2)),this.setAttribute("normal",new Bt(h,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jw(e.points,e.segments,e.phiStart,e.phiLength)}}class kx extends _h{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new kx(e.radius,e.detail)}}class Sh extends yn{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const a=e/2,s=n/2,l=Math.floor(i),c=Math.floor(r),h=l+1,p=c+1,g=e/l,v=n/c,x=[],_=[],w=[],S=[];for(let M=0;M<p;M++){const T=M*v-s;for(let R=0;R<h;R++){const P=R*g-a;_.push(P,-T,0),w.push(0,0,1),S.push(R/l),S.push(1-M/c)}}for(let M=0;M<c;M++)for(let T=0;T<l;T++){const R=T+h*M,P=T+h*(M+1),L=T+1+h*(M+1),I=T+1+h*M;x.push(R,P,I),x.push(P,L,I)}this.setIndex(x),this.setAttribute("position",new Bt(_,3)),this.setAttribute("normal",new Bt(w,3)),this.setAttribute("uv",new Bt(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sh(e.width,e.height,e.widthSegments,e.heightSegments)}}class eE extends yn{constructor(e=.5,n=1,i=32,r=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:s},i=Math.max(3,i),r=Math.max(1,r);const l=[],c=[],h=[],p=[];let g=e;const v=(n-e)/r,x=new ee,_=new Qe;for(let w=0;w<=r;w++){for(let S=0;S<=i;S++){const M=a+S/i*s;x.x=g*Math.cos(M),x.y=g*Math.sin(M),c.push(x.x,x.y,x.z),h.push(0,0,1),_.x=(x.x/n+1)/2,_.y=(x.y/n+1)/2,p.push(_.x,_.y)}g+=v}for(let w=0;w<r;w++){const S=w*(i+1);for(let M=0;M<i;M++){const T=M+S,R=T,P=T+i+1,L=T+i+2,I=T+1;l.push(R,P,I),l.push(P,L,I)}}this.setIndex(l),this.setAttribute("position",new Bt(c,3)),this.setAttribute("normal",new Bt(h,3)),this.setAttribute("uv",new Bt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eE(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class tE extends yn{constructor(e=new Qd([new Qe(0,.5),new Qe(-.5,-.5),new Qe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],a=[],s=[];let l=0,c=0;if(Array.isArray(e)===!1)h(e);else for(let p=0;p<e.length;p++)h(e[p]),this.addGroup(l,c,p),l+=c,c=0;this.setIndex(i),this.setAttribute("position",new Bt(r,3)),this.setAttribute("normal",new Bt(a,3)),this.setAttribute("uv",new Bt(s,2));function h(p){const g=r.length/3,v=p.extractPoints(n);let x=v.shape;const _=v.holes;Il.isClockWise(x)===!1&&(x=x.reverse());for(let S=0,M=_.length;S<M;S++){const T=_[S];Il.isClockWise(T)===!0&&(_[S]=T.reverse())}const w=Il.triangulateShape(x,_);for(let S=0,M=_.length;S<M;S++){const T=_[S];x=x.concat(T)}for(let S=0,M=x.length;S<M;S++){const T=x[S];r.push(T.x,T.y,0),a.push(0,0,1),s.push(T.x,T.y)}for(let S=0,M=w.length;S<M;S++){const T=w[S],R=T[0]+g,P=T[1]+g,L=T[2]+g;i.push(R,P,L),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return K$(n,e)}static fromJSON(e,n){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const s=n[e.shapes[r]];i.push(s)}return new tE(i,e.curveSegments)}}function K$(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class Fx extends yn{constructor(e=1,n=32,i=16,r=0,a=Math.PI*2,s=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:a,thetaStart:s,thetaLength:l},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const c=Math.min(s+l,Math.PI);let h=0;const p=[],g=new ee,v=new ee,x=[],_=[],w=[],S=[];for(let M=0;M<=i;M++){const T=[],R=M/i;let P=0;M===0&&s===0?P=.5/n:M===i&&c===Math.PI&&(P=-.5/n);for(let L=0;L<=n;L++){const I=L/n;g.x=-e*Math.cos(r+I*a)*Math.sin(s+R*l),g.y=e*Math.cos(s+R*l),g.z=e*Math.sin(r+I*a)*Math.sin(s+R*l),_.push(g.x,g.y,g.z),v.copy(g).normalize(),w.push(v.x,v.y,v.z),S.push(I+P,1-R),T.push(h++)}p.push(T)}for(let M=0;M<i;M++)for(let T=0;T<n;T++){const R=p[M][T+1],P=p[M][T],L=p[M+1][T],I=p[M+1][T+1];(M!==0||s>0)&&x.push(R,P,I),(M!==i-1||c<Math.PI)&&x.push(P,L,I)}this.setIndex(x),this.setAttribute("position",new Bt(_,3)),this.setAttribute("normal",new Bt(w,3)),this.setAttribute("uv",new Bt(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class nE extends _h{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new nE(e.radius,e.detail)}}class iE extends yn{constructor(e=1,n=.4,i=12,r=48,a=Math.PI*2,s=0,l=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:a,thetaStart:s,thetaLength:l},i=Math.floor(i),r=Math.floor(r);const c=[],h=[],p=[],g=[],v=new ee,x=new ee,_=new ee;for(let w=0;w<=i;w++){const S=s+w/i*l;for(let M=0;M<=r;M++){const T=M/r*a;x.x=(e+n*Math.cos(S))*Math.cos(T),x.y=(e+n*Math.cos(S))*Math.sin(T),x.z=n*Math.sin(S),h.push(x.x,x.y,x.z),v.x=e*Math.cos(T),v.y=e*Math.sin(T),_.subVectors(x,v).normalize(),p.push(_.x,_.y,_.z),g.push(M/r),g.push(w/i)}}for(let w=1;w<=i;w++)for(let S=1;S<=r;S++){const M=(r+1)*w+S-1,T=(r+1)*(w-1)+S-1,R=(r+1)*(w-1)+S,P=(r+1)*w+S;c.push(M,T,P),c.push(T,R,P)}this.setIndex(c),this.setAttribute("position",new Bt(h,3)),this.setAttribute("normal",new Bt(p,3)),this.setAttribute("uv",new Bt(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iE(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class rE extends yn{constructor(e=1,n=.4,i=64,r=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:a,q:s},i=Math.floor(i),r=Math.floor(r);const l=[],c=[],h=[],p=[],g=new ee,v=new ee,x=new ee,_=new ee,w=new ee,S=new ee,M=new ee;for(let R=0;R<=i;++R){const P=R/i*a*Math.PI*2;T(P,a,s,e,x),T(P+.01,a,s,e,_),S.subVectors(_,x),M.addVectors(_,x),w.crossVectors(S,M),M.crossVectors(w,S),w.normalize(),M.normalize();for(let L=0;L<=r;++L){const I=L/r*Math.PI*2,B=-n*Math.cos(I),D=n*Math.sin(I);g.x=x.x+(B*M.x+D*w.x),g.y=x.y+(B*M.y+D*w.y),g.z=x.z+(B*M.z+D*w.z),c.push(g.x,g.y,g.z),v.subVectors(g,x).normalize(),h.push(v.x,v.y,v.z),p.push(R/i),p.push(L/r)}}for(let R=1;R<=i;R++)for(let P=1;P<=r;P++){const L=(r+1)*(R-1)+(P-1),I=(r+1)*R+(P-1),B=(r+1)*R+P,D=(r+1)*(R-1)+P;l.push(L,I,D),l.push(I,B,D)}this.setIndex(l),this.setAttribute("position",new Bt(c,3)),this.setAttribute("normal",new Bt(h,3)),this.setAttribute("uv",new Bt(p,2));function T(R,P,L,I,B){const D=Math.cos(R),z=Math.sin(R),W=L/P*R,j=Math.cos(W);B.x=I*(2+j)*.5*D,B.y=I*(2+j)*z*.5,B.z=I*Math.sin(W)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rE(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class aE extends yn{constructor(e=new l3(new ee(-1,-1,0),new ee(-1,1,0),new ee(1,1,0)),n=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:a};const s=e.computeFrenetFrames(n,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const l=new ee,c=new ee,h=new Qe;let p=new ee;const g=[],v=[],x=[],_=[];w(),this.setIndex(_),this.setAttribute("position",new Bt(g,3)),this.setAttribute("normal",new Bt(v,3)),this.setAttribute("uv",new Bt(x,2));function w(){for(let R=0;R<n;R++)S(R);S(a===!1?n:0),T(),M()}function S(R){p=e.getPointAt(R/n,p);const P=s.normals[R],L=s.binormals[R];for(let I=0;I<=r;I++){const B=I/r*Math.PI*2,D=Math.sin(B),z=-Math.cos(B);c.x=z*P.x+D*L.x,c.y=z*P.y+D*L.y,c.z=z*P.z+D*L.z,c.normalize(),v.push(c.x,c.y,c.z),l.x=p.x+i*c.x,l.y=p.y+i*c.y,l.z=p.z+i*c.z,g.push(l.x,l.y,l.z)}}function M(){for(let R=1;R<=n;R++)for(let P=1;P<=r;P++){const L=(r+1)*(R-1)+(P-1),I=(r+1)*R+(P-1),B=(r+1)*R+P,D=(r+1)*(R-1)+P;_.push(L,I,D),_.push(I,B,D)}}function T(){for(let R=0;R<=n;R++)for(let P=0;P<=r;P++)h.x=R/n,h.y=P/r,x.push(h.x,h.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new aE(new _M[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class O6 extends yn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new ee,a=new ee;if(e.index!==null){const s=e.attributes.position,l=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:l.count,materialIndex:0}]);for(let h=0,p=c.length;h<p;++h){const g=c[h],v=g.start,x=g.count;for(let _=v,w=v+x;_<w;_+=3)for(let S=0;S<3;S++){const M=l.getX(_+S),T=l.getX(_+(S+1)%3);r.fromBufferAttribute(s,M),a.fromBufferAttribute(s,T),CL(r,a,i)===!0&&(n.push(r.x,r.y,r.z),n.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let l=0,c=s.count/3;l<c;l++)for(let h=0;h<3;h++){const p=3*l+h,g=3*l+(h+1)%3;r.fromBufferAttribute(s,p),a.fromBufferAttribute(s,g),CL(r,a,i)===!0&&(n.push(r.x,r.y,r.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new Bt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function CL(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var RL=Object.freeze({__proto__:null,BoxGeometry:yp,CapsuleGeometry:$w,CircleGeometry:Yw,ConeGeometry:zx,CylinderGeometry:Ux,DodecahedronGeometry:Zw,EdgesGeometry:_6,ExtrudeGeometry:Qw,IcosahedronGeometry:Bx,LatheGeometry:Jw,OctahedronGeometry:kx,PlaneGeometry:Sh,PolyhedronGeometry:_h,RingGeometry:eE,ShapeGeometry:tE,SphereGeometry:Fx,TetrahedronGeometry:nE,TorusGeometry:iE,TorusKnotGeometry:rE,TubeGeometry:aE,WireframeGeometry:O6});class D6 extends Ya{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ut(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}function Ng(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(Ct("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function os(t){const e={};for(let n=0;n<t.length;n++){const i=Ng(t[n]);for(const r in i)e[r]=i[r]}return e}function Q$(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function I6(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Hn.workingColorSpace}const N6={clone:Ng,merge:os};var J$=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,eY=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ms extends Ya{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=J$,this.fragmentShader=eY,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ng(e.uniforms),this.uniformsGroups=Q$(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?n.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[r]={type:"m4",value:s.toArray()}:n.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class c3 extends ms{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class f3 extends Ya{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ut(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bh,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Gs,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class L6 extends f3{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Qe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return fn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ut(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ut(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ut(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class U6 extends Ya{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ut(16777215),this.specular=new Ut(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bh,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Gs,this.combine=Px,this.reflectivity=1,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class z6 extends Ya{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ut(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bh,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class B6 extends Ya{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bh,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class k6 extends Ya{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bh,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Gs,this.combine=Px,this.reflectivity=1,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class h3 extends Ya{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=QV,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class d3 extends Ya{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class F6 extends Ya{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ut(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bh,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class V6 extends vs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Hd(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function H6(t){function e(r,a){return t[r]-t[a]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function JR(t,e,n){const i=t.length,r=new t.constructor(i);for(let a=0,s=0;s!==i;++a){const l=n[a]*e;for(let c=0;c!==e;++c)r[s++]=t[l+c]}return r}function p3(t,e,n,i){let r=1,a=t[0];for(;a!==void 0&&a[i]===void 0;)a=t[r++];if(a===void 0)return;let s=a[i];if(s!==void 0)if(Array.isArray(s))do s=a[i],s!==void 0&&(e.push(a.time),n.push(...s)),a=t[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[i],s!==void 0&&(e.push(a.time),s.toArray(n,n.length)),a=t[r++];while(a!==void 0);else do s=a[i],s!==void 0&&(e.push(a.time),n.push(s)),a=t[r++];while(a!==void 0)}function tY(t,e,n,i,r=30){const a=t.clone();a.name=e;const s=[];for(let c=0;c<a.tracks.length;++c){const h=a.tracks[c],p=h.getValueSize(),g=[],v=[];for(let x=0;x<h.times.length;++x){const _=h.times[x]*r;if(!(_<n||_>=i)){g.push(h.times[x]);for(let w=0;w<p;++w)v.push(h.values[x*p+w])}}g.length!==0&&(h.times=Hd(g,h.times.constructor),h.values=Hd(v,h.values.constructor),s.push(h))}a.tracks=s;let l=1/0;for(let c=0;c<a.tracks.length;++c)l>a.tracks[c].times[0]&&(l=a.tracks[c].times[0]);for(let c=0;c<a.tracks.length;++c)a.tracks[c].shift(-1*l);return a.resetDuration(),a}function nY(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,a=e/i;for(let s=0;s<r;++s){const l=n.tracks[s],c=l.ValueTypeName;if(c==="bool"||c==="string")continue;const h=t.tracks.find(function(M){return M.name===l.name&&M.ValueTypeName===c});if(h===void 0)continue;let p=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);let v=0;const x=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=x/3);const _=l.times.length-1;let w;if(a<=l.times[0]){const M=p,T=g-p;w=l.values.slice(M,T)}else if(a>=l.times[_]){const M=_*g+p,T=M+g-p;w=l.values.slice(M,T)}else{const M=l.createInterpolant(),T=p,R=g-p;M.evaluate(a),w=M.resultBuffer.slice(T,R)}c==="quaternion"&&new Mr().fromArray(w).normalize().conjugate().toArray(w);const S=h.times.length;for(let M=0;M<S;++M){const T=M*x+v;if(c==="quaternion")Mr.multiplyQuaternionsFlat(h.values,T,w,0,h.values,T);else{const R=x-v*2;for(let P=0;P<R;++P)h.values[T+P]-=w[P]}}}return t.blendMode=ZO,t}class iY{static convertArray(e,n){return Hd(e,n)}static isTypedArray(e){return s6(e)}static getKeyframeOrder(e){return H6(e)}static sortedArray(e,n,i){return JR(e,n,i)}static flattenJSON(e,n,i,r){p3(e,n,i,r)}static subclip(e,n,i,r,a=30){return tY(e,n,i,r,a)}static makeClipAdditive(e,n=0,i=e,r=30){return nY(e,n,i,r)}}class Qg{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],a=n[i-1];e:{t:{let s;n:{i:if(!(e<r)){for(let l=i+2;;){if(r===void 0){if(e<a)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(a=r,r=n[++i],e<r)break t}s=n.length;break n}if(!(e>=a)){const l=n[1];e<l&&(i=2,a=l);for(let c=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=a,a=n[--i-1],e>=a)break t}s=i,i=0;break n}break e}for(;i<s;){const l=i+s>>>1;e<n[l]?s=l:i=l+1}if(r=n[i],a=n[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let s=0;s!==r;++s)n[s]=i[a+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class j6 extends Qg{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:kd,endingEnd:kd}}intervalChanged_(e,n,i){const r=this.parameterPositions;let a=e-2,s=e+1,l=r[a],c=r[s];if(l===void 0)switch(this.getSettings_().endingStart){case Fd:a=e,l=2*n-i;break;case $y:a=r.length-2,l=n+r[a]-r[a+1];break;default:a=e,l=i}if(c===void 0)switch(this.getSettings_().endingEnd){case Fd:s=e,c=2*i-n;break;case $y:s=1,c=i+r[1]-r[0];break;default:s=e-1,c=n}const h=(i-n)*.5,p=this.valueSize;this._weightPrev=h/(n-l),this._weightNext=h/(c-i),this._offsetPrev=a*p,this._offsetNext=s*p}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,c=e*l,h=c-l,p=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,x=this._weightNext,_=(i-n)/(r-n),w=_*_,S=w*_,M=-v*S+2*v*w-v*_,T=(1+v)*S+(-1.5-2*v)*w+(-.5+v)*_+1,R=(-1-x)*S+(1.5+x)*w+.5*_,P=x*S-x*w;for(let L=0;L!==l;++L)a[L]=M*s[p+L]+T*s[h+L]+R*s[c+L]+P*s[g+L];return a}}class m3 extends Qg{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,c=e*l,h=c-l,p=(i-n)/(r-n),g=1-p;for(let v=0;v!==l;++v)a[v]=s[h+v]*g+s[c+v]*p;return a}}class G6 extends Qg{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class W6 extends Qg{interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,c=e*l,h=c-l,p=this.settings||this.DefaultSettings_,g=p.inTangents,v=p.outTangents;if(!g||!v){const w=(i-n)/(r-n),S=1-w;for(let M=0;M!==l;++M)a[M]=s[h+M]*S+s[c+M]*w;return a}const x=l*2,_=e-1;for(let w=0;w!==l;++w){const S=s[h+w],M=s[c+w],T=_*x+w*2,R=v[T],P=v[T+1],L=e*x+w*2,I=g[L],B=g[L+1];let D=(i-n)/(r-n),z,W,j,G,J;for(let te=0;te<8;te++){z=D*D,W=z*D,j=1-D,G=j*j,J=G*j;const q=J*n+3*G*D*R+3*j*z*I+W*r-i;if(Math.abs(q)<1e-10)break;const K=3*G*(R-n)+6*j*D*(I-R)+3*z*(r-I);if(Math.abs(K)<1e-10)break;D=D-q/K,D=Math.max(0,Math.min(1,D))}a[w]=J*S+3*G*D*P+3*j*z*B+W*M}return a}}class el{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Hd(n,this.TimeBufferType),this.values=Hd(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Hd(e.times,Array),values:Hd(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new G6(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new m3(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new j6(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodBezier(e){const n=new W6(this.times,this.values,this.getValueSize(),e);return this.settings&&(n.settings=this.settings),n}setInterpolation(e){let n;switch(e){case Xy:n=this.InterpolantFactoryMethodDiscrete;break;case yM:n=this.InterpolantFactoryMethodLinear;break;case p1:n=this.InterpolantFactoryMethodSmooth;break;case XR:n=this.InterpolantFactoryMethodBezier;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return Ct("KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Xy;case this.InterpolantFactoryMethodLinear:return yM;case this.InterpolantFactoryMethodSmooth:return p1;case this.InterpolantFactoryMethodBezier:return XR}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let a=0,s=r-1;for(;a!==r&&i[a]<e;)++a;for(;s!==-1&&i[s]>n;)--s;if(++s,a!==0||s!==r){a>=s&&(s=Math.max(s,1),a=s-1);const l=this.getValueSize();this.times=i.slice(a,s),this.values=this.values.slice(a*l,s*l)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(Kt("KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(Kt("KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let l=0;l!==a;l++){const c=i[l];if(typeof c=="number"&&isNaN(c)){Kt("KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(s!==null&&s>c){Kt("KeyframeTrack: Out of order keys.",this,l,c,s),e=!1;break}s=c}if(r!==void 0&&s6(r))for(let l=0,c=r.length;l!==c;++l){const h=r[l];if(isNaN(h)){Kt("KeyframeTrack: Value is not a valid number.",this,l,h),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===p1,a=e.length-1;let s=1;for(let l=1;l<a;++l){let c=!1;const h=e[l],p=e[l+1];if(h!==p&&(l!==1||h!==e[0]))if(r)c=!0;else{const g=l*i,v=g-i,x=g+i;for(let _=0;_!==i;++_){const w=n[g+_];if(w!==n[v+_]||w!==n[x+_]){c=!0;break}}}if(c){if(l!==s){e[s]=e[l];const g=l*i,v=s*i;for(let x=0;x!==i;++x)n[v+x]=n[g+x]}++s}}if(a>0){e[s]=e[a];for(let l=a*i,c=s*i,h=0;h!==i;++h)n[c+h]=n[l+h];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=n.slice(0,s*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}el.prototype.ValueTypeName="";el.prototype.TimeBufferType=Float32Array;el.prototype.ValueBufferType=Float32Array;el.prototype.DefaultInterpolation=yM;class xp extends el{constructor(e,n,i){super(e,n,i)}}xp.prototype.ValueTypeName="bool";xp.prototype.ValueBufferType=Array;xp.prototype.DefaultInterpolation=Xy;xp.prototype.InterpolantFactoryMethodLinear=void 0;xp.prototype.InterpolantFactoryMethodSmooth=void 0;class g3 extends el{constructor(e,n,i,r){super(e,n,i,r)}}g3.prototype.ValueTypeName="color";class ix extends el{constructor(e,n,i,r){super(e,n,i,r)}}ix.prototype.ValueTypeName="number";class q6 extends Qg{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,c=(i-n)/(r-n);let h=e*l;for(let p=h+l;h!==p;h+=4)Mr.slerpFlat(a,0,s,h-l,s,h,c);return a}}class Vx extends el{constructor(e,n,i,r){super(e,n,i,r)}InterpolantFactoryMethodLinear(e){return new q6(this.times,this.values,this.getValueSize(),e)}}Vx.prototype.ValueTypeName="quaternion";Vx.prototype.InterpolantFactoryMethodSmooth=void 0;class bp extends el{constructor(e,n,i){super(e,n,i)}}bp.prototype.ValueTypeName="string";bp.prototype.ValueBufferType=Array;bp.prototype.DefaultInterpolation=Xy;bp.prototype.InterpolantFactoryMethodLinear=void 0;bp.prototype.InterpolantFactoryMethodSmooth=void 0;class rx extends el{constructor(e,n,i,r){super(e,n,i,r)}}rx.prototype.ValueTypeName="vector";class ax{constructor(e="",n=-1,i=[],r=Uw){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=so(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let s=0,l=i.length;s!==l;++s)n.push(aY(i[s]).scale(r));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,s=i.length;a!==s;++a)n.push(el.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const a=n.length,s=[];for(let l=0;l<a;l++){let c=[],h=[];c.push((l+a-1)%a,l,(l+1)%a),h.push(0,1,0);const p=H6(c);c=JR(c,1,p),h=JR(h,1,p),!r&&c[0]===0&&(c.push(a),h.push(h[0])),s.push(new ix(".morphTargetInfluences["+n[l].name+"]",c,h).scale(1/i))}return new this(e,-1,s)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){const h=e[l],p=h.name.match(a);if(p&&p.length>1){const g=p[1];let v=r[g];v||(r[g]=v=[]),v.push(h)}}const s=[];for(const l in r)s.push(this.CreateFromMorphTargetSequence(l,r[l],n,i));return s}static parseAnimation(e,n){if(Ct("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Kt("AnimationClip: No animation in JSONLoader data."),null;const i=function(g,v,x,_,w){if(x.length!==0){const S=[],M=[];p3(x,S,M,_),S.length!==0&&w.push(new g(v,S,M))}},r=[],a=e.name||"default",s=e.fps||30,l=e.blendMode;let c=e.length||-1;const h=e.hierarchy||[];for(let g=0;g<h.length;g++){const v=h[g].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const x={};let _;for(_=0;_<v.length;_++)if(v[_].morphTargets)for(let w=0;w<v[_].morphTargets.length;w++)x[v[_].morphTargets[w]]=-1;for(const w in x){const S=[],M=[];for(let T=0;T!==v[_].morphTargets.length;++T){const R=v[_];S.push(R.time),M.push(R.morphTarget===w?1:0)}r.push(new ix(".morphTargetInfluence["+w+"]",S,M))}c=x.length*s}else{const x=".bones["+n[g].name+"]";i(rx,x+".position",v,"pos",r),i(Vx,x+".quaternion",v,"rot",r),i(rx,x+".scale",v,"scl",r)}}return r.length===0?null:new this(a,c,r,l)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function rY(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ix;case"vector":case"vector2":case"vector3":case"vector4":return rx;case"color":return g3;case"quaternion":return Vx;case"bool":case"boolean":return xp;case"string":return bp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function aY(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=rY(t.type);if(t.times===void 0){const n=[],i=[];p3(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Ou={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(PL(t)||(this.files[t]=e))},get:function(t){if(this.enabled!==!1&&!PL(t))return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function PL(t){try{const e=t.slice(t.indexOf(":")+1);return new URL(e).protocol==="blob:"}catch{return!1}}class sE{constructor(e,n,i){const r=this;let a=!1,s=0,l=0,c;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this._abortController=null,this.itemStart=function(p){l++,a===!1&&r.onStart!==void 0&&r.onStart(p,s,l),a=!0},this.itemEnd=function(p){s++,r.onProgress!==void 0&&r.onProgress(p,s,l),s===l&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(p){r.onError!==void 0&&r.onError(p)},this.resolveURL=function(p){return c?c(p):p},this.setURLModifier=function(p){return c=p,this},this.addHandler=function(p,g){return h.push(p,g),this},this.removeHandler=function(p){const g=h.indexOf(p);return g!==-1&&h.splice(g,2),this},this.getHandler=function(p){for(let g=0,v=h.length;g<v;g+=2){const x=h[g],_=h[g+1];if(x.global&&(x.lastIndex=0),x.test(p))return _}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const X6=new sE;class ys{constructor(e){this.manager=e!==void 0?e:X6,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,a){i.load(e,r,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}ys.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ec={};class sY extends Error{constructor(e,n){super(e),this.response=n}}class oo extends ys{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Ou.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(Ec[e]!==void 0){Ec[e].push({onLoad:n,onProgress:i,onError:r});return}Ec[e]=[],Ec[e].push({onLoad:n,onProgress:i,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),l=this.mimeType,c=this.responseType;fetch(s).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&Ct("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||h.body===void 0||h.body.getReader===void 0)return h;const p=Ec[e],g=h.body.getReader(),v=h.headers.get("X-File-Size")||h.headers.get("Content-Length"),x=v?parseInt(v):0,_=x!==0;let w=0;const S=new ReadableStream({start(M){T();function T(){g.read().then(({done:R,value:P})=>{if(R)M.close();else{w+=P.byteLength;const L=new ProgressEvent("progress",{lengthComputable:_,loaded:w,total:x});for(let I=0,B=p.length;I<B;I++){const D=p[I];D.onProgress&&D.onProgress(L)}M.enqueue(P),T()}},R=>{M.error(R)})}}});return new Response(S)}else throw new sY(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(c){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(p=>new DOMParser().parseFromString(p,l));case"json":return h.json();default:if(l==="")return h.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),v=g&&g[1]?g[1].toLowerCase():void 0,x=new TextDecoder(v);return h.arrayBuffer().then(_=>x.decode(_))}}}).then(h=>{Ou.add(`file:${e}`,h);const p=Ec[e];delete Ec[e];for(let g=0,v=p.length;g<v;g++){const x=p[g];x.onLoad&&x.onLoad(h)}}).catch(h=>{const p=Ec[e];if(p===void 0)throw this.manager.itemError(e),h;delete Ec[e];for(let g=0,v=p.length;g<v;g++){const x=p[g];x.onError&&x.onError(h)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class oY extends ys{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new oo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{n(a.parse(JSON.parse(l)))}catch(c){r?r(c):Kt(c),a.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=ax.parse(e[i]);n.push(r)}return n}}class lY extends ys{constructor(e){super(e)}load(e,n,i,r){const a=this,s=[],l=new Xw,c=new oo(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(a.withCredentials);let h=0;function p(g){c.load(e[g],function(v){const x=a.parse(v,!0);s[g]={width:x.width,height:x.height,format:x.format,mipmaps:x.mipmaps},h+=1,h===6&&(x.mipmapCount===1&&(l.minFilter=kn),l.image=s,l.format=x.format,l.needsUpdate=!0,n&&n(l))},i,r)}if(Array.isArray(e))for(let g=0,v=e.length;g<v;++g)p(g);else c.load(e,function(g){const v=a.parse(g,!0);if(v.isCubemap){const x=v.mipmaps.length/v.mipmapCount;for(let _=0;_<x;_++){s[_]={mipmaps:[]};for(let w=0;w<v.mipmapCount;w++)s[_].mipmaps.push(v.mipmaps[_*v.mipmapCount+w]),s[_].format=v.format,s[_].width=v.width,s[_].height=v.height}l.image=s}else l.image.width=v.width,l.image.height=v.height,l.mipmaps=v.mipmaps;v.mipmapCount===1&&(l.minFilter=kn),l.format=v.format,l.needsUpdate=!0,n&&n(l)},i,r);return l}}const Xm=new WeakMap;class sx extends ys{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Ou.get(`image:${e}`);if(s!==void 0){if(s.complete===!0)a.manager.itemStart(e),setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0);else{let g=Xm.get(s);g===void 0&&(g=[],Xm.set(s,g)),g.push({onLoad:n,onError:r})}return s}const l=Ky("img");function c(){p(),n&&n(this);const g=Xm.get(this)||[];for(let v=0;v<g.length;v++){const x=g[v];x.onLoad&&x.onLoad(this)}Xm.delete(this),a.manager.itemEnd(e)}function h(g){p(),r&&r(g),Ou.remove(`image:${e}`);const v=Xm.get(this)||[];for(let x=0;x<v.length;x++){const _=v[x];_.onError&&_.onError(g)}Xm.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function p(){l.removeEventListener("load",c,!1),l.removeEventListener("error",h,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",h,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),Ou.add(`image:${e}`,l),a.manager.itemStart(e),l.src=e,l}}class $6 extends ys{constructor(e){super(e)}load(e,n,i,r){const a=new Lx;a.colorSpace=Ta;const s=new sx(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let l=0;function c(h){s.load(e[h],function(p){a.images[h]=p,l++,l===6&&(a.needsUpdate=!0,n&&n(a))},void 0,r)}for(let h=0;h<e.length;++h)c(h);return a}}class v3 extends ys{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new Yo,l=new oo(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(a.withCredentials),l.load(e,function(c){let h;try{h=a.parse(c)}catch(p){if(r!==void 0)r(p);else{p(p);return}}h.image!==void 0?s.image=h.image:h.data!==void 0&&(s.image.width=h.width,s.image.height=h.height,s.image.data=h.data),s.wrapS=h.wrapS!==void 0?h.wrapS:pr,s.wrapT=h.wrapT!==void 0?h.wrapT:pr,s.magFilter=h.magFilter!==void 0?h.magFilter:kn,s.minFilter=h.minFilter!==void 0?h.minFilter:kn,s.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.colorSpace!==void 0&&(s.colorSpace=h.colorSpace),h.flipY!==void 0&&(s.flipY=h.flipY),h.format!==void 0&&(s.format=h.format),h.type!==void 0&&(s.type=h.type),h.mipmaps!==void 0&&(s.mipmaps=h.mipmaps,s.minFilter=Pu),h.mipmapCount===1&&(s.minFilter=kn),h.generateMipmaps!==void 0&&(s.generateMipmaps=h.generateMipmaps),s.needsUpdate=!0,n&&n(s,h)},i,r),s}}class uY extends ys{constructor(e){super(e)}load(e,n,i,r){const a=new mi,s=new sx(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(l){a.image=l,a.needsUpdate=!0,n!==void 0&&n(a)},i,r),a}}class Mh extends Zn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Ut(e),this.intensity=n}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,n}}class Y6 extends Mh{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ut(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}toJSON(e){const n=super.toJSON(e);return n.object.groundColor=this.groundColor.getHex(),n}}const ST=new on,OL=new ee,DL=new ee;class y3{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.biasNode=null,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Qe(512,512),this.mapType=aa,this.map=null,this.mapPass=null,this.matrix=new on,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Kg,this._frameExtents=new Qe(1,1),this._viewportCount=1,this._viewports=[new ii(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;OL.setFromMatrixPosition(e.matrixWorld),n.position.copy(OL),DL.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(DL),n.updateMatrixWorld(),ST.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ST,n.coordinateSystem,n.reversedDepth),n.coordinateSystem===sp||n.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(ST)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this.biasNode=e.biasNode,this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const RS=new ee,PS=new Mr,Su=new ee;class oE extends Zn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new on,this.projectionMatrix=new on,this.projectionMatrixInverse=new on,this.coordinateSystem=io,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorld.decompose(RS,PS,Su),Su.x===1&&Su.y===1&&Su.z===1?this.matrixWorldInverse.copy(this.matrixWorld).invert():this.matrixWorldInverse.compose(RS,PS,Su.set(1,1,1)).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorld.decompose(RS,PS,Su),Su.x===1&&Su.y===1&&Su.z===1?this.matrixWorldInverse.copy(this.matrixWorld).invert():this.matrixWorldInverse.compose(RS,PS,Su.set(1,1,1)).invert()}clone(){return new this.constructor().copy(this)}}const Yf=new ee,IL=new Qe,NL=new Qe;let ra=class extends oE{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Pg*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Kd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Pg*2*Math.atan(Math.tan(Kd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){Yf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Yf.x,Yf.y).multiplyScalar(-e/Yf.z),Yf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Yf.x,Yf.y).multiplyScalar(-e/Yf.z)}getViewSize(e,n){return this.getViewBounds(e,IL,NL),n.subVectors(NL,IL)}setViewOffset(e,n,i,r,a,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Kd*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,a=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const c=s.fullWidth,h=s.fullHeight;a+=s.offsetX*r/c,n-=s.offsetY*i/h,r*=s.width/c,i*=s.height/h}const l=this.filmOffset;l!==0&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,n,n-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}};class cY extends y3{constructor(){super(new ra(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,i=Pg*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||n.far;(i!==n.fov||r!==n.aspect||a!==n.far)&&(n.fov=i,n.aspect=r,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Z6 extends Mh{constructor(e,n,i=0,r=Math.PI/3,a=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.target=new Zn,this.distance=i,this.angle=r,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new cY}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.angle=this.angle,n.object.decay=this.decay,n.object.penumbra=this.penumbra,n.object.target=this.target.uuid,this.map&&this.map.isTexture&&(n.object.map=this.map.toJSON(e).uuid),n.object.shadow=this.shadow.toJSON(),n}}class fY extends y3{constructor(){super(new ra(90,1,.5,500)),this.isPointLightShadow=!0}}class K6 extends Mh{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new fY}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.decay=this.decay,n.object.shadow=this.shadow.toJSON(),n}}class _p extends oE{constructor(e=-1,n=1,i=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,s=i+e,l=r+n,c=r-n;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=h*this.view.offsetX,s=a+h*this.view.width,l-=p*this.view.offsetY,c=l-p*this.view.height}this.projectionMatrix.makeOrthographic(a,s,l,c,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class hY extends y3{constructor(){super(new _p(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Q6 extends Mh{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.target=new Zn,this.shadow=new hY}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.shadow=this.shadow.toJSON(),n.object.target=this.target.uuid,n}}class J6 extends Mh{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class e8 extends Mh{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class x3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ee)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*r),n.addScaledVector(s[2],.488603*a),n.addScaledVector(s[3],.488603*i),n.addScaledVector(s[4],1.092548*(i*r)),n.addScaledVector(s[5],1.092548*(r*a)),n.addScaledVector(s[6],.315392*(3*a*a-1)),n.addScaledVector(s[7],1.092548*(i*a)),n.addScaledVector(s[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*r),n.addScaledVector(s[2],2*.511664*a),n.addScaledVector(s[3],2*.511664*i),n.addScaledVector(s[4],2*.429043*i*r),n.addScaledVector(s[5],2*.429043*r*a),n.addScaledVector(s[6],.743125*a*a-.247708),n.addScaledVector(s[7],2*.429043*i*a),n.addScaledVector(s[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,a=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*a,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*i*a,n[8]=.546274*(i*i-r*r)}}class t8 extends Mh{constructor(e=new x3,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class lE extends ys{constructor(e){super(e),this.textures={}}load(e,n,i,r){const a=this,s=new oo(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(l){try{n(a.parse(JSON.parse(l)))}catch(c){r?r(c):Kt(c),a.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(a){return n[a]===void 0&&Ct("MaterialLoader: Undefined texture",a),n[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ut().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(r.allowOverride=e.allowOverride),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(r.uniforms[a]={},s.type){case"t":r.uniforms[a].value=i(s.value);break;case"c":r.uniforms[a].value=new Ut().setHex(s.value);break;case"v2":r.uniforms[a].value=new Qe().fromArray(s.value);break;case"v3":r.uniforms[a].value=new ee().fromArray(s.value);break;case"v4":r.uniforms[a].value=new ii().fromArray(s.value);break;case"m3":r.uniforms[a].value=new bn().fromArray(s.value);break;case"m4":r.uniforms[a].value=new on().fromArray(s.value);break;default:r.uniforms[a].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new Qe().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Qe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return lE.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:D6,SpriteMaterial:t3,RawShaderMaterial:c3,ShaderMaterial:ms,PointsMaterial:qw,MeshPhysicalMaterial:L6,MeshStandardMaterial:f3,MeshPhongMaterial:U6,MeshToonMaterial:z6,MeshNormalMaterial:B6,MeshLambertMaterial:k6,MeshDepthMaterial:h3,MeshDistanceMaterial:d3,MeshBasicMaterial:Wc,MeshMatcapMaterial:F6,LineDashedMaterial:V6,LineBasicMaterial:vs,Material:Ya};return new n[e]}}class eP{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class n8 extends yn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class i8 extends ys{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new oo(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(l){try{n(a.parse(JSON.parse(l)))}catch(c){r?r(c):Kt(c),a.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(x,_){if(n[_]!==void 0)return n[_];const S=x.interleavedBuffers[_],M=a(x,S.buffer),T=fg(S.type,M),R=new jw(T,S.stride);return R.uuid=S.uuid,n[_]=R,R}function a(x,_){if(i[_]!==void 0)return i[_];const S=x.arrayBuffers[_],M=new Uint32Array(S).buffer;return i[_]=M,M}const s=e.isInstancedBufferGeometry?new n8:new yn,l=e.data.index;if(l!==void 0){const x=fg(l.type,l.array);s.setIndex(new gi(x,1))}const c=e.data.attributes;for(const x in c){const _=c[x];let w;if(_.isInterleavedBufferAttribute){const S=r(e.data,_.data);w=new op(S,_.itemSize,_.offset,_.normalized)}else{const S=fg(_.type,_.array),M=_.isInstancedBufferAttribute?Dg:gi;w=new M(S,_.itemSize,_.normalized)}_.name!==void 0&&(w.name=_.name),_.usage!==void 0&&w.setUsage(_.usage),s.setAttribute(x,w)}const h=e.data.morphAttributes;if(h)for(const x in h){const _=h[x],w=[];for(let S=0,M=_.length;S<M;S++){const T=_[S];let R;if(T.isInterleavedBufferAttribute){const P=r(e.data,T.data);R=new op(P,T.itemSize,T.offset,T.normalized)}else{const P=fg(T.type,T.array);R=new gi(P,T.itemSize,T.normalized)}T.name!==void 0&&(R.name=T.name),w.push(R)}s.morphAttributes[x]=w}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let x=0,_=g.length;x!==_;++x){const w=g[x];s.addGroup(w.start,w.count,w.materialIndex)}const v=e.data.boundingSphere;return v!==void 0&&(s.boundingSphere=new Ra().fromJSON(v)),e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class dY extends ys{constructor(e){super(e)}load(e,n,i,r){const a=this,s=this.path===""?eP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const l=new oo(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){let h=null;try{h=JSON.parse(c)}catch(g){r!==void 0&&r(g),g("ObjectLoader: Can't parse "+e+".",g.message);return}const p=h.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),Kt("ObjectLoader: Can't load "+e);return}a.parse(h,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?eP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new oo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,n);let l;try{l=JSON.parse(s)}catch(h){throw new Error("ObjectLoader: Can't parse "+e+". "+h.message)}const c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(l)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){n!==void 0&&n(h)}),l=this.parseTextures(e.textures,s),c=this.parseMaterials(e.materials,l),h=this.parseObject(e.object,a,c,l,i),p=this.parseSkeletons(e.skeletons,h);if(this.bindSkeletons(h,p),this.bindLightTargets(h),n!==void 0){let g=!1;for(const v in s)if(s[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&n(h)}return h}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,r,l,s,n),h=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,h),this.bindLightTargets(c),c}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new Qd().fromJSON(e[i]);n[a.uuid]=a}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const l=new Gw().fromJSON(e[a],r);i[l.uuid]=l}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new i8;for(let a=0,s=e.length;a<s;a++){let l;const c=e[a];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(c);break;default:c.type in RL?l=RL[c.type].fromJSON(c,n):Ct(`ObjectLoader: Unsupported geometry type "${c.type}"`)}l.uuid=c.uuid,c.name!==void 0&&(l.name=c.name),c.userData!==void 0&&(l.userData=c.userData),i[c.uuid]=l}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const a=new lE;a.setTextures(n);for(let s=0,l=e.length;s<l;s++){const c=e[s];i[c.uuid]===void 0&&(i[c.uuid]=a.parse(c)),r[c.uuid]=i[c.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=ax.parse(r);n[a.uuid]=a}return n}parseImages(e,n){const i=this,r={};let a;function s(c){return i.manager.itemStart(c),a.load(c,function(){i.manager.itemEnd(c)},void 0,function(){i.manager.itemError(c),i.manager.itemEnd(c)})}function l(c){if(typeof c=="string"){const h=c,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:i.resourcePath+h;return s(p)}else return c.data?{data:fg(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new sE(n);a=new sx(c),a.setCrossOrigin(this.crossOrigin);for(let h=0,p=e.length;h<p;h++){const g=e[h],v=g.url;if(Array.isArray(v)){const x=[];for(let _=0,w=v.length;_<w;_++){const S=v[_],M=l(S);M!==null&&(M instanceof HTMLImageElement?x.push(M):x.push(new Yo(M.data,M.width,M.height)))}r[g.uuid]=new sh(x)}else{const x=l(g.url);r[g.uuid]=new sh(x)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function a(s){if(typeof s=="string"){const l=s,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:n.resourcePath+l;return await r.loadAsync(c)}else return s.data?{data:fg(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new sx(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,l=e.length;s<l;s++){const c=e[s],h=c.url;if(Array.isArray(h)){const p=[];for(let g=0,v=h.length;g<v;g++){const x=h[g],_=await a(x);_!==null&&(_ instanceof HTMLImageElement?p.push(_):p.push(new Yo(_.data,_.width,_.height)))}i[c.uuid]=new sh(p)}else{const p=await a(c.url);i[c.uuid]=new sh(p)}}}return i}parseTextures(e,n){function i(a,s){return typeof a=="number"?a:(Ct("ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const r={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const l=e[a];l.image===void 0&&Ct('ObjectLoader: No "image" specified for',l.uuid),n[l.image]===void 0&&Ct("ObjectLoader: Undefined image",l.image);const c=n[l.image],h=c.data;let p;Array.isArray(h)?(p=new Lx,h.length===6&&(p.needsUpdate=!0)):(h&&h.data?p=new Yo:p=new mi,h&&(p.needsUpdate=!0)),p.source=c,p.uuid=l.uuid,l.name!==void 0&&(p.name=l.name),l.mapping!==void 0&&(p.mapping=i(l.mapping,pY)),l.channel!==void 0&&(p.channel=l.channel),l.offset!==void 0&&p.offset.fromArray(l.offset),l.repeat!==void 0&&p.repeat.fromArray(l.repeat),l.center!==void 0&&p.center.fromArray(l.center),l.rotation!==void 0&&(p.rotation=l.rotation),l.wrap!==void 0&&(p.wrapS=i(l.wrap[0],LL),p.wrapT=i(l.wrap[1],LL)),l.format!==void 0&&(p.format=l.format),l.internalFormat!==void 0&&(p.internalFormat=l.internalFormat),l.type!==void 0&&(p.type=l.type),l.colorSpace!==void 0&&(p.colorSpace=l.colorSpace),l.minFilter!==void 0&&(p.minFilter=i(l.minFilter,UL)),l.magFilter!==void 0&&(p.magFilter=i(l.magFilter,UL)),l.anisotropy!==void 0&&(p.anisotropy=l.anisotropy),l.flipY!==void 0&&(p.flipY=l.flipY),l.generateMipmaps!==void 0&&(p.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(p.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(p.compareFunction=l.compareFunction),l.userData!==void 0&&(p.userData=l.userData),r[l.uuid]=p}return r}parseObject(e,n,i,r,a){let s;function l(v){return n[v]===void 0&&Ct("ObjectLoader: Undefined geometry",v),n[v]}function c(v){if(v!==void 0){if(Array.isArray(v)){const x=[];for(let _=0,w=v.length;_<w;_++){const S=v[_];i[S]===void 0&&Ct("ObjectLoader: Undefined material",S),x.push(i[S])}return x}return i[v]===void 0&&Ct("ObjectLoader: Undefined material",v),i[v]}}function h(v){return r[v]===void 0&&Ct("ObjectLoader: Undefined texture",v),r[v]}let p,g;switch(e.type){case"Scene":s=new Nx,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Ut(e.background):s.background=h(e.background)),e.environment!==void 0&&(s.environment=h(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new Hw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new Vw(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new ra(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new _p(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new J6(e.color,e.intensity);break;case"DirectionalLight":s=new Q6(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new K6(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new e8(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new Z6(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new Y6(e.color,e.groundColor,e.intensity);break;case"LightProbe":const v=new x3().fromArray(e.sh);s=new t8(v,e.intensity);break;case"SkinnedMesh":p=l(e.geometry),g=c(e.material),s=new p6(p,g),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":p=l(e.geometry),g=c(e.material),s=new ar(p,g);break;case"InstancedMesh":p=l(e.geometry),g=c(e.material);const x=e.count,_=e.instanceMatrix,w=e.instanceColor;s=new m6(p,g,x),s.instanceMatrix=new Dg(new Float32Array(_.array),16),w!==void 0&&(s.instanceColor=new Dg(new Float32Array(w.array),w.itemSize));break;case"BatchedMesh":p=l(e.geometry),g=c(e.material),s=new g6(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),s.geometry=p,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(S=>{let M=null,T=null;return S.boundingBox!==void 0&&(M=new $a().fromJSON(S.boundingBox)),S.boundingSphere!==void 0&&(T=new Ra().fromJSON(S.boundingSphere)),{...S,boundingBox:M,boundingSphere:T}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=h(e.matricesTexture.uuid),s._indirectTexture=h(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=h(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new Ra().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(s.boundingBox=new $a().fromJSON(e.boundingBox));break;case"LOD":s=new d6;break;case"Line":s=new gh(l(e.geometry),c(e.material));break;case"LineLoop":s=new v6(l(e.geometry),c(e.material));break;case"LineSegments":s=new ju(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":s=new y6(l(e.geometry),c(e.material));break;case"Sprite":s=new h6(c(e.material));break;case"Group":s=new hg;break;case"Bone":s=new n3;break;default:s=new Zn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.pivot!==void 0&&(s.pivot=new ee().fromArray(e.pivot)),e.morphTargetDictionary!==void 0&&(s.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),e.morphTargetInfluences!==void 0&&(s.morphTargetInfluences=e.morphTargetInfluences.slice()),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.static!==void 0&&(s.static=e.static),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let x=0;x<v.length;x++)s.add(this.parseObject(v[x],n,i,r,a))}if(e.animations!==void 0){const v=e.animations;for(let x=0;x<v.length;x++){const _=v[x];s.animations.push(a[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const v=e.levels;for(let x=0;x<v.length;x++){const _=v[x],w=s.getObjectByProperty("uuid",_.object);w!==void 0&&s.addLevel(w,_.distance,_.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?Ct("ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,r=e.getObjectByProperty("uuid",i);r!==void 0?n.target=r:n.target=new Zn}})}}const pY={UVMapping:dh,CubeReflectionMapping:Bl,CubeRefractionMapping:ph,EquirectangularReflectionMapping:_g,EquirectangularRefractionMapping:Cy,CubeUVReflectionMapping:Yg},LL={RepeatWrapping:Wy,ClampToEdgeWrapping:pr,MirroredRepeatWrapping:qy},UL={NearestFilter:_r,NearestMipmapNearestFilter:WO,NearestMipmapLinearFilter:cg,LinearFilter:kn,LinearMipmapNearestFilter:Ry,LinearMipmapLinearFilter:Pu},MT=new WeakMap;class mY extends ys{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Ct("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Ct("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Ou.get(`image-bitmap:${e}`);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(h=>{if(MT.has(s)===!0)r&&r(MT.get(s)),a.manager.itemError(e),a.manager.itemEnd(e);else return n&&n(h),a.manager.itemEnd(e),h});return}return setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0),s}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,l.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const c=fetch(e,l).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(h){return Ou.add(`image-bitmap:${e}`,h),n&&n(h),a.manager.itemEnd(e),h}).catch(function(h){r&&r(h),MT.set(c,h),Ou.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});Ou.add(`image-bitmap:${e}`,c),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let OS;class b3{static getContext(){return OS===void 0&&(OS=new(window.AudioContext||window.webkitAudioContext)),OS}static setContext(e){OS=e}}class gY extends ys{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new oo(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(c){try{const h=c.slice(0);b3.getContext().decodeAudioData(h,function(g){n(g)}).catch(l)}catch(h){l(h)}},i,r);function l(c){r?r(c):Kt(c),a.manager.itemError(e)}}}const zL=new on,BL=new on,bd=new on;class vY{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ra,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ra,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,bd.copy(e.projectionMatrix);const r=n.eyeSep/2,a=r*n.near/n.focus,s=n.near*Math.tan(Kd*n.fov*.5)/n.zoom;let l,c;BL.elements[12]=-r,zL.elements[12]=r,l=-s*n.aspect+a,c=s*n.aspect+a,bd.elements[0]=2*n.near/(c-l),bd.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(bd),l=-s*n.aspect-a,c=s*n.aspect-a,bd.elements[0]=2*n.near/(c-l),bd.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(bd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(BL),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(zL)}}const $m=-90,Ym=1;class r8 extends Zn{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new ra($m,Ym,e,n);r.layers=this.layers,this.add(r);const a=new ra($m,Ym,e,n);a.layers=this.layers,this.add(a);const s=new ra($m,Ym,e,n);s.layers=this.layers,this.add(s);const l=new ra($m,Ym,e,n);l.layers=this.layers,this.add(l);const c=new ra($m,Ym,e,n);c.layers=this.layers,this.add(c);const h=new ra($m,Ym,e,n);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,a,s,l,c]=n;for(const h of n)this.remove(h);if(e===io)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===sp)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const h of n)this.add(h),h.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,l,c,h,p]=this.children,g=e.getRenderTarget(),v=e.getActiveCubeFace(),x=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const w=i.texture.generateMipmaps;i.texture.generateMipmaps=!1;let S=!1;e.isWebGLRenderer===!0?S=e.state.buffers.depth.getReversed():S=e.reversedDepthBuffer,e.setRenderTarget(i,0,r),S&&e.autoClear===!1&&e.clearDepth(),e.render(n,a),e.setRenderTarget(i,1,r),S&&e.autoClear===!1&&e.clearDepth(),e.render(n,s),e.setRenderTarget(i,2,r),S&&e.autoClear===!1&&e.clearDepth(),e.render(n,l),e.setRenderTarget(i,3,r),S&&e.autoClear===!1&&e.clearDepth(),e.render(n,c),e.setRenderTarget(i,4,r),S&&e.autoClear===!1&&e.clearDepth(),e.render(n,h),i.texture.generateMipmaps=w,e.setRenderTarget(i,5,r),S&&e.autoClear===!1&&e.clearDepth(),e.render(n,p),e.setRenderTarget(g,v,x),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class a8 extends ra{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class s8{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=yY.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function yY(){this._document.hidden===!1&&this.reset()}const _d=new ee,wT=new Mr,xY=new ee,Sd=new ee,Md=new ee;class bY extends Zn{constructor(){super(),this.type="AudioListener",this.context=b3.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._timer=new s8}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e),this._timer.update();const n=this.context.listener;if(this.timeDelta=this._timer.getDelta(),this.matrixWorld.decompose(_d,wT,xY),Sd.set(0,0,-1).applyQuaternion(wT),Md.set(0,1,0).applyQuaternion(wT),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(_d.x,i),n.positionY.linearRampToValueAtTime(_d.y,i),n.positionZ.linearRampToValueAtTime(_d.z,i),n.forwardX.linearRampToValueAtTime(Sd.x,i),n.forwardY.linearRampToValueAtTime(Sd.y,i),n.forwardZ.linearRampToValueAtTime(Sd.z,i),n.upX.linearRampToValueAtTime(Md.x,i),n.upY.linearRampToValueAtTime(Md.y,i),n.upZ.linearRampToValueAtTime(Md.z,i)}else n.setPosition(_d.x,_d.y,_d.z),n.setOrientation(Sd.x,Sd.y,Sd.z,Md.x,Md.y,Md.z)}}class o8 extends Zn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){Ct("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){Ct("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){Ct("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){Ct("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){Ct("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(Ct("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){Ct("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(Ct("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const wd=new ee,kL=new Mr,_Y=new ee,Ed=new ee;class SY extends o8{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(wd,kL,_Y),Ed.set(0,0,1).applyQuaternion(kL);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(wd.x,i),n.positionY.linearRampToValueAtTime(wd.y,i),n.positionZ.linearRampToValueAtTime(wd.z,i),n.orientationX.linearRampToValueAtTime(Ed.x,i),n.orientationY.linearRampToValueAtTime(Ed.y,i),n.orientationZ.linearRampToValueAtTime(Ed.z,i)}else n.setPosition(wd.x,wd.y,wd.z),n.setOrientation(Ed.x,Ed.y,Ed.z)}}class MY{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class l8{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,a,s;switch(n){case"quaternion":r=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,a=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let l=0;l!==r;++l)i[a+l]=i[l];s=n}else{s+=n;const l=n/s;this._mixBufferRegion(i,a,0,l,r)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const c=n*this._origIndex;this._mixBufferRegion(i,r,c,1-a,n)}s>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let c=n,h=n+n;c!==h;++c)if(i[c]!==i[c+n]){l.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let a=i,s=r;a!==s;++a)n[a]=n[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,a){if(r>=.5)for(let s=0;s!==a;++s)e[n+s]=e[i+s]}_slerp(e,n,i,r){Mr.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,a){const s=this._workIndex*a;Mr.multiplyQuaternionsFlat(e,s,e,n,e,i),Mr.slerpFlat(e,n,e,n,e,s,r)}_lerp(e,n,i,r,a){const s=1-r;for(let l=0;l!==a;++l){const c=n+l;e[c]=e[c]*s+e[i+l]*r}}_lerpAdditive(e,n,i,r,a){for(let s=0;s!==a;++s){const l=n+s;e[l]=e[l]+e[i+s]*r}}}const _3="\\[\\]\\.:\\/",wY=new RegExp("["+_3+"]","g"),S3="[^"+_3+"]",EY="[^"+_3.replace("\\.","")+"]",AY=/((?:WC+[\/:])*)/.source.replace("WC",S3),TY=/(WCOD+)?/.source.replace("WCOD",EY),CY=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",S3),RY=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",S3),PY=new RegExp("^"+AY+TY+CY+RY+"$"),OY=["material","materials","bones","map"];class DY{constructor(e,n,i){const r=i||Yn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class Yn{constructor(e,n,i){this.path=n,this.parsedPath=i||Yn.parseTrackName(n),this.node=Yn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new Yn.Composite(e,n,i):new Yn(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(wY,"")}static parseTrackName(e){const n=PY.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);OY.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(a){for(let s=0;s<a.length;s++){const l=a[s];if(l.name===n||l.uuid===n)return l;const c=i(l.children);if(c)return c}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let a=n.propertyIndex;if(e||(e=Yn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Ct("PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let h=n.objectIndex;switch(i){case"materials":if(!e.material){Kt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Kt("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Kt("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===h){h=p;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Kt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Kt("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){Kt("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(h!==void 0){if(e[h]===void 0){Kt("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const s=e[r];if(s===void 0){const h=n.nodeName;Kt("PropertyBinding: Trying to update property for track: "+h+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){Kt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Kt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Yn.Composite=DY;Yn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Yn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Yn.prototype.GetterByBindingType=[Yn.prototype._getValue_direct,Yn.prototype._getValue_array,Yn.prototype._getValue_arrayElement,Yn.prototype._getValue_toArray];Yn.prototype.SetterByBindingTypeAndVersioning=[[Yn.prototype._setValue_direct,Yn.prototype._setValue_direct_setNeedsUpdate,Yn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Yn.prototype._setValue_array,Yn.prototype._setValue_array_setNeedsUpdate,Yn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Yn.prototype._setValue_arrayElement,Yn.prototype._setValue_arrayElement_setNeedsUpdate,Yn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Yn.prototype._setValue_fromArray,Yn.prototype._setValue_fromArray_setNeedsUpdate,Yn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class IY{constructor(){this.isAnimationObjectGroup=!0,this.uuid=so(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length;let l,c=e.length,h=this.nCachedObjects_;for(let p=0,g=arguments.length;p!==g;++p){const v=arguments[p],x=v.uuid;let _=n[x];if(_===void 0){_=c++,n[x]=_,e.push(v);for(let w=0,S=s;w!==S;++w)a[w].push(new Yn(v,i[w],r[w]))}else if(_<h){l=e[_];const w=--h,S=e[w];n[S.uuid]=_,e[_]=S,n[x]=w,e[w]=v;for(let M=0,T=s;M!==T;++M){const R=a[M],P=R[w];let L=R[_];R[_]=P,L===void 0&&(L=new Yn(v,i[M],r[M])),R[w]=L}}else e[_]!==l&&Kt("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let s=0,l=arguments.length;s!==l;++s){const c=arguments[s],h=c.uuid,p=n[h];if(p!==void 0&&p>=a){const g=a++,v=e[g];n[v.uuid]=p,e[p]=v,n[h]=g,e[g]=c;for(let x=0,_=r;x!==_;++x){const w=i[x],S=w[g],M=w[p];w[p]=S,w[g]=M}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,s=e.length;for(let l=0,c=arguments.length;l!==c;++l){const h=arguments[l],p=h.uuid,g=n[p];if(g!==void 0)if(delete n[p],g<a){const v=--a,x=e[v],_=--s,w=e[_];n[x.uuid]=g,e[g]=x,n[w.uuid]=v,e[v]=w,e.pop();for(let S=0,M=r;S!==M;++S){const T=i[S],R=T[v],P=T[_];T[g]=R,T[v]=P,T.pop()}}else{const v=--s,x=e[v];v>0&&(n[x.uuid]=g),e[g]=x,e.pop();for(let _=0,w=r;_!==w;++_){const S=i[_];S[g]=S[v],S.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const s=this._paths,l=this._parsedPaths,c=this._objects,h=c.length,p=this.nCachedObjects_,g=new Array(h);r=a.length,i[e]=r,s.push(e),l.push(n),a.push(g);for(let v=p,x=c.length;v!==x;++v){const _=c[v];g[v]=new Yn(_,e,n)}return g}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,s=this._bindings,l=s.length-1,c=s[l],h=e[l];n[h]=i,s[i]=c,s.pop(),a[i]=a[l],a.pop(),r[i]=r[l],r.pop()}}}class u8{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const a=n.tracks,s=a.length,l=new Array(s),c={endingStart:kd,endingEnd:kd};for(let h=0;h!==s;++h){const p=a[h].createInterpolant(null);l[h]=p,p.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ZV,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i=!1){if(e.fadeOut(n),this.fadeIn(n),i===!0){const r=this._clip.duration,a=e._clip.duration,s=a/r,l=r/a;e.warp(1,s,n),this.warp(l,1,n)}return this}crossFadeTo(e,n,i=!1){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,a=r.time,s=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const c=l.parameterPositions,h=l.sampleValues;return c[0]=a,c[1]=a+i,h[0]=e/s,h[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const c=(e-a)*i;c<0||i===0?n=0:(this._startTime=null,n=i*c)}n*=this._updateTimeScale(e);const s=this._updateTime(n),l=this._updateWeight(e);if(l>0){const c=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case ZO:for(let p=0,g=c.length;p!==g;++p)c[p].evaluate(s),h[p].accumulateAdditive(l);break;case Uw:default:for(let p=0,g=c.length;p!==g;++p)c[p].evaluate(s),h[p].accumulate(r,l)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const s=i===KV;if(e===0)return a===-1?r:s&&(a&1)===1?n-r:r;if(i===YV){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=n||r<0){const l=Math.floor(r/n);r-=n*l,a+=Math.abs(l);const c=this.repetitions-a;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const h=e<0;this._setEndings(h,!h,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(s&&(a&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=Fd,r.endingEnd=Fd):(e?r.endingStart=this.zeroSlopeAtStart?Fd:kd:r.endingStart=$y,n?r.endingEnd=this.zeroSlopeAtEnd?Fd:kd:r.endingEnd=$y)}_scheduleFading(e,n,i){const r=this._mixer,a=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const l=s.parameterPositions,c=s.sampleValues;return l[0]=a,c[0]=n,l[1]=a+e,c[1]=i,this}}const NY=new Float32Array(1);class LY extends Hu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,s=e._propertyBindings,l=e._interpolants,c=i.uuid,h=this._bindingsByRootAndName;let p=h[c];p===void 0&&(p={},h[c]=p);for(let g=0;g!==a;++g){const v=r[g],x=v.name;let _=p[x];if(_!==void 0)++_.referenceCount,s[g]=_;else{if(_=s[g],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,c,x));continue}const w=n&&n._propertyBindings[g].binding.parsedPath;_=new l8(Yn.create(i,x,w),v.ValueTypeName,v.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,c,x),s[g]=_}l[g].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,a=this._actionsByClip;let s=a[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=s;else{const l=s.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,l=s[a],c=l.knownActions,h=c[c.length-1],p=e._byClipCacheIndex;h._byClipCacheIndex=p,c[p]=h,c.pop(),e._byClipCacheIndex=null;const g=l.actionByRoot,v=(e._localRoot||this._root).uuid;delete g[v],c.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,a=this._bindings;let s=r[n];s===void 0&&(s={},r[n]=s),s[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,s=this._bindingsByRootAndName,l=s[r],c=n[n.length-1],h=e._cacheIndex;c._cacheIndex=h,n[h]=c,n.pop(),delete l[a],Object.keys(l).length===0&&delete s[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new m3(new Float32Array(2),new Float32Array(2),1,NY),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=n[r];e.__cacheIndex=r,n[r]=e,a.__cacheIndex=i,n[i]=a}clipAction(e,n,i){const r=n||this._root,a=r.uuid;let s=typeof e=="string"?ax.findByName(r,e):e;const l=s!==null?s.uuid:e,c=this._actionsByClip[l];let h=null;if(i===void 0&&(s!==null?i=s.blendMode:i=Uw),c!==void 0){const g=c.actionByRoot[a];if(g!==void 0&&g.blendMode===i)return g;h=c.knownActions[0],s===null&&(s=h._clip)}if(s===null)return null;const p=new u8(this,s,n,i);return this._bindAction(p,h),this._addInactiveAction(p,l,a),p}existingAction(e,n){const i=n||this._root,r=i.uuid,a=typeof e=="string"?ax.findByName(i,e):e,s=a?a.uuid:e,l=this._actionsByClip[s];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let h=0;h!==i;++h)n[h]._update(r,e,a,s);const l=this._bindings,c=this._nActiveBindings;for(let h=0;h!==c;++h)l[h].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const s=a.knownActions;for(let l=0,c=s.length;l!==c;++l){const h=s[l];this._deactivateAction(h);const p=h._cacheIndex,g=n[n.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,g._cacheIndex=p,n[p]=g,n.pop(),this._removeInactiveBindingsForAction(h)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const s in i){const l=i[s].actionByRoot,c=l[n];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const r=this._bindingsByRootAndName,a=r[n];if(a!==void 0)for(const s in a){const l=a[s];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class UY extends QO{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new Fw(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class M3{constructor(e){this.value=e}clone(){return new M3(this.value.clone===void 0?this.value:this.value.clone())}}let zY=0;class BY extends Hu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:zY++}),this.name="",this.usage=Zy,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++){const a=Array.isArray(n[i])?n[i]:[n[i]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class kY extends jw{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class FY{constructor(e,n,i,r,a,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=a,this.normalized=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const FL=new on;class w3{constructor(e,n,i=0,r=1/0){this.ray=new Zg(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new Og,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):Kt("Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return FL.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(FL),this}intersectObject(e,n=!0,i=[]){return tP(e,this,i,n),i.sort(VL),i}intersectObjects(e,n=!0,i=[]){for(let r=0,a=e.length;r<a;r++)tP(e[r],this,i,n);return i.sort(VL),i}}function VL(t,e){return t.distance-e.distance}function tP(t,e,n,i){let r=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(r=!1),r===!0&&i===!0){const a=t.children;for(let s=0,l=a.length;s<l;s++)tP(a[s],e,n,!0)}}class c8{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1,Ct("THREE.Clock: This module has been deprecated. Please use THREE.Timer instead.")}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}class f8{constructor(e=1,n=0,i=0){this.radius=e,this.phi=n,this.theta=i}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=fn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(fn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class VY{constructor(e=1,n=0,i=0){this.radius=e,this.theta=n,this.y=i}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class E3{constructor(e,n,i,r){E3.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,r){const a=this.elements;return a[0]=e,a[2]=n,a[1]=i,a[3]=r,this}}const HL=new Qe;class HY{constructor(e=new Qe(1/0,1/0),n=new Qe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=HL.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,HL).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const jL=new ee,DS=new ee,Zm=new ee,Km=new ee,ET=new ee,jY=new ee,GY=new ee;class WY{constructor(e=new ee,n=new ee){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){jL.subVectors(e,this.start),DS.subVectors(this.end,this.start);const i=DS.dot(DS);let a=DS.dot(jL)/i;return n&&(a=fn(a,0,1)),a}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,n=jY,i=GY){const r=10000000000000001e-32;let a,s;const l=this.start,c=e.start,h=this.end,p=e.end;Zm.subVectors(h,l),Km.subVectors(p,c),ET.subVectors(l,c);const g=Zm.dot(Zm),v=Km.dot(Km),x=Km.dot(ET);if(g<=r&&v<=r)return n.copy(l),i.copy(c),n.sub(i),n.dot(n);if(g<=r)a=0,s=x/v,s=fn(s,0,1);else{const _=Zm.dot(ET);if(v<=r)s=0,a=fn(-_/g,0,1);else{const w=Zm.dot(Km),S=g*v-w*w;S!==0?a=fn((w*x-_*v)/S,0,1):a=0,s=(w*a+x)/v,s<0?(s=0,a=fn(-_/g,0,1)):s>1&&(s=1,a=fn((w-_)/g,0,1))}}return n.copy(l).addScaledVector(Zm,a),i.copy(c).addScaledVector(Km,s),n.distanceToSquared(i)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const GL=new ee;class qY extends Zn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new yn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,l=1,c=32;s<c;s++,l++){const h=s/c*Math.PI*2,p=l/c*Math.PI*2;r.push(Math.cos(h),Math.sin(h),1,Math.cos(p),Math.sin(p),1)}i.setAttribute("position",new Bt(r,3));const a=new vs({fog:!1,toneMapped:!1});this.cone=new ju(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),GL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(GL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Zf=new ee,IS=new on,AT=new on;class XY extends ju{constructor(e){const n=h8(e),i=new yn,r=[],a=[];for(let h=0;h<n.length;h++){const p=n[h];p.parent&&p.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}i.setAttribute("position",new Bt(r,3)),i.setAttribute("color",new Bt(a,3));const s=new vs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,s),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const l=new Ut(255),c=new Ut(65280);this.setColors(l,c)}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");AT.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<n.length;a++){const l=n[a];l.parent&&l.parent.isBone&&(IS.multiplyMatrices(AT,l.matrixWorld),Zf.setFromMatrixPosition(IS),r.setXYZ(s,Zf.x,Zf.y,Zf.z),IS.multiplyMatrices(AT,l.parent.matrixWorld),Zf.setFromMatrixPosition(IS),r.setXYZ(s+1,Zf.x,Zf.y,Zf.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const r=this.geometry.getAttribute("color");for(let a=0;a<r.count;a+=2)r.setXYZ(a,e.r,e.g,e.b),r.setXYZ(a+1,n.r,n.g,n.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function h8(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...h8(t.children[n]));return e}class $Y extends ar{constructor(e,n,i){const r=new Fx(n,4,2),a=new Wc({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const YY=new ee,WL=new Ut,qL=new Ut;class ZY extends Zn{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new kx(n);r.rotateY(Math.PI*.5),this.material=new Wc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),s=new Float32Array(a.count*3);r.setAttribute("color",new gi(s,3)),this.add(new ar(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");WL.copy(this.light.color),qL.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const a=i<r/2?WL:qL;n.setXYZ(i,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(YY.setFromMatrixPosition(this.light.matrixWorld).negate())}}class KY extends ju{constructor(e=10,n=10,i=4473924,r=8947848){i=new Ut(i),r=new Ut(r);const a=n/2,s=e/n,l=e/2,c=[],h=[];for(let v=0,x=0,_=-l;v<=n;v++,_+=s){c.push(-l,0,_,l,0,_),c.push(_,0,-l,_,0,l);const w=v===a?i:r;w.toArray(h,x),x+=3,w.toArray(h,x),x+=3,w.toArray(h,x),x+=3,w.toArray(h,x),x+=3}const p=new yn;p.setAttribute("position",new Bt(c,3)),p.setAttribute("color",new Bt(h,3));const g=new vs({vertexColors:!0,toneMapped:!1});super(p,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class QY extends ju{constructor(e=10,n=16,i=8,r=64,a=4473924,s=8947848){a=new Ut(a),s=new Ut(s);const l=[],c=[];if(n>1)for(let g=0;g<n;g++){const v=g/n*(Math.PI*2),x=Math.sin(v)*e,_=Math.cos(v)*e;l.push(0,0,0),l.push(x,0,_);const w=g&1?a:s;c.push(w.r,w.g,w.b),c.push(w.r,w.g,w.b)}for(let g=0;g<i;g++){const v=g&1?a:s,x=e-e/i*g;for(let _=0;_<r;_++){let w=_/r*(Math.PI*2),S=Math.sin(w)*x,M=Math.cos(w)*x;l.push(S,0,M),c.push(v.r,v.g,v.b),w=(_+1)/r*(Math.PI*2),S=Math.sin(w)*x,M=Math.cos(w)*x,l.push(S,0,M),c.push(v.r,v.g,v.b)}}const h=new yn;h.setAttribute("position",new Bt(l,3)),h.setAttribute("color",new Bt(c,3));const p=new vs({vertexColors:!0,toneMapped:!1});super(h,p),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const XL=new ee,NS=new ee,$L=new ee;class JY extends Zn{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new yn;r.setAttribute("position",new Bt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new vs({fog:!1,toneMapped:!1});this.lightPlane=new gh(r,a),this.add(this.lightPlane),r=new yn,r.setAttribute("position",new Bt([0,0,0,0,0,1],3)),this.targetLine=new gh(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),XL.setFromMatrixPosition(this.light.matrixWorld),NS.setFromMatrixPosition(this.light.target.matrixWorld),$L.subVectors(NS,XL),this.lightPlane.lookAt(NS),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(NS),this.targetLine.scale.z=$L.length()}}const LS=new ee,cr=new oE;class eZ extends ju{constructor(e){const n=new yn,i=new vs({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],s={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(_,w){c(_),c(w)}function c(_){r.push(0,0,0),a.push(0,0,0),s[_]===void 0&&(s[_]=[]),s[_].push(r.length/3-1)}n.setAttribute("position",new Bt(r,3)),n.setAttribute("color",new Bt(a,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const h=new Ut(16755200),p=new Ut(16711680),g=new Ut(43775),v=new Ut(16777215),x=new Ut(3355443);this.setColors(h,p,g,v,x)}setColors(e,n,i,r,a){const l=this.geometry.getAttribute("color");return l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,n.r,n.g,n.b),l.setXYZ(25,n.r,n.g,n.b),l.setXYZ(26,n.r,n.g,n.b),l.setXYZ(27,n.r,n.g,n.b),l.setXYZ(28,n.r,n.g,n.b),l.setXYZ(29,n.r,n.g,n.b),l.setXYZ(30,n.r,n.g,n.b),l.setXYZ(31,n.r,n.g,n.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,a.r,a.g,a.b),l.setXYZ(41,a.r,a.g,a.b),l.setXYZ(42,a.r,a.g,a.b),l.setXYZ(43,a.r,a.g,a.b),l.setXYZ(44,a.r,a.g,a.b),l.setXYZ(45,a.r,a.g,a.b),l.setXYZ(46,a.r,a.g,a.b),l.setXYZ(47,a.r,a.g,a.b),l.setXYZ(48,a.r,a.g,a.b),l.setXYZ(49,a.r,a.g,a.b),l.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;let a,s;if(cr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,s=0;else if(this.camera.coordinateSystem===io)a=-1,s=1;else if(this.camera.coordinateSystem===sp)a=0,s=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);br("c",n,e,cr,0,0,a),br("t",n,e,cr,0,0,s),br("n1",n,e,cr,-i,-r,a),br("n2",n,e,cr,i,-r,a),br("n3",n,e,cr,-i,r,a),br("n4",n,e,cr,i,r,a),br("f1",n,e,cr,-i,-r,s),br("f2",n,e,cr,i,-r,s),br("f3",n,e,cr,-i,r,s),br("f4",n,e,cr,i,r,s),br("u1",n,e,cr,i*.7,r*1.1,a),br("u2",n,e,cr,-i*.7,r*1.1,a),br("u3",n,e,cr,0,r*2,a),br("cf1",n,e,cr,-i,0,s),br("cf2",n,e,cr,i,0,s),br("cf3",n,e,cr,0,-r,s),br("cf4",n,e,cr,0,r,s),br("cn1",n,e,cr,-i,0,a),br("cn2",n,e,cr,i,0,a),br("cn3",n,e,cr,0,-r,a),br("cn4",n,e,cr,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function br(t,e,n,i,r,a,s){LS.set(r,a,s).unproject(i);const l=e[t];if(l!==void 0){const c=n.getAttribute("position");for(let h=0,p=l.length;h<p;h++)c.setXYZ(l[h],LS.x,LS.y,LS.z)}}const US=new $a;class tZ extends ju{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new yn;a.setIndex(new gi(i,1)),a.setAttribute("position",new gi(r,3)),super(a,new vs({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&US.setFromObject(this.object),US.isEmpty())return;const e=US.min,n=US.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=e.x,r[4]=n.y,r[5]=n.z,r[6]=e.x,r[7]=e.y,r[8]=n.z,r[9]=n.x,r[10]=e.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=e.z,r[15]=e.x,r[16]=n.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=n.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class nZ extends ju{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new yn;a.setIndex(new gi(i,1)),a.setAttribute("position",new Bt(r,3)),super(a,new vs({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class iZ extends gh{constructor(e,n=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new yn;s.setAttribute("position",new Bt(a,3)),s.computeBoundingSphere(),super(s,new vs({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new yn;c.setAttribute("position",new Bt(l,3)),c.computeBoundingSphere(),this.add(new ar(c,new Wc({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const YL=new ee;let zS,TT;class rZ extends Zn{constructor(e=new ee(0,0,1),n=new ee(0,0,0),i=1,r=16776960,a=i*.2,s=a*.2){super(),this.type="ArrowHelper",zS===void 0&&(zS=new yn,zS.setAttribute("position",new Bt([0,0,0,0,1,0],3)),TT=new zx(.5,1,5,1),TT.translate(0,-.5,0)),this.position.copy(n),this.line=new gh(zS,new vs({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ar(TT,new Wc({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{YL.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(YL,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class aZ extends ju{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new yn;r.setAttribute("position",new Bt(n,3)),r.setAttribute("color",new Bt(i,3));const a=new vs({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,n,i){const r=new Ut,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(n),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class sZ{constructor(){this.type="ShapePath",this.color=new Ut,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new SM,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,a,s){return this.currentPath.bezierCurveTo(e,n,i,r,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(M){const T=[];for(let R=0,P=M.length;R<P;R++){const L=M[R],I=new Qd;I.curves=L.curves,T.push(I)}return T}function i(M,T){const R=T.length;let P=!1;for(let L=R-1,I=0;I<R;L=I++){let B=T[L],D=T[I],z=D.x-B.x,W=D.y-B.y;if(Math.abs(W)>Number.EPSILON){if(W<0&&(B=T[I],z=-z,D=T[L],W=-W),M.y<B.y||M.y>D.y)continue;if(M.y===B.y){if(M.x===B.x)return!0}else{const j=W*(M.x-B.x)-z*(M.y-B.y);if(j===0)return!0;if(j<0)continue;P=!P}}else{if(M.y!==B.y)continue;if(D.x<=M.x&&M.x<=B.x||B.x<=M.x&&M.x<=D.x)return!0}}return P}const r=Il.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,l,c;const h=[];if(a.length===1)return l=a[0],c=new Qd,c.curves=l.curves,h.push(c),h;let p=!r(a[0].getPoints());p=e?!p:p;const g=[],v=[];let x=[],_=0,w;v[_]=void 0,x[_]=[];for(let M=0,T=a.length;M<T;M++)l=a[M],w=l.getPoints(),s=r(w),s=e?!s:s,s?(!p&&v[_]&&_++,v[_]={s:new Qd,p:w},v[_].s.curves=l.curves,p&&_++,x[_]=[]):x[_].push({h:l,p:w[0]});if(!v[0])return n(a);if(v.length>1){let M=!1,T=0;for(let R=0,P=v.length;R<P;R++)g[R]=[];for(let R=0,P=v.length;R<P;R++){const L=x[R];for(let I=0;I<L.length;I++){const B=L[I];let D=!0;for(let z=0;z<v.length;z++)i(B.p,v[z].p)&&(R!==z&&T++,D?(D=!1,g[z].push(B)):M=!0);D&&g[R].push(B)}}T>0&&M===!1&&(x=g)}let S;for(let M=0,T=v.length;M<T;M++){c=v[M].s,h.push(c),S=x[M];for(let R=0,P=S.length;R<P;R++)c.holes.push(S[R].h)}return h}}class oZ extends Hu{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Ct("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function lZ(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function uZ(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function cZ(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function nP(t,e,n,i){const r=fZ(i);switch(n){case $O:return t*e;case Dx:return t*e/r.components*r.byteLength;case Ix:return t*e/r.components*r.byteLength;case ap:return t*e*2/r.components*r.byteLength;case Nw:return t*e*2/r.components*r.byteLength;case YO:return t*e*3/r.components*r.byteLength;case Sr:return t*e*4/r.components*r.byteLength;case Lw:return t*e*4/r.components*r.byteLength;case Py:case Oy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Dy:case Iy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case V1:case j1:return Math.max(t,16)*Math.max(e,8)/4;case F1:case H1:return Math.max(t,8)*Math.max(e,8)/2;case G1:case W1:case X1:case $1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case q1:case Y1:case Z1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case K1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Q1:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case J1:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case eM:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case tM:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case nM:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case iM:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case rM:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case aM:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case sM:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case oM:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case lM:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case uM:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case cM:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case fM:case hM:case dM:return Math.ceil(t/4)*Math.ceil(e/4)*16;case pM:case mM:return Math.ceil(t/4)*Math.ceil(e/4)*8;case gM:case vM:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function fZ(t){switch(t){case aa:case Pw:return{byteLength:1,components:1};case Cg:case Ow:case rr:return{byteLength:2,components:1};case Dw:case Iw:return{byteLength:2,components:4};case co:case Ox:case Bi:return{byteLength:4,components:1};case qO:case XO:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class hZ{static contain(e,n){return lZ(e,n)}static cover(e,n){return uZ(e,n)}static fill(e){return cZ(e)}static getByteLength(e,n,i,r){return nP(e,n,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:$g}}));typeof window<"u"&&(window.__THREE__?Ct("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=$g);/**
 * @license
 * Copyright 2010-2026 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function d8(){let t=null,e=!1,n=null,i=null;function r(a,s){n(a,s),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function dZ(t){const e=new WeakMap;function n(l,c){const h=l.array,p=l.usage,g=h.byteLength,v=t.createBuffer();t.bindBuffer(c,v),t.bufferData(c,h,p),l.onUploadCallback();let x;if(h instanceof Float32Array)x=t.FLOAT;else if(typeof Float16Array<"u"&&h instanceof Float16Array)x=t.HALF_FLOAT;else if(h instanceof Uint16Array)l.isFloat16BufferAttribute?x=t.HALF_FLOAT:x=t.UNSIGNED_SHORT;else if(h instanceof Int16Array)x=t.SHORT;else if(h instanceof Uint32Array)x=t.UNSIGNED_INT;else if(h instanceof Int32Array)x=t.INT;else if(h instanceof Int8Array)x=t.BYTE;else if(h instanceof Uint8Array)x=t.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)x=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:v,type:x,bytesPerElement:h.BYTES_PER_ELEMENT,version:l.version,size:g}}function i(l,c,h){const p=c.array,g=c.updateRanges;if(t.bindBuffer(h,l),g.length===0)t.bufferSubData(h,0,p);else{g.sort((x,_)=>x.start-_.start);let v=0;for(let x=1;x<g.length;x++){const _=g[v],w=g[x];w.start<=_.start+_.count+1?_.count=Math.max(_.count,w.start+w.count-_.start):(++v,g[v]=w)}g.length=v+1;for(let x=0,_=g.length;x<_;x++){const w=g[x];t.bufferSubData(h,w.start*p.BYTES_PER_ELEMENT,p,w.start,w.count)}c.clearUpdateRanges()}c.onUploadCallback()}function r(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=e.get(l);c&&(t.deleteBuffer(c.buffer),e.delete(l))}function s(l,c){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const p=e.get(l);(!p||p.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const h=e.get(l);if(h===void 0)e.set(l,n(l,c));else if(h.version<l.version){if(h.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(h.buffer,l,c),h.version=l.version}}return{get:r,remove:a,update:s}}var pZ=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,mZ=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,gZ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,vZ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,yZ=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,xZ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,bZ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,_Z=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,SZ=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec4 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 );
	}
#endif`,MZ=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,wZ=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,EZ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,AZ=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,TZ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,CZ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,RZ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,PZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,OZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,DZ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,IZ=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#endif`,NZ=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#endif`,LZ=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec4 vColor;
#endif`,UZ=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec4( 1.0 );
#endif
#ifdef USE_COLOR_ALPHA
	vColor *= color;
#elif defined( USE_COLOR )
	vColor.rgb *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.rgb *= instanceColor.rgb;
#endif
#ifdef USE_BATCHING_COLOR
	vColor *= getBatchingColor( getIndirectIndex( gl_DrawID ) );
#endif`,zZ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,BZ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,kZ=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,FZ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,VZ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,HZ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,jZ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,GZ="gl_FragColor = linearToOutputTexel( gl_FragColor );",WZ=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,qZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		#ifdef ENVMAP_BLENDING_MULTIPLY
			outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
		#elif defined( ENVMAP_BLENDING_MIX )
			outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
		#elif defined( ENVMAP_BLENDING_ADD )
			outgoingLight += envColor.xyz * specularStrength * reflectivity;
		#endif
	#endif
#endif`,XZ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,$Z=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,YZ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,ZZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,KZ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,QZ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,JZ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,eK=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,tK=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,nK=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,iK=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,rK=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,aK=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,sK=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,oK=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lK=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,uK=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,cK=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,fK=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,hK=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( material.specularF90 - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
		#ifdef USE_CLEARCOAT
			vec3 Ncc = geometryClearcoatNormal;
			vec2 uvClearcoat = LTC_Uv( Ncc, viewDir, material.clearcoatRoughness );
			vec4 t1Clearcoat = texture2D( ltc_1, uvClearcoat );
			vec4 t2Clearcoat = texture2D( ltc_2, uvClearcoat );
			mat3 mInvClearcoat = mat3(
				vec3( t1Clearcoat.x, 0, t1Clearcoat.y ),
				vec3(             0, 1,             0 ),
				vec3( t1Clearcoat.z, 0, t1Clearcoat.w )
			);
			vec3 fresnelClearcoat = material.clearcoatF0 * t2Clearcoat.x + ( material.clearcoatF90 - material.clearcoatF0 ) * t2Clearcoat.y;
			clearcoatSpecularDirect += lightColor * fresnelClearcoat * LTC_Evaluate( Ncc, viewDir, position, mInvClearcoat, rectCoords );
		#endif
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,dK=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,pK=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( ENVMAP_TYPE_CUBE_UV )
		#if defined( STANDARD ) || defined( LAMBERT ) || defined( PHONG )
			iblIrradiance += getIBLIrradiance( geometryNormal );
		#endif
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,mK=`#if defined( RE_IndirectDiffuse )
	#if defined( LAMBERT ) || defined( PHONG )
		irradiance += iblIrradiance;
	#endif
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,gK=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,vK=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,yK=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,xK=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,bK=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,_K=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,SK=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,MK=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wK=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,EK=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,AK=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,TK=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,CK=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,RK=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,PK=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,OK=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,DK=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,IK=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,NK=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,LK=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,UK=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,zK=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,BK=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,kK=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,FK=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,VK=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,HK=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	#ifdef USE_REVERSED_DEPTH_BUFFER
	
		return depth * ( far - near ) - far;
	#else
		return depth * ( near - far ) - near;
	#endif
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	
	#ifdef USE_REVERSED_DEPTH_BUFFER
		return ( near * far ) / ( ( near - far ) * depth - near );
	#else
		return ( near * far ) / ( ( far - near ) * depth - far );
	#endif
}`,jK=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,GK=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,WK=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,qK=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,XK=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,$K=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,YK=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * PI2;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadowCoord.z -= shadowBias;
			#else
				shadowCoord.z += shadowBias;
			#endif
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadowCoord.z -= shadowBias;
			#else
				shadowCoord.z += shadowBias;
			#endif
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			#ifdef USE_REVERSED_DEPTH_BUFFER
				float dp = ( shadowCameraNear * ( shadowCameraFar - viewSpaceZ ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
				dp -= shadowBias;
			#else
				float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
				dp += shadowBias;
			#endif
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * PI2;
			vec2 sample0 = vogelDiskSample( 0, 5, phi );
			vec2 sample1 = vogelDiskSample( 1, 5, phi );
			vec2 sample2 = vogelDiskSample( 2, 5, phi );
			vec2 sample3 = vogelDiskSample( 3, 5, phi );
			vec2 sample4 = vogelDiskSample( 4, 5, phi );
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * sample0.x + bitangent * sample0.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample1.x + bitangent * sample1.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample2.x + bitangent * sample2.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample3.x + bitangent * sample3.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample4.x + bitangent * sample4.y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				depth = 1.0 - depth;
			#endif
			shadow = step( dp, depth );
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,ZK=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,KK=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,QK=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,JK=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,eQ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,tQ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,nQ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,iQ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,rQ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,aQ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,sQ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,oQ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,lQ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uQ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,cQ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,fQ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,hQ=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const dQ=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,pQ=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mQ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,gQ=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vQ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,yQ=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,xQ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,bQ=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,_Q=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,SQ=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,MQ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,wQ=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,EQ=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,AQ=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,TQ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,CQ=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RQ=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PQ=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OQ=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,DQ=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,IQ=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,NQ=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,LQ=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,UQ=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zQ=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,BQ=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kQ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,FQ=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VQ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,HQ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,jQ=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,GQ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,WQ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,qQ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,An={alphahash_fragment:pZ,alphahash_pars_fragment:mZ,alphamap_fragment:gZ,alphamap_pars_fragment:vZ,alphatest_fragment:yZ,alphatest_pars_fragment:xZ,aomap_fragment:bZ,aomap_pars_fragment:_Z,batching_pars_vertex:SZ,batching_vertex:MZ,begin_vertex:wZ,beginnormal_vertex:EZ,bsdfs:AZ,iridescence_fragment:TZ,bumpmap_pars_fragment:CZ,clipping_planes_fragment:RZ,clipping_planes_pars_fragment:PZ,clipping_planes_pars_vertex:OZ,clipping_planes_vertex:DZ,color_fragment:IZ,color_pars_fragment:NZ,color_pars_vertex:LZ,color_vertex:UZ,common:zZ,cube_uv_reflection_fragment:BZ,defaultnormal_vertex:kZ,displacementmap_pars_vertex:FZ,displacementmap_vertex:VZ,emissivemap_fragment:HZ,emissivemap_pars_fragment:jZ,colorspace_fragment:GZ,colorspace_pars_fragment:WZ,envmap_fragment:qZ,envmap_common_pars_fragment:XZ,envmap_pars_fragment:$Z,envmap_pars_vertex:YZ,envmap_physical_pars_fragment:sK,envmap_vertex:ZZ,fog_vertex:KZ,fog_pars_vertex:QZ,fog_fragment:JZ,fog_pars_fragment:eK,gradientmap_pars_fragment:tK,lightmap_pars_fragment:nK,lights_lambert_fragment:iK,lights_lambert_pars_fragment:rK,lights_pars_begin:aK,lights_toon_fragment:oK,lights_toon_pars_fragment:lK,lights_phong_fragment:uK,lights_phong_pars_fragment:cK,lights_physical_fragment:fK,lights_physical_pars_fragment:hK,lights_fragment_begin:dK,lights_fragment_maps:pK,lights_fragment_end:mK,logdepthbuf_fragment:gK,logdepthbuf_pars_fragment:vK,logdepthbuf_pars_vertex:yK,logdepthbuf_vertex:xK,map_fragment:bK,map_pars_fragment:_K,map_particle_fragment:SK,map_particle_pars_fragment:MK,metalnessmap_fragment:wK,metalnessmap_pars_fragment:EK,morphinstance_vertex:AK,morphcolor_vertex:TK,morphnormal_vertex:CK,morphtarget_pars_vertex:RK,morphtarget_vertex:PK,normal_fragment_begin:OK,normal_fragment_maps:DK,normal_pars_fragment:IK,normal_pars_vertex:NK,normal_vertex:LK,normalmap_pars_fragment:UK,clearcoat_normal_fragment_begin:zK,clearcoat_normal_fragment_maps:BK,clearcoat_pars_fragment:kK,iridescence_pars_fragment:FK,opaque_fragment:VK,packing:HK,premultiplied_alpha_fragment:jK,project_vertex:GK,dithering_fragment:WK,dithering_pars_fragment:qK,roughnessmap_fragment:XK,roughnessmap_pars_fragment:$K,shadowmap_pars_fragment:YK,shadowmap_pars_vertex:ZK,shadowmap_vertex:KK,shadowmask_pars_fragment:QK,skinbase_vertex:JK,skinning_pars_vertex:eQ,skinning_vertex:tQ,skinnormal_vertex:nQ,specularmap_fragment:iQ,specularmap_pars_fragment:rQ,tonemapping_fragment:aQ,tonemapping_pars_fragment:sQ,transmission_fragment:oQ,transmission_pars_fragment:lQ,uv_pars_fragment:uQ,uv_pars_vertex:cQ,uv_vertex:fQ,worldpos_vertex:hQ,background_vert:dQ,background_frag:pQ,backgroundCube_vert:mQ,backgroundCube_frag:gQ,cube_vert:vQ,cube_frag:yQ,depth_vert:xQ,depth_frag:bQ,distance_vert:_Q,distance_frag:SQ,equirect_vert:MQ,equirect_frag:wQ,linedashed_vert:EQ,linedashed_frag:AQ,meshbasic_vert:TQ,meshbasic_frag:CQ,meshlambert_vert:RQ,meshlambert_frag:PQ,meshmatcap_vert:OQ,meshmatcap_frag:DQ,meshnormal_vert:IQ,meshnormal_frag:NQ,meshphong_vert:LQ,meshphong_frag:UQ,meshphysical_vert:zQ,meshphysical_frag:BQ,meshtoon_vert:kQ,meshtoon_frag:FQ,points_vert:VQ,points_frag:HQ,shadow_vert:jQ,shadow_frag:GQ,sprite_vert:WQ,sprite_frag:qQ},Dt={common:{diffuse:{value:new Ut(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new bn},alphaMap:{value:null},alphaMapTransform:{value:new bn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new bn}},envmap:{envMap:{value:null},envMapRotation:{value:new bn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new bn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new bn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new bn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new bn},normalScale:{value:new Qe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new bn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new bn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new bn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new bn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ut(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ut(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new bn},alphaTest:{value:0},uvTransform:{value:new bn}},sprite:{diffuse:{value:new Ut(16777215)},opacity:{value:1},center:{value:new Qe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new bn},alphaMap:{value:null},alphaMapTransform:{value:new bn},alphaTest:{value:0}}},Cl={basic:{uniforms:os([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.fog]),vertexShader:An.meshbasic_vert,fragmentShader:An.meshbasic_frag},lambert:{uniforms:os([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,Dt.lights,{emissive:{value:new Ut(0)},envMapIntensity:{value:1}}]),vertexShader:An.meshlambert_vert,fragmentShader:An.meshlambert_frag},phong:{uniforms:os([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,Dt.lights,{emissive:{value:new Ut(0)},specular:{value:new Ut(1118481)},shininess:{value:30},envMapIntensity:{value:1}}]),vertexShader:An.meshphong_vert,fragmentShader:An.meshphong_frag},standard:{uniforms:os([Dt.common,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.roughnessmap,Dt.metalnessmap,Dt.fog,Dt.lights,{emissive:{value:new Ut(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:An.meshphysical_vert,fragmentShader:An.meshphysical_frag},toon:{uniforms:os([Dt.common,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.gradientmap,Dt.fog,Dt.lights,{emissive:{value:new Ut(0)}}]),vertexShader:An.meshtoon_vert,fragmentShader:An.meshtoon_frag},matcap:{uniforms:os([Dt.common,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,{matcap:{value:null}}]),vertexShader:An.meshmatcap_vert,fragmentShader:An.meshmatcap_frag},points:{uniforms:os([Dt.points,Dt.fog]),vertexShader:An.points_vert,fragmentShader:An.points_frag},dashed:{uniforms:os([Dt.common,Dt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:An.linedashed_vert,fragmentShader:An.linedashed_frag},depth:{uniforms:os([Dt.common,Dt.displacementmap]),vertexShader:An.depth_vert,fragmentShader:An.depth_frag},normal:{uniforms:os([Dt.common,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,{opacity:{value:1}}]),vertexShader:An.meshnormal_vert,fragmentShader:An.meshnormal_frag},sprite:{uniforms:os([Dt.sprite,Dt.fog]),vertexShader:An.sprite_vert,fragmentShader:An.sprite_frag},background:{uniforms:{uvTransform:{value:new bn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:An.background_vert,fragmentShader:An.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new bn}},vertexShader:An.backgroundCube_vert,fragmentShader:An.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:An.cube_vert,fragmentShader:An.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:An.equirect_vert,fragmentShader:An.equirect_frag},distance:{uniforms:os([Dt.common,Dt.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:An.distance_vert,fragmentShader:An.distance_frag},shadow:{uniforms:os([Dt.lights,Dt.fog,{color:{value:new Ut(0)},opacity:{value:1}}]),vertexShader:An.shadow_vert,fragmentShader:An.shadow_frag}};Cl.physical={uniforms:os([Cl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new bn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new bn},clearcoatNormalScale:{value:new Qe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new bn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new bn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new bn},sheen:{value:0},sheenColor:{value:new Ut(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new bn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new bn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new bn},transmissionSamplerSize:{value:new Qe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new bn},attenuationDistance:{value:0},attenuationColor:{value:new Ut(0)},specularColor:{value:new Ut(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new bn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new bn},anisotropyVector:{value:new Qe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new bn}}]),vertexShader:An.meshphysical_vert,fragmentShader:An.meshphysical_frag};const BS={r:0,b:0,g:0},Ad=new Gs,XQ=new on;function $Q(t,e,n,i,r,a){const s=new Ut(0);let l=r===!0?0:1,c,h,p=null,g=0,v=null;function x(T){let R=T.isScene===!0?T.background:null;if(R&&R.isTexture){const P=T.backgroundBlurriness>0;R=e.get(R,P)}return R}function _(T){let R=!1;const P=x(T);P===null?S(s,l):P&&P.isColor&&(S(P,1),R=!0);const L=t.xr.getEnvironmentBlendMode();L==="additive"?n.buffers.color.setClear(0,0,0,1,a):L==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,a),(t.autoClear||R)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function w(T,R){const P=x(R);P&&(P.isCubeTexture||P.mapping===Yg)?(h===void 0&&(h=new ar(new yp(1,1,1),new ms({name:"BackgroundCubeMaterial",uniforms:Ng(Cl.backgroundCube.uniforms),vertexShader:Cl.backgroundCube.vertexShader,fragmentShader:Cl.backgroundCube.fragmentShader,side:ps,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(L,I,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),Ad.copy(R.backgroundRotation),Ad.x*=-1,Ad.y*=-1,Ad.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(Ad.y*=-1,Ad.z*=-1),h.material.uniforms.envMap.value=P,h.material.uniforms.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=R.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,h.material.uniforms.backgroundRotation.value.setFromMatrix4(XQ.makeRotationFromEuler(Ad)),h.material.toneMapped=Hn.getTransfer(P.colorSpace)!==oi,(p!==P||g!==P.version||v!==t.toneMapping)&&(h.material.needsUpdate=!0,p=P,g=P.version,v=t.toneMapping),h.layers.enableAll(),T.unshift(h,h.geometry,h.material,0,0,null)):P&&P.isTexture&&(c===void 0&&(c=new ar(new Sh(2,2),new ms({name:"BackgroundMaterial",uniforms:Ng(Cl.background.uniforms),vertexShader:Cl.background.vertexShader,fragmentShader:Cl.background.fragmentShader,side:Lc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=P,c.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,c.material.toneMapped=Hn.getTransfer(P.colorSpace)!==oi,P.matrixAutoUpdate===!0&&P.updateMatrix(),c.material.uniforms.uvTransform.value.copy(P.matrix),(p!==P||g!==P.version||v!==t.toneMapping)&&(c.material.needsUpdate=!0,p=P,g=P.version,v=t.toneMapping),c.layers.enableAll(),T.unshift(c,c.geometry,c.material,0,0,null))}function S(T,R){T.getRGB(BS,I6(t)),n.buffers.color.setClear(BS.r,BS.g,BS.b,R,a)}function M(){h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return s},setClearColor:function(T,R=1){s.set(T),l=R,S(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(T){l=T,S(s,l)},render:_,addToRenderList:w,dispose:M}}function YQ(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=v(null);let a=r,s=!1;function l(j,G,J,te,ie){let q=!1;const K=g(j,te,J,G);a!==K&&(a=K,h(a.object)),q=x(j,te,J,ie),q&&_(j,te,J,ie),ie!==null&&e.update(ie,t.ELEMENT_ARRAY_BUFFER),(q||s)&&(s=!1,P(j,G,J,te),ie!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(ie).buffer))}function c(){return t.createVertexArray()}function h(j){return t.bindVertexArray(j)}function p(j){return t.deleteVertexArray(j)}function g(j,G,J,te){const ie=te.wireframe===!0;let q=i[G.id];q===void 0&&(q={},i[G.id]=q);const K=j.isInstancedMesh===!0?j.id:0;let pe=q[K];pe===void 0&&(pe={},q[K]=pe);let de=pe[J.id];de===void 0&&(de={},pe[J.id]=de);let _e=de[ie];return _e===void 0&&(_e=v(c()),de[ie]=_e),_e}function v(j){const G=[],J=[],te=[];for(let ie=0;ie<n;ie++)G[ie]=0,J[ie]=0,te[ie]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:J,attributeDivisors:te,object:j,attributes:{},index:null}}function x(j,G,J,te){const ie=a.attributes,q=G.attributes;let K=0;const pe=J.getAttributes();for(const de in pe)if(pe[de].location>=0){const Y=ie[de];let re=q[de];if(re===void 0&&(de==="instanceMatrix"&&j.instanceMatrix&&(re=j.instanceMatrix),de==="instanceColor"&&j.instanceColor&&(re=j.instanceColor)),Y===void 0||Y.attribute!==re||re&&Y.data!==re.data)return!0;K++}return a.attributesNum!==K||a.index!==te}function _(j,G,J,te){const ie={},q=G.attributes;let K=0;const pe=J.getAttributes();for(const de in pe)if(pe[de].location>=0){let Y=q[de];Y===void 0&&(de==="instanceMatrix"&&j.instanceMatrix&&(Y=j.instanceMatrix),de==="instanceColor"&&j.instanceColor&&(Y=j.instanceColor));const re={};re.attribute=Y,Y&&Y.data&&(re.data=Y.data),ie[de]=re,K++}a.attributes=ie,a.attributesNum=K,a.index=te}function w(){const j=a.newAttributes;for(let G=0,J=j.length;G<J;G++)j[G]=0}function S(j){M(j,0)}function M(j,G){const J=a.newAttributes,te=a.enabledAttributes,ie=a.attributeDivisors;J[j]=1,te[j]===0&&(t.enableVertexAttribArray(j),te[j]=1),ie[j]!==G&&(t.vertexAttribDivisor(j,G),ie[j]=G)}function T(){const j=a.newAttributes,G=a.enabledAttributes;for(let J=0,te=G.length;J<te;J++)G[J]!==j[J]&&(t.disableVertexAttribArray(J),G[J]=0)}function R(j,G,J,te,ie,q,K){K===!0?t.vertexAttribIPointer(j,G,J,ie,q):t.vertexAttribPointer(j,G,J,te,ie,q)}function P(j,G,J,te){w();const ie=te.attributes,q=J.getAttributes(),K=G.defaultAttributeValues;for(const pe in q){const de=q[pe];if(de.location>=0){let _e=ie[pe];if(_e===void 0&&(pe==="instanceMatrix"&&j.instanceMatrix&&(_e=j.instanceMatrix),pe==="instanceColor"&&j.instanceColor&&(_e=j.instanceColor)),_e!==void 0){const Y=_e.normalized,re=_e.itemSize,Me=e.get(_e);if(Me===void 0)continue;const ke=Me.buffer,mt=Me.type,me=Me.bytesPerElement,De=mt===t.INT||mt===t.UNSIGNED_INT||_e.gpuType===Ox;if(_e.isInterleavedBufferAttribute){const Ye=_e.data,xe=Ye.stride,ot=_e.offset;if(Ye.isInstancedInterleavedBuffer){for(let xt=0;xt<de.locationSize;xt++)M(de.location+xt,Ye.meshPerAttribute);j.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=Ye.meshPerAttribute*Ye.count)}else for(let xt=0;xt<de.locationSize;xt++)S(de.location+xt);t.bindBuffer(t.ARRAY_BUFFER,ke);for(let xt=0;xt<de.locationSize;xt++)R(de.location+xt,re/de.locationSize,mt,Y,xe*me,(ot+re/de.locationSize*xt)*me,De)}else{if(_e.isInstancedBufferAttribute){for(let Ye=0;Ye<de.locationSize;Ye++)M(de.location+Ye,_e.meshPerAttribute);j.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=_e.meshPerAttribute*_e.count)}else for(let Ye=0;Ye<de.locationSize;Ye++)S(de.location+Ye);t.bindBuffer(t.ARRAY_BUFFER,ke);for(let Ye=0;Ye<de.locationSize;Ye++)R(de.location+Ye,re/de.locationSize,mt,Y,re*me,re/de.locationSize*Ye*me,De)}}else if(K!==void 0){const Y=K[pe];if(Y!==void 0)switch(Y.length){case 2:t.vertexAttrib2fv(de.location,Y);break;case 3:t.vertexAttrib3fv(de.location,Y);break;case 4:t.vertexAttrib4fv(de.location,Y);break;default:t.vertexAttrib1fv(de.location,Y)}}}}T()}function L(){z();for(const j in i){const G=i[j];for(const J in G){const te=G[J];for(const ie in te){const q=te[ie];for(const K in q)p(q[K].object),delete q[K];delete te[ie]}}delete i[j]}}function I(j){if(i[j.id]===void 0)return;const G=i[j.id];for(const J in G){const te=G[J];for(const ie in te){const q=te[ie];for(const K in q)p(q[K].object),delete q[K];delete te[ie]}}delete i[j.id]}function B(j){for(const G in i){const J=i[G];for(const te in J){const ie=J[te];if(ie[j.id]===void 0)continue;const q=ie[j.id];for(const K in q)p(q[K].object),delete q[K];delete ie[j.id]}}}function D(j){for(const G in i){const J=i[G],te=j.isInstancedMesh===!0?j.id:0,ie=J[te];if(ie!==void 0){for(const q in ie){const K=ie[q];for(const pe in K)p(K[pe].object),delete K[pe];delete ie[q]}delete J[te],Object.keys(J).length===0&&delete i[G]}}}function z(){W(),s=!0,a!==r&&(a=r,h(a.object))}function W(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:l,reset:z,resetDefaultState:W,dispose:L,releaseStatesOfGeometry:I,releaseStatesOfObject:D,releaseStatesOfProgram:B,initAttributes:w,enableAttribute:S,disableUnusedAttributes:T}}function ZQ(t,e,n){let i;function r(h){i=h}function a(h,p){t.drawArrays(i,h,p),n.update(p,i,1)}function s(h,p,g){g!==0&&(t.drawArraysInstanced(i,h,p,g),n.update(p,i,g))}function l(h,p,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,h,0,p,0,g);let x=0;for(let _=0;_<g;_++)x+=p[_];n.update(x,i,1)}function c(h,p,g,v){if(g===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let _=0;_<h.length;_++)s(h[_],p[_],v[_]);else{x.multiDrawArraysInstancedWEBGL(i,h,0,p,0,v,0,g);let _=0;for(let w=0;w<g;w++)_+=p[w]*v[w];n.update(_,i,1)}}this.setMode=r,this.render=a,this.renderInstances=s,this.renderMultiDraw=l,this.renderMultiDrawInstances=c}function KQ(t,e,n,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(B){return!(B!==Sr&&i.convert(B)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(B){const D=B===rr&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(B!==aa&&i.convert(B)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&B!==Bi&&!D)}function c(B){if(B==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=n.precision!==void 0?n.precision:"highp";const p=c(h);p!==h&&(Ct("WebGLRenderer:",h,"not supported, using",p,"instead."),h=p);const g=n.logarithmicDepthBuffer===!0,v=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),x=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),_=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),w=t.getParameter(t.MAX_TEXTURE_SIZE),S=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),M=t.getParameter(t.MAX_VERTEX_ATTRIBS),T=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),R=t.getParameter(t.MAX_VARYING_VECTORS),P=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),L=t.getParameter(t.MAX_SAMPLES),I=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:c,textureFormatReadable:s,textureTypeReadable:l,precision:h,logarithmicDepthBuffer:g,reversedDepthBuffer:v,maxTextures:x,maxVertexTextures:_,maxTextureSize:w,maxCubemapSize:S,maxAttributes:M,maxVertexUniforms:T,maxVaryings:R,maxFragmentUniforms:P,maxSamples:L,samples:I}}function QQ(t){const e=this;let n=null,i=0,r=!1,a=!1;const s=new eh,l=new bn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(g,v){const x=g.length!==0||v||i!==0||r;return r=v,i=g.length,x},this.beginShadows=function(){a=!0,p(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(g,v){n=p(g,v,0)},this.setState=function(g,v,x){const _=g.clippingPlanes,w=g.clipIntersection,S=g.clipShadows,M=t.get(g);if(!r||_===null||_.length===0||a&&!S)a?p(null):h();else{const T=a?0:i,R=T*4;let P=M.clippingState||null;c.value=P,P=p(_,v,R,x);for(let L=0;L!==R;++L)P[L]=n[L];M.clippingState=P,this.numIntersection=w?this.numPlanes:0,this.numPlanes+=T}};function h(){c.value!==n&&(c.value=n,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function p(g,v,x,_){const w=g!==null?g.length:0;let S=null;if(w!==0){if(S=c.value,_!==!0||S===null){const M=x+w*4,T=v.matrixWorldInverse;l.getNormalMatrix(T),(S===null||S.length<M)&&(S=new Float32Array(M));for(let R=0,P=x;R!==w;++R,P+=4)s.copy(g[R]).applyMatrix4(T,l),s.normal.toArray(S,P),S[P+3]=s.constant}c.value=S,c.needsUpdate=!0}return e.numPlanes=w,e.numIntersection=0,S}}const oh=4,ZL=[.125,.215,.35,.446,.526,.582],zd=20,JQ=256,Q0=new _p,KL=new Ut;let CT=null,RT=0,PT=0,OT=!1;const eJ=new ee;class iP{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,i=.1,r=100,a={}){const{size:s=256,position:l=eJ}=a;CT=this._renderer.getRenderTarget(),RT=this._renderer.getActiveCubeFace(),PT=this._renderer.getActiveMipmapLevel(),OT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,i,r,c,l),n>0&&this._blur(c,0,0,n),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=eU(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=JL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(CT,RT,PT),this._renderer.xr.enabled=OT,e.scissorTest=!1,Qm(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Bl||e.mapping===ph?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),CT=this._renderer.getRenderTarget(),RT=this._renderer.getActiveCubeFace(),PT=this._renderer.getActiveMipmapLevel(),OT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:kn,minFilter:kn,generateMipmaps:!1,type:rr,format:Sr,colorSpace:kl,depthBuffer:!1},r=QL(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=QL(e,n,i);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=tJ(a)),this._blurMaterial=iJ(a,e,n),this._ggxMaterial=nJ(a,e,n)}return r}_compileMaterial(e){const n=new ar(new yn,e);this._renderer.compile(n,Q0)}_sceneToCubeUV(e,n,i,r,a){const c=new ra(90,1,n,i),h=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],g=this._renderer,v=g.autoClear,x=g.toneMapping;g.getClearColor(KL),g.toneMapping=$o,g.autoClear=!1,g.state.buffers.depth.getReversed()&&(g.setRenderTarget(r),g.clearDepth(),g.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new ar(new yp,new Wc({name:"PMREM.Background",side:ps,depthWrite:!1,depthTest:!1})));const w=this._backgroundBox,S=w.material;let M=!1;const T=e.background;T?T.isColor&&(S.color.copy(T),e.background=null,M=!0):(S.color.copy(KL),M=!0);for(let R=0;R<6;R++){const P=R%3;P===0?(c.up.set(0,h[R],0),c.position.set(a.x,a.y,a.z),c.lookAt(a.x+p[R],a.y,a.z)):P===1?(c.up.set(0,0,h[R]),c.position.set(a.x,a.y,a.z),c.lookAt(a.x,a.y+p[R],a.z)):(c.up.set(0,h[R],0),c.position.set(a.x,a.y,a.z),c.lookAt(a.x,a.y,a.z+p[R]));const L=this._cubeSize;Qm(r,P*L,R>2?L:0,L,L),g.setRenderTarget(r),M&&g.render(w,c),g.render(e,c)}g.toneMapping=x,g.autoClear=v,e.background=T}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Bl||e.mapping===ph;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=eU()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=JL());const a=r?this._cubemapMaterial:this._equirectMaterial,s=this._lodMeshes[0];s.material=a;const l=a.uniforms;l.envMap.value=e;const c=this._cubeSize;Qm(n,0,0,3*c,2*c),i.setRenderTarget(n),i.render(s,Q0)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodMeshes.length;for(let a=1;a<r;a++)this._applyGGXFilter(e,a-1,a);n.autoClear=i}_applyGGXFilter(e,n,i){const r=this._renderer,a=this._pingPongRenderTarget,s=this._ggxMaterial,l=this._lodMeshes[i];l.material=s;const c=s.uniforms,h=i/(this._lodMeshes.length-1),p=n/(this._lodMeshes.length-1),g=Math.sqrt(h*h-p*p),v=0+h*1.25,x=g*v,{_lodMax:_}=this,w=this._sizeLods[i],S=3*w*(i>_-oh?i-_+oh:0),M=4*(this._cubeSize-w);c.envMap.value=e.texture,c.roughness.value=x,c.mipInt.value=_-n,Qm(a,S,M,3*w,2*w),r.setRenderTarget(a),r.render(l,Q0),c.envMap.value=a.texture,c.roughness.value=0,c.mipInt.value=_-i,Qm(e,S,M,3*w,2*w),r.setRenderTarget(e),r.render(l,Q0)}_blur(e,n,i,r,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,i,r,"latitudinal",a),this._halfBlur(s,e,i,i,r,"longitudinal",a)}_halfBlur(e,n,i,r,a,s,l){const c=this._renderer,h=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&Kt("blur direction must be either latitudinal or longitudinal!");const p=3,g=this._lodMeshes[r];g.material=h;const v=h.uniforms,x=this._sizeLods[i]-1,_=isFinite(a)?Math.PI/(2*x):2*Math.PI/(2*zd-1),w=a/_,S=isFinite(a)?1+Math.floor(p*w):zd;S>zd&&Ct(`sigmaRadians, ${a}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${zd}`);const M=[];let T=0;for(let B=0;B<zd;++B){const D=B/w,z=Math.exp(-D*D/2);M.push(z),B===0?T+=z:B<S&&(T+=2*z)}for(let B=0;B<M.length;B++)M[B]=M[B]/T;v.envMap.value=e.texture,v.samples.value=S,v.weights.value=M,v.latitudinal.value=s==="latitudinal",l&&(v.poleAxis.value=l);const{_lodMax:R}=this;v.dTheta.value=_,v.mipInt.value=R-i;const P=this._sizeLods[r],L=3*P*(r>R-oh?r-R+oh:0),I=4*(this._cubeSize-P);Qm(n,L,I,3*P,2*P),c.setRenderTarget(n),c.render(g,Q0)}}function tJ(t){const e=[],n=[],i=[];let r=t;const a=t-oh+1+ZL.length;for(let s=0;s<a;s++){const l=Math.pow(2,r);e.push(l);let c=1/l;s>t-oh?c=ZL[s-t+oh-1]:s===0&&(c=0),n.push(c);const h=1/(l-2),p=-h,g=1+h,v=[p,p,g,p,g,g,p,p,g,g,p,g],x=6,_=6,w=3,S=2,M=1,T=new Float32Array(w*_*x),R=new Float32Array(S*_*x),P=new Float32Array(M*_*x);for(let I=0;I<x;I++){const B=I%3*2/3-1,D=I>2?0:-1,z=[B,D,0,B+2/3,D,0,B+2/3,D+1,0,B,D,0,B+2/3,D+1,0,B,D+1,0];T.set(z,w*_*I),R.set(v,S*_*I);const W=[I,I,I,I,I,I];P.set(W,M*_*I)}const L=new yn;L.setAttribute("position",new gi(T,w)),L.setAttribute("uv",new gi(R,S)),L.setAttribute("faceIndex",new gi(P,M)),i.push(new ar(L,null)),r>oh&&r--}return{lodMeshes:i,sizeLods:e,sigmas:n}}function QL(t,e,n){const i=new Xa(t,e,n);return i.texture.mapping=Yg,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Qm(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function nJ(t,e,n){return new ms({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:JQ,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:uE(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 4.1: Orthonormal basis
				vec3 T1 = vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(V, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + V.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * V;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Nl,depthTest:!1,depthWrite:!1})}function iJ(t,e,n){const i=new Float32Array(zd),r=new ee(0,1,0);return new ms({name:"SphericalGaussianBlur",defines:{n:zd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:uE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Nl,depthTest:!1,depthWrite:!1})}function JL(){return new ms({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:uE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Nl,depthTest:!1,depthWrite:!1})}function eU(){return new ms({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:uE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Nl,depthTest:!1,depthWrite:!1})}function uE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}class cE extends Xa{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Lx(r),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new yp(5,5,5),a=new ms({name:"CubemapFromEquirect",uniforms:Ng(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ps,blending:Nl});a.uniforms.tEquirect.value=n;const s=new ar(r,a),l=n.minFilter;return n.minFilter===Pu&&(n.minFilter=kn),new r8(1,10,this).update(e,s),n.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,n=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,i,r);e.setRenderTarget(a)}}function rJ(t){let e=new WeakMap,n=new WeakMap,i=null;function r(v,x=!1){return v==null?null:x?s(v):a(v)}function a(v){if(v&&v.isTexture){const x=v.mapping;if(x===_g||x===Cy)if(e.has(v)){const _=e.get(v).texture;return l(_,v.mapping)}else{const _=v.image;if(_&&_.height>0){const w=new cE(_.height);return w.fromEquirectangularTexture(t,v),e.set(v,w),v.addEventListener("dispose",h),l(w.texture,v.mapping)}else return null}}return v}function s(v){if(v&&v.isTexture){const x=v.mapping,_=x===_g||x===Cy,w=x===Bl||x===ph;if(_||w){let S=n.get(v);const M=S!==void 0?S.texture.pmremVersion:0;if(v.isRenderTargetTexture&&v.pmremVersion!==M)return i===null&&(i=new iP(t)),S=_?i.fromEquirectangular(v,S):i.fromCubemap(v,S),S.texture.pmremVersion=v.pmremVersion,n.set(v,S),S.texture;if(S!==void 0)return S.texture;{const T=v.image;return _&&T&&T.height>0||w&&T&&c(T)?(i===null&&(i=new iP(t)),S=_?i.fromEquirectangular(v):i.fromCubemap(v),S.texture.pmremVersion=v.pmremVersion,n.set(v,S),v.addEventListener("dispose",p),S.texture):null}}}return v}function l(v,x){return x===_g?v.mapping=Bl:x===Cy&&(v.mapping=ph),v}function c(v){let x=0;const _=6;for(let w=0;w<_;w++)v[w]!==void 0&&x++;return x===_}function h(v){const x=v.target;x.removeEventListener("dispose",h);const _=e.get(x);_!==void 0&&(e.delete(x),_.dispose())}function p(v){const x=v.target;x.removeEventListener("dispose",p);const _=n.get(x);_!==void 0&&(n.delete(x),_.dispose())}function g(){e=new WeakMap,n=new WeakMap,i!==null&&(i.dispose(),i=null)}return{get:r,dispose:g}}function aJ(t){const e={};function n(i){if(e[i]!==void 0)return e[i];const r=t.getExtension(i);return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&Jy("WebGLRenderer: "+i+" extension not supported."),r}}}function sJ(t,e,n,i){const r={},a=new WeakMap;function s(g){const v=g.target;v.index!==null&&e.remove(v.index);for(const _ in v.attributes)e.remove(v.attributes[_]);v.removeEventListener("dispose",s),delete r[v.id];const x=a.get(v);x&&(e.remove(x),a.delete(v)),i.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,n.memory.geometries--}function l(g,v){return r[v.id]===!0||(v.addEventListener("dispose",s),r[v.id]=!0,n.memory.geometries++),v}function c(g){const v=g.attributes;for(const x in v)e.update(v[x],t.ARRAY_BUFFER)}function h(g){const v=[],x=g.index,_=g.attributes.position;let w=0;if(_===void 0)return;if(x!==null){const T=x.array;w=x.version;for(let R=0,P=T.length;R<P;R+=3){const L=T[R+0],I=T[R+1],B=T[R+2];v.push(L,I,I,B,B,L)}}else{const T=_.array;w=_.version;for(let R=0,P=T.length/3-1;R<P;R+=3){const L=R+0,I=R+1,B=R+2;v.push(L,I,I,B,B,L)}}const S=new(_.count>=65535?e3:JO)(v,1);S.version=w;const M=a.get(g);M&&e.remove(M),a.set(g,S)}function p(g){const v=a.get(g);if(v){const x=g.index;x!==null&&v.version<x.version&&h(g)}else h(g);return a.get(g)}return{get:l,update:c,getWireframeAttribute:p}}function oJ(t,e,n){let i;function r(v){i=v}let a,s;function l(v){a=v.type,s=v.bytesPerElement}function c(v,x){t.drawElements(i,x,a,v*s),n.update(x,i,1)}function h(v,x,_){_!==0&&(t.drawElementsInstanced(i,x,a,v*s,_),n.update(x,i,_))}function p(v,x,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,x,0,a,v,0,_);let S=0;for(let M=0;M<_;M++)S+=x[M];n.update(S,i,1)}function g(v,x,_,w){if(_===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let M=0;M<v.length;M++)h(v[M]/s,x[M],w[M]);else{S.multiDrawElementsInstancedWEBGL(i,x,0,a,v,0,w,0,_);let M=0;for(let T=0;T<_;T++)M+=x[T]*w[T];n.update(M,i,1)}}this.setMode=r,this.setIndex=l,this.render=c,this.renderInstances=h,this.renderMultiDraw=p,this.renderMultiDrawInstances=g}function lJ(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,s,l){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=l*(a/3);break;case t.LINES:n.lines+=l*(a/2);break;case t.LINE_STRIP:n.lines+=l*(a-1);break;case t.LINE_LOOP:n.lines+=l*a;break;case t.POINTS:n.points+=l*a;break;default:Kt("WebGLInfo: Unknown draw mode:",s);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function uJ(t,e,n){const i=new WeakMap,r=new ii;function a(s,l,c){const h=s.morphTargetInfluences,p=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,g=p!==void 0?p.length:0;let v=i.get(l);if(v===void 0||v.count!==g){let W=function(){D.dispose(),i.delete(l),l.removeEventListener("dispose",W)};var x=W;v!==void 0&&v.texture.dispose();const _=l.morphAttributes.position!==void 0,w=l.morphAttributes.normal!==void 0,S=l.morphAttributes.color!==void 0,M=l.morphAttributes.position||[],T=l.morphAttributes.normal||[],R=l.morphAttributes.color||[];let P=0;_===!0&&(P=1),w===!0&&(P=2),S===!0&&(P=3);let L=l.attributes.position.count*P,I=1;L>e.maxTextureSize&&(I=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const B=new Float32Array(L*I*4*g),D=new kw(B,L,I,g);D.type=Bi,D.needsUpdate=!0;const z=P*4;for(let j=0;j<g;j++){const G=M[j],J=T[j],te=R[j],ie=L*I*4*j;for(let q=0;q<G.count;q++){const K=q*z;_===!0&&(r.fromBufferAttribute(G,q),B[ie+K+0]=r.x,B[ie+K+1]=r.y,B[ie+K+2]=r.z,B[ie+K+3]=0),w===!0&&(r.fromBufferAttribute(J,q),B[ie+K+4]=r.x,B[ie+K+5]=r.y,B[ie+K+6]=r.z,B[ie+K+7]=0),S===!0&&(r.fromBufferAttribute(te,q),B[ie+K+8]=r.x,B[ie+K+9]=r.y,B[ie+K+10]=r.z,B[ie+K+11]=te.itemSize===4?r.w:1)}}v={count:g,texture:D,size:new Qe(L,I)},i.set(l,v),l.addEventListener("dispose",W)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)c.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let _=0;for(let S=0;S<h.length;S++)_+=h[S];const w=l.morphTargetsRelative?1:1-_;c.getUniforms().setValue(t,"morphTargetBaseInfluence",w),c.getUniforms().setValue(t,"morphTargetInfluences",h)}c.getUniforms().setValue(t,"morphTargetsTexture",v.texture,n),c.getUniforms().setValue(t,"morphTargetsTextureSize",v.size)}return{update:a}}function cJ(t,e,n,i,r){let a=new WeakMap;function s(h){const p=r.render.frame,g=h.geometry,v=e.get(h,g);if(a.get(v)!==p&&(e.update(v),a.set(v,p)),h.isInstancedMesh&&(h.hasEventListener("dispose",c)===!1&&h.addEventListener("dispose",c),a.get(h)!==p&&(n.update(h.instanceMatrix,t.ARRAY_BUFFER),h.instanceColor!==null&&n.update(h.instanceColor,t.ARRAY_BUFFER),a.set(h,p))),h.isSkinnedMesh){const x=h.skeleton;a.get(x)!==p&&(x.update(),a.set(x,p))}return v}function l(){a=new WeakMap}function c(h){const p=h.target;p.removeEventListener("dispose",c),i.releaseStatesOfObject(p),n.remove(p.instanceMatrix),p.instanceColor!==null&&n.remove(p.instanceColor)}return{update:s,dispose:l}}const fJ={[kO]:"LINEAR_TONE_MAPPING",[FO]:"REINHARD_TONE_MAPPING",[VO]:"CINEON_TONE_MAPPING",[Rw]:"ACES_FILMIC_TONE_MAPPING",[jO]:"AGX_TONE_MAPPING",[GO]:"NEUTRAL_TONE_MAPPING",[HO]:"CUSTOM_TONE_MAPPING"};function hJ(t,e,n,i,r){const a=new Xa(e,n,{type:t,depthBuffer:i,stencilBuffer:r}),s=new Xa(e,n,{type:rr,depthBuffer:!1,stencilBuffer:!1}),l=new yn;l.setAttribute("position",new Bt([-1,3,0,-1,-1,0,3,-1,0],3)),l.setAttribute("uv",new Bt([0,2,0,0,2,0],2));const c=new c3({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),h=new ar(l,c),p=new _p(-1,1,1,-1,0,1);let g=null,v=null,x=!1,_,w=null,S=[],M=!1;this.setSize=function(T,R){a.setSize(T,R),s.setSize(T,R);for(let P=0;P<S.length;P++){const L=S[P];L.setSize&&L.setSize(T,R)}},this.setEffects=function(T){S=T,M=S.length>0&&S[0].isRenderPass===!0;const R=a.width,P=a.height;for(let L=0;L<S.length;L++){const I=S[L];I.setSize&&I.setSize(R,P)}},this.begin=function(T,R){if(x||T.toneMapping===$o&&S.length===0)return!1;if(w=R,R!==null){const P=R.width,L=R.height;(a.width!==P||a.height!==L)&&this.setSize(P,L)}return M===!1&&T.setRenderTarget(a),_=T.toneMapping,T.toneMapping=$o,!0},this.hasRenderPass=function(){return M},this.end=function(T,R){T.toneMapping=_,x=!0;let P=a,L=s;for(let I=0;I<S.length;I++){const B=S[I];if(B.enabled!==!1&&(B.render(T,L,P,R),B.needsSwap!==!1)){const D=P;P=L,L=D}}if(g!==T.outputColorSpace||v!==T.toneMapping){g=T.outputColorSpace,v=T.toneMapping,c.defines={},Hn.getTransfer(g)===oi&&(c.defines.SRGB_TRANSFER="");const I=fJ[v];I&&(c.defines[I]=""),c.needsUpdate=!0}c.uniforms.tDiffuse.value=P.texture,T.setRenderTarget(w),T.render(h,p),w=null,x=!1},this.isCompositing=function(){return x},this.dispose=function(){a.dispose(),s.dispose(),l.dispose(),c.dispose()}}const p8=new mi,rP=new lp(1,1),m8=new kw,g8=new Fw,v8=new Lx,tU=[],nU=[],iU=new Float32Array(16),rU=new Float32Array(9),aU=new Float32Array(4);function Jg(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let a=tU[r];if(a===void 0&&(a=new Float32Array(r),tU[r]=a),e!==0){i.toArray(a,0);for(let s=1,l=0;s!==e;++s)l+=n,t[s].toArray(a,l)}return a}function Gr(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Wr(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function fE(t,e){let n=nU[e];n===void 0&&(n=new Int32Array(e),nU[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function dJ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function pJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gr(n,e))return;t.uniform2fv(this.addr,e),Wr(n,e)}}function mJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Gr(n,e))return;t.uniform3fv(this.addr,e),Wr(n,e)}}function gJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gr(n,e))return;t.uniform4fv(this.addr,e),Wr(n,e)}}function vJ(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Gr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Wr(n,e)}else{if(Gr(n,i))return;aU.set(i),t.uniformMatrix2fv(this.addr,!1,aU),Wr(n,i)}}function yJ(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Gr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Wr(n,e)}else{if(Gr(n,i))return;rU.set(i),t.uniformMatrix3fv(this.addr,!1,rU),Wr(n,i)}}function xJ(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Gr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Wr(n,e)}else{if(Gr(n,i))return;iU.set(i),t.uniformMatrix4fv(this.addr,!1,iU),Wr(n,i)}}function bJ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function _J(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gr(n,e))return;t.uniform2iv(this.addr,e),Wr(n,e)}}function SJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Gr(n,e))return;t.uniform3iv(this.addr,e),Wr(n,e)}}function MJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gr(n,e))return;t.uniform4iv(this.addr,e),Wr(n,e)}}function wJ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function EJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gr(n,e))return;t.uniform2uiv(this.addr,e),Wr(n,e)}}function AJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Gr(n,e))return;t.uniform3uiv(this.addr,e),Wr(n,e)}}function TJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gr(n,e))return;t.uniform4uiv(this.addr,e),Wr(n,e)}}function CJ(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let a;this.type===t.SAMPLER_2D_SHADOW?(rP.compareFunction=n.isReversedDepthBuffer()?Bw:zw,a=rP):a=p8,n.setTexture2D(e||a,r)}function RJ(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||g8,r)}function PJ(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||v8,r)}function OJ(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||m8,r)}function DJ(t){switch(t){case 5126:return dJ;case 35664:return pJ;case 35665:return mJ;case 35666:return gJ;case 35674:return vJ;case 35675:return yJ;case 35676:return xJ;case 5124:case 35670:return bJ;case 35667:case 35671:return _J;case 35668:case 35672:return SJ;case 35669:case 35673:return MJ;case 5125:return wJ;case 36294:return EJ;case 36295:return AJ;case 36296:return TJ;case 35678:case 36198:case 36298:case 36306:case 35682:return CJ;case 35679:case 36299:case 36307:return RJ;case 35680:case 36300:case 36308:case 36293:return PJ;case 36289:case 36303:case 36311:case 36292:return OJ}}function IJ(t,e){t.uniform1fv(this.addr,e)}function NJ(t,e){const n=Jg(e,this.size,2);t.uniform2fv(this.addr,n)}function LJ(t,e){const n=Jg(e,this.size,3);t.uniform3fv(this.addr,n)}function UJ(t,e){const n=Jg(e,this.size,4);t.uniform4fv(this.addr,n)}function zJ(t,e){const n=Jg(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function BJ(t,e){const n=Jg(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function kJ(t,e){const n=Jg(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function FJ(t,e){t.uniform1iv(this.addr,e)}function VJ(t,e){t.uniform2iv(this.addr,e)}function HJ(t,e){t.uniform3iv(this.addr,e)}function jJ(t,e){t.uniform4iv(this.addr,e)}function GJ(t,e){t.uniform1uiv(this.addr,e)}function WJ(t,e){t.uniform2uiv(this.addr,e)}function qJ(t,e){t.uniform3uiv(this.addr,e)}function XJ(t,e){t.uniform4uiv(this.addr,e)}function $J(t,e,n){const i=this.cache,r=e.length,a=fE(n,r);Gr(i,a)||(t.uniform1iv(this.addr,a),Wr(i,a));let s;this.type===t.SAMPLER_2D_SHADOW?s=rP:s=p8;for(let l=0;l!==r;++l)n.setTexture2D(e[l]||s,a[l])}function YJ(t,e,n){const i=this.cache,r=e.length,a=fE(n,r);Gr(i,a)||(t.uniform1iv(this.addr,a),Wr(i,a));for(let s=0;s!==r;++s)n.setTexture3D(e[s]||g8,a[s])}function ZJ(t,e,n){const i=this.cache,r=e.length,a=fE(n,r);Gr(i,a)||(t.uniform1iv(this.addr,a),Wr(i,a));for(let s=0;s!==r;++s)n.setTextureCube(e[s]||v8,a[s])}function KJ(t,e,n){const i=this.cache,r=e.length,a=fE(n,r);Gr(i,a)||(t.uniform1iv(this.addr,a),Wr(i,a));for(let s=0;s!==r;++s)n.setTexture2DArray(e[s]||m8,a[s])}function QJ(t){switch(t){case 5126:return IJ;case 35664:return NJ;case 35665:return LJ;case 35666:return UJ;case 35674:return zJ;case 35675:return BJ;case 35676:return kJ;case 5124:case 35670:return FJ;case 35667:case 35671:return VJ;case 35668:case 35672:return HJ;case 35669:case 35673:return jJ;case 5125:return GJ;case 36294:return WJ;case 36295:return qJ;case 36296:return XJ;case 35678:case 36198:case 36298:case 36306:case 35682:return $J;case 35679:case 36299:case 36307:return YJ;case 35680:case 36300:case 36308:case 36293:return ZJ;case 36289:case 36303:case 36311:case 36292:return KJ}}class JJ{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=DJ(n.type)}}class eee{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=QJ(n.type)}}class tee{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let a=0,s=r.length;a!==s;++a){const l=r[a];l.setValue(e,n[l.id],i)}}}const DT=/(\w+)(\])?(\[|\.)?/g;function sU(t,e){t.seq.push(e),t.map[e.id]=e}function nee(t,e,n){const i=t.name,r=i.length;for(DT.lastIndex=0;;){const a=DT.exec(i),s=DT.lastIndex;let l=a[1];const c=a[2]==="]",h=a[3];if(c&&(l=l|0),h===void 0||h==="["&&s+2===r){sU(n,h===void 0?new JJ(l,t,e):new eee(l,t,e));break}else{let g=n.map[l];g===void 0&&(g=new tee(l),sU(n,g)),n=g}}}class g1{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const l=e.getActiveUniform(n,s),c=e.getUniformLocation(n,l.name);nee(l,c,this)}const r=[],a=[];for(const s of this.seq)s.type===e.SAMPLER_2D_SHADOW||s.type===e.SAMPLER_CUBE_SHADOW||s.type===e.SAMPLER_2D_ARRAY_SHADOW?r.push(s):a.push(s);r.length>0&&(this.seq=r.concat(a))}setValue(e,n,i,r){const a=this.map[n];a!==void 0&&a.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let a=0,s=n.length;a!==s;++a){const l=n[a],c=i[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,a=e.length;r!==a;++r){const s=e[r];s.id in n&&i.push(s)}return i}}function oU(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const iee=37297;let ree=0;function aee(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let s=r;s<a;s++){const l=s+1;i.push(`${l===e?">":" "} ${l}: ${n[s]}`)}return i.join(`
`)}const lU=new bn;function see(t){Hn._getMatrix(lU,Hn.workingColorSpace,t);const e=`mat3( ${lU.elements.map(n=>n.toFixed(4))} )`;switch(Hn.getTransfer(t)){case Yy:return[e,"LinearTransferOETF"];case oi:return[e,"sRGBTransferOETF"];default:return Ct("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function uU(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),a=(t.getShaderInfoLog(e)||"").trim();if(i&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const l=parseInt(s[1]);return n.toUpperCase()+`

`+a+`

`+aee(t.getShaderSource(e),l)}else return a}function oee(t,e){const n=see(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const lee={[kO]:"Linear",[FO]:"Reinhard",[VO]:"Cineon",[Rw]:"ACESFilmic",[jO]:"AgX",[GO]:"Neutral",[HO]:"Custom"};function uee(t,e){const n=lee[e];return n===void 0?(Ct("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const kS=new ee;function cee(){Hn.getLuminanceCoefficients(kS);const t=kS.x.toFixed(4),e=kS.y.toFixed(4),n=kS.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function fee(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(_y).join(`
`)}function hee(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function dee(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=t.getActiveAttrib(e,r),s=a.name;let l=1;a.type===t.FLOAT_MAT2&&(l=2),a.type===t.FLOAT_MAT3&&(l=3),a.type===t.FLOAT_MAT4&&(l=4),n[s]={type:a.type,location:t.getAttribLocation(e,s),locationSize:l}}return n}function _y(t){return t!==""}function cU(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function fU(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const pee=/^[ \t]*#include +<([\w\d./]+)>/gm;function aP(t){return t.replace(pee,gee)}const mee=new Map;function gee(t,e){let n=An[e];if(n===void 0){const i=mee.get(e);if(i!==void 0)n=An[i],Ct('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return aP(n)}const vee=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function hU(t){return t.replace(vee,yee)}function yee(t,e,n,i){let r="";for(let a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function dU(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const xee={[bg]:"SHADOWMAP_TYPE_PCF",[Bd]:"SHADOWMAP_TYPE_VSM"};function bee(t){return xee[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const _ee={[Bl]:"ENVMAP_TYPE_CUBE",[ph]:"ENVMAP_TYPE_CUBE",[Yg]:"ENVMAP_TYPE_CUBE_UV"};function See(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":_ee[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const Mee={[ph]:"ENVMAP_MODE_REFRACTION"};function wee(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":Mee[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const Eee={[Px]:"ENVMAP_BLENDING_MULTIPLY",[qV]:"ENVMAP_BLENDING_MIX",[XV]:"ENVMAP_BLENDING_ADD"};function Aee(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":Eee[t.combine]||"ENVMAP_BLENDING_NONE"}function Tee(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}function Cee(t,e,n,i){const r=t.getContext(),a=n.defines;let s=n.vertexShader,l=n.fragmentShader;const c=bee(n),h=See(n),p=wee(n),g=Aee(n),v=Tee(n),x=fee(n),_=hee(a),w=r.createProgram();let S,M,T=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(S=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(_y).join(`
`),S.length>0&&(S+=`
`),M=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(_y).join(`
`),M.length>0&&(M+=`
`)):(S=[dU(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(_y).join(`
`),M=[dU(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+p:"",n.envMap?"#define "+g:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas||n.batchingColor?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==$o?"#define TONE_MAPPING":"",n.toneMapping!==$o?An.tonemapping_pars_fragment:"",n.toneMapping!==$o?uee("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",An.colorspace_pars_fragment,oee("linearToOutputTexel",n.outputColorSpace),cee(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(_y).join(`
`)),s=aP(s),s=cU(s,n),s=fU(s,n),l=aP(l),l=cU(l,n),l=fU(l,n),s=hU(s),l=hU(l),n.isRawShaderMaterial!==!0&&(T=`#version 300 es
`,S=[x,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,M=["#define varying in",n.glslVersion===YR?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===YR?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const R=T+S+s,P=T+M+l,L=oU(r,r.VERTEX_SHADER,R),I=oU(r,r.FRAGMENT_SHADER,P);r.attachShader(w,L),r.attachShader(w,I),n.index0AttributeName!==void 0?r.bindAttribLocation(w,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(w,0,"position"),r.linkProgram(w);function B(j){if(t.debug.checkShaderErrors){const G=r.getProgramInfoLog(w)||"",J=r.getShaderInfoLog(L)||"",te=r.getShaderInfoLog(I)||"",ie=G.trim(),q=J.trim(),K=te.trim();let pe=!0,de=!0;if(r.getProgramParameter(w,r.LINK_STATUS)===!1)if(pe=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,w,L,I);else{const _e=uU(r,L,"vertex"),Y=uU(r,I,"fragment");Kt("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(w,r.VALIDATE_STATUS)+`

Material Name: `+j.name+`
Material Type: `+j.type+`

Program Info Log: `+ie+`
`+_e+`
`+Y)}else ie!==""?Ct("WebGLProgram: Program Info Log:",ie):(q===""||K==="")&&(de=!1);de&&(j.diagnostics={runnable:pe,programLog:ie,vertexShader:{log:q,prefix:S},fragmentShader:{log:K,prefix:M}})}r.deleteShader(L),r.deleteShader(I),D=new g1(r,w),z=dee(r,w)}let D;this.getUniforms=function(){return D===void 0&&B(this),D};let z;this.getAttributes=function(){return z===void 0&&B(this),z};let W=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return W===!1&&(W=r.getProgramParameter(w,iee)),W},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(w),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=ree++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=L,this.fragmentShader=I,this}let Ree=0;class Pee{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),a=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new Oee(e),n.set(e,i)),i}}class Oee{constructor(e){this.id=Ree++,this.code=e,this.usedTimes=0}}function Dee(t,e,n,i,r,a){const s=new Og,l=new Pee,c=new Set,h=[],p=new Map,g=i.logarithmicDepthBuffer;let v=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(D){return c.add(D),D===0?"uv":`uv${D}`}function w(D,z,W,j,G){const J=j.fog,te=G.geometry,ie=D.isMeshStandardMaterial||D.isMeshLambertMaterial||D.isMeshPhongMaterial?j.environment:null,q=D.isMeshStandardMaterial||D.isMeshLambertMaterial&&!D.envMap||D.isMeshPhongMaterial&&!D.envMap,K=e.get(D.envMap||ie,q),pe=K&&K.mapping===Yg?K.image.height:null,de=x[D.type];D.precision!==null&&(v=i.getMaxPrecision(D.precision),v!==D.precision&&Ct("WebGLProgram.getParameters:",D.precision,"not supported, using",v,"instead."));const _e=te.morphAttributes.position||te.morphAttributes.normal||te.morphAttributes.color,Y=_e!==void 0?_e.length:0;let re=0;te.morphAttributes.position!==void 0&&(re=1),te.morphAttributes.normal!==void 0&&(re=2),te.morphAttributes.color!==void 0&&(re=3);let Me,ke,mt,me;if(de){const In=Cl[de];Me=In.vertexShader,ke=In.fragmentShader}else Me=D.vertexShader,ke=D.fragmentShader,l.update(D),mt=l.getVertexShaderID(D),me=l.getFragmentShaderID(D);const De=t.getRenderTarget(),Ye=t.state.buffers.depth.getReversed(),xe=G.isInstancedMesh===!0,ot=G.isBatchedMesh===!0,xt=!!D.map,je=!!D.matcap,Nt=!!K,Pe=!!D.aoMap,qe=!!D.lightMap,He=!!D.bumpMap,ft=!!D.normalMap,ne=!!D.displacementMap,Vt=!!D.emissiveMap,Mt=!!D.metalnessMap,Gt=!!D.roughnessMap,ht=D.anisotropy>0,Q=D.clearcoat>0,F=D.dispersion>0,ge=D.iridescence>0,Ie=D.sheen>0,Xe=D.transmission>0,Ue=ht&&!!D.anisotropyMap,Et=Q&&!!D.clearcoatMap,dt=Q&&!!D.clearcoatNormalMap,Ht=Q&&!!D.clearcoatRoughnessMap,Yt=ge&&!!D.iridescenceMap,Je=ge&&!!D.iridescenceThicknessMap,Ze=Ie&&!!D.sheenColorMap,Ot=Ie&&!!D.sheenRoughnessMap,wt=!!D.specularMap,St=!!D.specularColorMap,Xt=!!D.specularIntensityMap,ve=Xe&&!!D.transmissionMap,Te=Xe&&!!D.thicknessMap,ut=!!D.gradientMap,Pt=!!D.alphaMap,at=D.alphaTest>0,Fe=!!D.alphaHash,Lt=!!D.extensions;let rn=$o;D.toneMapped&&(De===null||De.isXRRenderTarget===!0)&&(rn=t.toneMapping);const Rn={shaderID:de,shaderType:D.type,shaderName:D.name,vertexShader:Me,fragmentShader:ke,defines:D.defines,customVertexShaderID:mt,customFragmentShaderID:me,isRawShaderMaterial:D.isRawShaderMaterial===!0,glslVersion:D.glslVersion,precision:v,batching:ot,batchingColor:ot&&G._colorsTexture!==null,instancing:xe,instancingColor:xe&&G.instanceColor!==null,instancingMorph:xe&&G.morphTexture!==null,outputColorSpace:De===null?t.outputColorSpace:De.isXRRenderTarget===!0?De.texture.colorSpace:kl,alphaToCoverage:!!D.alphaToCoverage,map:xt,matcap:je,envMap:Nt,envMapMode:Nt&&K.mapping,envMapCubeUVHeight:pe,aoMap:Pe,lightMap:qe,bumpMap:He,normalMap:ft,displacementMap:ne,emissiveMap:Vt,normalMapObjectSpace:ft&&D.normalMapType===JV,normalMapTangentSpace:ft&&D.normalMapType===bh,metalnessMap:Mt,roughnessMap:Gt,anisotropy:ht,anisotropyMap:Ue,clearcoat:Q,clearcoatMap:Et,clearcoatNormalMap:dt,clearcoatRoughnessMap:Ht,dispersion:F,iridescence:ge,iridescenceMap:Yt,iridescenceThicknessMap:Je,sheen:Ie,sheenColorMap:Ze,sheenRoughnessMap:Ot,specularMap:wt,specularColorMap:St,specularIntensityMap:Xt,transmission:Xe,transmissionMap:ve,thicknessMap:Te,gradientMap:ut,opaque:D.transparent===!1&&D.blending===Yd&&D.alphaToCoverage===!1,alphaMap:Pt,alphaTest:at,alphaHash:Fe,combine:D.combine,mapUv:xt&&_(D.map.channel),aoMapUv:Pe&&_(D.aoMap.channel),lightMapUv:qe&&_(D.lightMap.channel),bumpMapUv:He&&_(D.bumpMap.channel),normalMapUv:ft&&_(D.normalMap.channel),displacementMapUv:ne&&_(D.displacementMap.channel),emissiveMapUv:Vt&&_(D.emissiveMap.channel),metalnessMapUv:Mt&&_(D.metalnessMap.channel),roughnessMapUv:Gt&&_(D.roughnessMap.channel),anisotropyMapUv:Ue&&_(D.anisotropyMap.channel),clearcoatMapUv:Et&&_(D.clearcoatMap.channel),clearcoatNormalMapUv:dt&&_(D.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ht&&_(D.clearcoatRoughnessMap.channel),iridescenceMapUv:Yt&&_(D.iridescenceMap.channel),iridescenceThicknessMapUv:Je&&_(D.iridescenceThicknessMap.channel),sheenColorMapUv:Ze&&_(D.sheenColorMap.channel),sheenRoughnessMapUv:Ot&&_(D.sheenRoughnessMap.channel),specularMapUv:wt&&_(D.specularMap.channel),specularColorMapUv:St&&_(D.specularColorMap.channel),specularIntensityMapUv:Xt&&_(D.specularIntensityMap.channel),transmissionMapUv:ve&&_(D.transmissionMap.channel),thicknessMapUv:Te&&_(D.thicknessMap.channel),alphaMapUv:Pt&&_(D.alphaMap.channel),vertexTangents:!!te.attributes.tangent&&(ft||ht),vertexColors:D.vertexColors,vertexAlphas:D.vertexColors===!0&&!!te.attributes.color&&te.attributes.color.itemSize===4,pointsUvs:G.isPoints===!0&&!!te.attributes.uv&&(xt||Pt),fog:!!J,useFog:D.fog===!0,fogExp2:!!J&&J.isFogExp2,flatShading:D.wireframe===!1&&(D.flatShading===!0||te.attributes.normal===void 0&&ft===!1&&(D.isMeshLambertMaterial||D.isMeshPhongMaterial||D.isMeshStandardMaterial||D.isMeshPhysicalMaterial)),sizeAttenuation:D.sizeAttenuation===!0,logarithmicDepthBuffer:g,reversedDepthBuffer:Ye,skinning:G.isSkinnedMesh===!0,morphTargets:te.morphAttributes.position!==void 0,morphNormals:te.morphAttributes.normal!==void 0,morphColors:te.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:re,numDirLights:z.directional.length,numPointLights:z.point.length,numSpotLights:z.spot.length,numSpotLightMaps:z.spotLightMap.length,numRectAreaLights:z.rectArea.length,numHemiLights:z.hemi.length,numDirLightShadows:z.directionalShadowMap.length,numPointLightShadows:z.pointShadowMap.length,numSpotLightShadows:z.spotShadowMap.length,numSpotLightShadowsWithMaps:z.numSpotLightShadowsWithMaps,numLightProbes:z.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:D.dithering,shadowMapEnabled:t.shadowMap.enabled&&W.length>0,shadowMapType:t.shadowMap.type,toneMapping:rn,decodeVideoTexture:xt&&D.map.isVideoTexture===!0&&Hn.getTransfer(D.map.colorSpace)===oi,decodeVideoTextureEmissive:Vt&&D.emissiveMap.isVideoTexture===!0&&Hn.getTransfer(D.emissiveMap.colorSpace)===oi,premultipliedAlpha:D.premultipliedAlpha,doubleSided:D.side===Rl,flipSided:D.side===ps,useDepthPacking:D.depthPacking>=0,depthPacking:D.depthPacking||0,index0AttributeName:D.index0AttributeName,extensionClipCullDistance:Lt&&D.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Lt&&D.extensions.multiDraw===!0||ot)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:D.customProgramCacheKey()};return Rn.vertexUv1s=c.has(1),Rn.vertexUv2s=c.has(2),Rn.vertexUv3s=c.has(3),c.clear(),Rn}function S(D){const z=[];if(D.shaderID?z.push(D.shaderID):(z.push(D.customVertexShaderID),z.push(D.customFragmentShaderID)),D.defines!==void 0)for(const W in D.defines)z.push(W),z.push(D.defines[W]);return D.isRawShaderMaterial===!1&&(M(z,D),T(z,D),z.push(t.outputColorSpace)),z.push(D.customProgramCacheKey),z.join()}function M(D,z){D.push(z.precision),D.push(z.outputColorSpace),D.push(z.envMapMode),D.push(z.envMapCubeUVHeight),D.push(z.mapUv),D.push(z.alphaMapUv),D.push(z.lightMapUv),D.push(z.aoMapUv),D.push(z.bumpMapUv),D.push(z.normalMapUv),D.push(z.displacementMapUv),D.push(z.emissiveMapUv),D.push(z.metalnessMapUv),D.push(z.roughnessMapUv),D.push(z.anisotropyMapUv),D.push(z.clearcoatMapUv),D.push(z.clearcoatNormalMapUv),D.push(z.clearcoatRoughnessMapUv),D.push(z.iridescenceMapUv),D.push(z.iridescenceThicknessMapUv),D.push(z.sheenColorMapUv),D.push(z.sheenRoughnessMapUv),D.push(z.specularMapUv),D.push(z.specularColorMapUv),D.push(z.specularIntensityMapUv),D.push(z.transmissionMapUv),D.push(z.thicknessMapUv),D.push(z.combine),D.push(z.fogExp2),D.push(z.sizeAttenuation),D.push(z.morphTargetsCount),D.push(z.morphAttributeCount),D.push(z.numDirLights),D.push(z.numPointLights),D.push(z.numSpotLights),D.push(z.numSpotLightMaps),D.push(z.numHemiLights),D.push(z.numRectAreaLights),D.push(z.numDirLightShadows),D.push(z.numPointLightShadows),D.push(z.numSpotLightShadows),D.push(z.numSpotLightShadowsWithMaps),D.push(z.numLightProbes),D.push(z.shadowMapType),D.push(z.toneMapping),D.push(z.numClippingPlanes),D.push(z.numClipIntersection),D.push(z.depthPacking)}function T(D,z){s.disableAll(),z.instancing&&s.enable(0),z.instancingColor&&s.enable(1),z.instancingMorph&&s.enable(2),z.matcap&&s.enable(3),z.envMap&&s.enable(4),z.normalMapObjectSpace&&s.enable(5),z.normalMapTangentSpace&&s.enable(6),z.clearcoat&&s.enable(7),z.iridescence&&s.enable(8),z.alphaTest&&s.enable(9),z.vertexColors&&s.enable(10),z.vertexAlphas&&s.enable(11),z.vertexUv1s&&s.enable(12),z.vertexUv2s&&s.enable(13),z.vertexUv3s&&s.enable(14),z.vertexTangents&&s.enable(15),z.anisotropy&&s.enable(16),z.alphaHash&&s.enable(17),z.batching&&s.enable(18),z.dispersion&&s.enable(19),z.batchingColor&&s.enable(20),z.gradientMap&&s.enable(21),D.push(s.mask),s.disableAll(),z.fog&&s.enable(0),z.useFog&&s.enable(1),z.flatShading&&s.enable(2),z.logarithmicDepthBuffer&&s.enable(3),z.reversedDepthBuffer&&s.enable(4),z.skinning&&s.enable(5),z.morphTargets&&s.enable(6),z.morphNormals&&s.enable(7),z.morphColors&&s.enable(8),z.premultipliedAlpha&&s.enable(9),z.shadowMapEnabled&&s.enable(10),z.doubleSided&&s.enable(11),z.flipSided&&s.enable(12),z.useDepthPacking&&s.enable(13),z.dithering&&s.enable(14),z.transmission&&s.enable(15),z.sheen&&s.enable(16),z.opaque&&s.enable(17),z.pointsUvs&&s.enable(18),z.decodeVideoTexture&&s.enable(19),z.decodeVideoTextureEmissive&&s.enable(20),z.alphaToCoverage&&s.enable(21),D.push(s.mask)}function R(D){const z=x[D.type];let W;if(z){const j=Cl[z];W=N6.clone(j.uniforms)}else W=D.uniforms;return W}function P(D,z){let W=p.get(z);return W!==void 0?++W.usedTimes:(W=new Cee(t,z,D,r),h.push(W),p.set(z,W)),W}function L(D){if(--D.usedTimes===0){const z=h.indexOf(D);h[z]=h[h.length-1],h.pop(),p.delete(D.cacheKey),D.destroy()}}function I(D){l.remove(D)}function B(){l.dispose()}return{getParameters:w,getProgramCacheKey:S,getUniforms:R,acquireProgram:P,releaseProgram:L,releaseShaderCache:I,programs:h,dispose:B}}function Iee(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let l=t.get(s);return l===void 0&&(l={},t.set(s,l)),l}function i(s){t.delete(s)}function r(s,l,c){t.get(s)[l]=c}function a(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:a}}function Nee(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.materialVariant!==e.materialVariant?t.materialVariant-e.materialVariant:t.z!==e.z?t.z-e.z:t.id-e.id}function pU(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function mU(){const t=[];let e=0;const n=[],i=[],r=[];function a(){e=0,n.length=0,i.length=0,r.length=0}function s(v){let x=0;return v.isInstancedMesh&&(x+=2),v.isSkinnedMesh&&(x+=1),x}function l(v,x,_,w,S,M){let T=t[e];return T===void 0?(T={id:v.id,object:v,geometry:x,material:_,materialVariant:s(v),groupOrder:w,renderOrder:v.renderOrder,z:S,group:M},t[e]=T):(T.id=v.id,T.object=v,T.geometry=x,T.material=_,T.materialVariant=s(v),T.groupOrder=w,T.renderOrder=v.renderOrder,T.z=S,T.group=M),e++,T}function c(v,x,_,w,S,M){const T=l(v,x,_,w,S,M);_.transmission>0?i.push(T):_.transparent===!0?r.push(T):n.push(T)}function h(v,x,_,w,S,M){const T=l(v,x,_,w,S,M);_.transmission>0?i.unshift(T):_.transparent===!0?r.unshift(T):n.unshift(T)}function p(v,x){n.length>1&&n.sort(v||Nee),i.length>1&&i.sort(x||pU),r.length>1&&r.sort(x||pU)}function g(){for(let v=e,x=t.length;v<x;v++){const _=t[v];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.group=null}}return{opaque:n,transmissive:i,transparent:r,init:a,push:c,unshift:h,finish:g,sort:p}}function Lee(){let t=new WeakMap;function e(i,r){const a=t.get(i);let s;return a===void 0?(s=new mU,t.set(i,[s])):r>=a.length?(s=new mU,a.push(s)):s=a[r],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function Uee(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ee,color:new Ut};break;case"SpotLight":n={position:new ee,direction:new ee,color:new Ut,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ee,color:new Ut,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ee,skyColor:new Ut,groundColor:new Ut};break;case"RectAreaLight":n={color:new Ut,position:new ee,halfWidth:new ee,halfHeight:new ee};break}return t[e.id]=n,n}}}function zee(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Bee=0;function kee(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Fee(t){const e=new Uee,n=zee(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new ee);const r=new ee,a=new on,s=new on;function l(h){let p=0,g=0,v=0;for(let z=0;z<9;z++)i.probe[z].set(0,0,0);let x=0,_=0,w=0,S=0,M=0,T=0,R=0,P=0,L=0,I=0,B=0;h.sort(kee);for(let z=0,W=h.length;z<W;z++){const j=h[z],G=j.color,J=j.intensity,te=j.distance;let ie=null;if(j.shadow&&j.shadow.map&&(j.shadow.map.texture.format===ap?ie=j.shadow.map.texture:ie=j.shadow.map.depthTexture||j.shadow.map.texture),j.isAmbientLight)p+=G.r*J,g+=G.g*J,v+=G.b*J;else if(j.isLightProbe){for(let q=0;q<9;q++)i.probe[q].addScaledVector(j.sh.coefficients[q],J);B++}else if(j.isDirectionalLight){const q=e.get(j);if(q.color.copy(j.color).multiplyScalar(j.intensity),j.castShadow){const K=j.shadow,pe=n.get(j);pe.shadowIntensity=K.intensity,pe.shadowBias=K.bias,pe.shadowNormalBias=K.normalBias,pe.shadowRadius=K.radius,pe.shadowMapSize=K.mapSize,i.directionalShadow[x]=pe,i.directionalShadowMap[x]=ie,i.directionalShadowMatrix[x]=j.shadow.matrix,T++}i.directional[x]=q,x++}else if(j.isSpotLight){const q=e.get(j);q.position.setFromMatrixPosition(j.matrixWorld),q.color.copy(G).multiplyScalar(J),q.distance=te,q.coneCos=Math.cos(j.angle),q.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),q.decay=j.decay,i.spot[w]=q;const K=j.shadow;if(j.map&&(i.spotLightMap[L]=j.map,L++,K.updateMatrices(j),j.castShadow&&I++),i.spotLightMatrix[w]=K.matrix,j.castShadow){const pe=n.get(j);pe.shadowIntensity=K.intensity,pe.shadowBias=K.bias,pe.shadowNormalBias=K.normalBias,pe.shadowRadius=K.radius,pe.shadowMapSize=K.mapSize,i.spotShadow[w]=pe,i.spotShadowMap[w]=ie,P++}w++}else if(j.isRectAreaLight){const q=e.get(j);q.color.copy(G).multiplyScalar(J),q.halfWidth.set(j.width*.5,0,0),q.halfHeight.set(0,j.height*.5,0),i.rectArea[S]=q,S++}else if(j.isPointLight){const q=e.get(j);if(q.color.copy(j.color).multiplyScalar(j.intensity),q.distance=j.distance,q.decay=j.decay,j.castShadow){const K=j.shadow,pe=n.get(j);pe.shadowIntensity=K.intensity,pe.shadowBias=K.bias,pe.shadowNormalBias=K.normalBias,pe.shadowRadius=K.radius,pe.shadowMapSize=K.mapSize,pe.shadowCameraNear=K.camera.near,pe.shadowCameraFar=K.camera.far,i.pointShadow[_]=pe,i.pointShadowMap[_]=ie,i.pointShadowMatrix[_]=j.shadow.matrix,R++}i.point[_]=q,_++}else if(j.isHemisphereLight){const q=e.get(j);q.skyColor.copy(j.color).multiplyScalar(J),q.groundColor.copy(j.groundColor).multiplyScalar(J),i.hemi[M]=q,M++}}S>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Dt.LTC_FLOAT_1,i.rectAreaLTC2=Dt.LTC_FLOAT_2):(i.rectAreaLTC1=Dt.LTC_HALF_1,i.rectAreaLTC2=Dt.LTC_HALF_2)),i.ambient[0]=p,i.ambient[1]=g,i.ambient[2]=v;const D=i.hash;(D.directionalLength!==x||D.pointLength!==_||D.spotLength!==w||D.rectAreaLength!==S||D.hemiLength!==M||D.numDirectionalShadows!==T||D.numPointShadows!==R||D.numSpotShadows!==P||D.numSpotMaps!==L||D.numLightProbes!==B)&&(i.directional.length=x,i.spot.length=w,i.rectArea.length=S,i.point.length=_,i.hemi.length=M,i.directionalShadow.length=T,i.directionalShadowMap.length=T,i.pointShadow.length=R,i.pointShadowMap.length=R,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=T,i.pointShadowMatrix.length=R,i.spotLightMatrix.length=P+L-I,i.spotLightMap.length=L,i.numSpotLightShadowsWithMaps=I,i.numLightProbes=B,D.directionalLength=x,D.pointLength=_,D.spotLength=w,D.rectAreaLength=S,D.hemiLength=M,D.numDirectionalShadows=T,D.numPointShadows=R,D.numSpotShadows=P,D.numSpotMaps=L,D.numLightProbes=B,i.version=Bee++)}function c(h,p){let g=0,v=0,x=0,_=0,w=0;const S=p.matrixWorldInverse;for(let M=0,T=h.length;M<T;M++){const R=h[M];if(R.isDirectionalLight){const P=i.directional[g];P.direction.setFromMatrixPosition(R.matrixWorld),r.setFromMatrixPosition(R.target.matrixWorld),P.direction.sub(r),P.direction.transformDirection(S),g++}else if(R.isSpotLight){const P=i.spot[x];P.position.setFromMatrixPosition(R.matrixWorld),P.position.applyMatrix4(S),P.direction.setFromMatrixPosition(R.matrixWorld),r.setFromMatrixPosition(R.target.matrixWorld),P.direction.sub(r),P.direction.transformDirection(S),x++}else if(R.isRectAreaLight){const P=i.rectArea[_];P.position.setFromMatrixPosition(R.matrixWorld),P.position.applyMatrix4(S),s.identity(),a.copy(R.matrixWorld),a.premultiply(S),s.extractRotation(a),P.halfWidth.set(R.width*.5,0,0),P.halfHeight.set(0,R.height*.5,0),P.halfWidth.applyMatrix4(s),P.halfHeight.applyMatrix4(s),_++}else if(R.isPointLight){const P=i.point[v];P.position.setFromMatrixPosition(R.matrixWorld),P.position.applyMatrix4(S),v++}else if(R.isHemisphereLight){const P=i.hemi[w];P.direction.setFromMatrixPosition(R.matrixWorld),P.direction.transformDirection(S),w++}}}return{setup:l,setupView:c,state:i}}function gU(t){const e=new Fee(t),n=[],i=[];function r(p){h.camera=p,n.length=0,i.length=0}function a(p){n.push(p)}function s(p){i.push(p)}function l(){e.setup(n)}function c(p){e.setupView(n,p)}const h={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:h,setupLights:l,setupLightsView:c,pushLight:a,pushShadow:s}}function Vee(t){let e=new WeakMap;function n(r,a=0){const s=e.get(r);let l;return s===void 0?(l=new gU(t),e.set(r,[l])):a>=s.length?(l=new gU(t),s.push(l)):l=s[a],l}function i(){e=new WeakMap}return{get:n,dispose:i}}const Hee=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,jee=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,Gee=[new ee(1,0,0),new ee(-1,0,0),new ee(0,1,0),new ee(0,-1,0),new ee(0,0,1),new ee(0,0,-1)],Wee=[new ee(0,-1,0),new ee(0,-1,0),new ee(0,0,1),new ee(0,0,-1),new ee(0,-1,0),new ee(0,-1,0)],vU=new on,J0=new ee,IT=new ee;function qee(t,e,n){let i=new Kg;const r=new Qe,a=new Qe,s=new ii,l=new h3,c=new d3,h={},p=n.maxTextureSize,g={[Lc]:ps,[ps]:Lc,[Rl]:Rl},v=new ms({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Qe},radius:{value:4}},vertexShader:Hee,fragmentShader:jee}),x=v.clone();x.defines.HORIZONTAL_PASS=1;const _=new yn;_.setAttribute("position",new gi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new ar(_,v),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=bg;let M=this.type;this.render=function(I,B,D){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||I.length===0)return;this.type===Ty&&(Ct("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),this.type=bg);const z=t.getRenderTarget(),W=t.getActiveCubeFace(),j=t.getActiveMipmapLevel(),G=t.state;G.setBlending(Nl),G.buffers.depth.getReversed()===!0?G.buffers.color.setClear(0,0,0,0):G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const J=M!==this.type;J&&B.traverse(function(te){te.material&&(Array.isArray(te.material)?te.material.forEach(ie=>ie.needsUpdate=!0):te.material.needsUpdate=!0)});for(let te=0,ie=I.length;te<ie;te++){const q=I[te],K=q.shadow;if(K===void 0){Ct("WebGLShadowMap:",q,"has no shadow.");continue}if(K.autoUpdate===!1&&K.needsUpdate===!1)continue;r.copy(K.mapSize);const pe=K.getFrameExtents();r.multiply(pe),a.copy(K.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(a.x=Math.floor(p/pe.x),r.x=a.x*pe.x,K.mapSize.x=a.x),r.y>p&&(a.y=Math.floor(p/pe.y),r.y=a.y*pe.y,K.mapSize.y=a.y));const de=t.state.buffers.depth.getReversed();if(K.camera._reversedDepth=de,K.map===null||J===!0){if(K.map!==null&&(K.map.depthTexture!==null&&(K.map.depthTexture.dispose(),K.map.depthTexture=null),K.map.dispose()),this.type===Bd){if(q.isPointLight){Ct("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}K.map=new Xa(r.x,r.y,{format:ap,type:rr,minFilter:kn,magFilter:kn,generateMipmaps:!1}),K.map.texture.name=q.name+".shadowMap",K.map.depthTexture=new lp(r.x,r.y,Bi),K.map.depthTexture.name=q.name+".shadowMapDepth",K.map.depthTexture.format=zu,K.map.depthTexture.compareFunction=null,K.map.depthTexture.minFilter=_r,K.map.depthTexture.magFilter=_r}else q.isPointLight?(K.map=new cE(r.x),K.map.depthTexture=new b6(r.x,co)):(K.map=new Xa(r.x,r.y),K.map.depthTexture=new lp(r.x,r.y,co)),K.map.depthTexture.name=q.name+".shadowMap",K.map.depthTexture.format=zu,this.type===bg?(K.map.depthTexture.compareFunction=de?Bw:zw,K.map.depthTexture.minFilter=kn,K.map.depthTexture.magFilter=kn):(K.map.depthTexture.compareFunction=null,K.map.depthTexture.minFilter=_r,K.map.depthTexture.magFilter=_r);K.camera.updateProjectionMatrix()}const _e=K.map.isWebGLCubeRenderTarget?6:1;for(let Y=0;Y<_e;Y++){if(K.map.isWebGLCubeRenderTarget)t.setRenderTarget(K.map,Y),t.clear();else{Y===0&&(t.setRenderTarget(K.map),t.clear());const re=K.getViewport(Y);s.set(a.x*re.x,a.y*re.y,a.x*re.z,a.y*re.w),G.viewport(s)}if(q.isPointLight){const re=K.camera,Me=K.matrix,ke=q.distance||re.far;ke!==re.far&&(re.far=ke,re.updateProjectionMatrix()),J0.setFromMatrixPosition(q.matrixWorld),re.position.copy(J0),IT.copy(re.position),IT.add(Gee[Y]),re.up.copy(Wee[Y]),re.lookAt(IT),re.updateMatrixWorld(),Me.makeTranslation(-J0.x,-J0.y,-J0.z),vU.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),K._frustum.setFromProjectionMatrix(vU,re.coordinateSystem,re.reversedDepth)}else K.updateMatrices(q);i=K.getFrustum(),P(B,D,K.camera,q,this.type)}K.isPointLightShadow!==!0&&this.type===Bd&&T(K,D),K.needsUpdate=!1}M=this.type,S.needsUpdate=!1,t.setRenderTarget(z,W,j)};function T(I,B){const D=e.update(w);v.defines.VSM_SAMPLES!==I.blurSamples&&(v.defines.VSM_SAMPLES=I.blurSamples,x.defines.VSM_SAMPLES=I.blurSamples,v.needsUpdate=!0,x.needsUpdate=!0),I.mapPass===null&&(I.mapPass=new Xa(r.x,r.y,{format:ap,type:rr})),v.uniforms.shadow_pass.value=I.map.depthTexture,v.uniforms.resolution.value=I.mapSize,v.uniforms.radius.value=I.radius,t.setRenderTarget(I.mapPass),t.clear(),t.renderBufferDirect(B,null,D,v,w,null),x.uniforms.shadow_pass.value=I.mapPass.texture,x.uniforms.resolution.value=I.mapSize,x.uniforms.radius.value=I.radius,t.setRenderTarget(I.map),t.clear(),t.renderBufferDirect(B,null,D,x,w,null)}function R(I,B,D,z){let W=null;const j=D.isPointLight===!0?I.customDistanceMaterial:I.customDepthMaterial;if(j!==void 0)W=j;else if(W=D.isPointLight===!0?c:l,t.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0||B.alphaToCoverage===!0){const G=W.uuid,J=B.uuid;let te=h[G];te===void 0&&(te={},h[G]=te);let ie=te[J];ie===void 0&&(ie=W.clone(),te[J]=ie,B.addEventListener("dispose",L)),W=ie}if(W.visible=B.visible,W.wireframe=B.wireframe,z===Bd?W.side=B.shadowSide!==null?B.shadowSide:B.side:W.side=B.shadowSide!==null?B.shadowSide:g[B.side],W.alphaMap=B.alphaMap,W.alphaTest=B.alphaToCoverage===!0?.5:B.alphaTest,W.map=B.map,W.clipShadows=B.clipShadows,W.clippingPlanes=B.clippingPlanes,W.clipIntersection=B.clipIntersection,W.displacementMap=B.displacementMap,W.displacementScale=B.displacementScale,W.displacementBias=B.displacementBias,W.wireframeLinewidth=B.wireframeLinewidth,W.linewidth=B.linewidth,D.isPointLight===!0&&W.isMeshDistanceMaterial===!0){const G=t.properties.get(W);G.light=D}return W}function P(I,B,D,z,W){if(I.visible===!1)return;if(I.layers.test(B.layers)&&(I.isMesh||I.isLine||I.isPoints)&&(I.castShadow||I.receiveShadow&&W===Bd)&&(!I.frustumCulled||i.intersectsObject(I))){I.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,I.matrixWorld);const J=e.update(I),te=I.material;if(Array.isArray(te)){const ie=J.groups;for(let q=0,K=ie.length;q<K;q++){const pe=ie[q],de=te[pe.materialIndex];if(de&&de.visible){const _e=R(I,de,z,W);I.onBeforeShadow(t,I,B,D,J,_e,pe),t.renderBufferDirect(D,null,J,_e,I,pe),I.onAfterShadow(t,I,B,D,J,_e,pe)}}}else if(te.visible){const ie=R(I,te,z,W);I.onBeforeShadow(t,I,B,D,J,ie,null),t.renderBufferDirect(D,null,J,ie,I,null),I.onAfterShadow(t,I,B,D,J,ie,null)}}const G=I.children;for(let J=0,te=G.length;J<te;J++)P(G[J],B,D,z,W)}function L(I){I.target.removeEventListener("dispose",L);for(const D in h){const z=h[D],W=I.target.uuid;W in z&&(z[W].dispose(),delete z[W])}}}function Xee(t,e){function n(){let ve=!1;const Te=new ii;let ut=null;const Pt=new ii(0,0,0,0);return{setMask:function(at){ut!==at&&!ve&&(t.colorMask(at,at,at,at),ut=at)},setLocked:function(at){ve=at},setClear:function(at,Fe,Lt,rn,Rn){Rn===!0&&(at*=rn,Fe*=rn,Lt*=rn),Te.set(at,Fe,Lt,rn),Pt.equals(Te)===!1&&(t.clearColor(at,Fe,Lt,rn),Pt.copy(Te))},reset:function(){ve=!1,ut=null,Pt.set(-1,0,0,0)}}}function i(){let ve=!1,Te=!1,ut=null,Pt=null,at=null;return{setReversed:function(Fe){if(Te!==Fe){const Lt=e.get("EXT_clip_control");Fe?Lt.clipControlEXT(Lt.LOWER_LEFT_EXT,Lt.ZERO_TO_ONE_EXT):Lt.clipControlEXT(Lt.LOWER_LEFT_EXT,Lt.NEGATIVE_ONE_TO_ONE_EXT),Te=Fe;const rn=at;at=null,this.setClear(rn)}},getReversed:function(){return Te},setTest:function(Fe){Fe?De(t.DEPTH_TEST):Ye(t.DEPTH_TEST)},setMask:function(Fe){ut!==Fe&&!ve&&(t.depthMask(Fe),ut=Fe)},setFunc:function(Fe){if(Te&&(Fe=yX[Fe]),Pt!==Fe){switch(Fe){case I1:t.depthFunc(t.NEVER);break;case N1:t.depthFunc(t.ALWAYS);break;case L1:t.depthFunc(t.LESS);break;case rp:t.depthFunc(t.LEQUAL);break;case U1:t.depthFunc(t.EQUAL);break;case z1:t.depthFunc(t.GEQUAL);break;case B1:t.depthFunc(t.GREATER);break;case k1:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Pt=Fe}},setLocked:function(Fe){ve=Fe},setClear:function(Fe){at!==Fe&&(at=Fe,Te&&(Fe=1-Fe),t.clearDepth(Fe))},reset:function(){ve=!1,ut=null,Pt=null,at=null,Te=!1}}}function r(){let ve=!1,Te=null,ut=null,Pt=null,at=null,Fe=null,Lt=null,rn=null,Rn=null;return{setTest:function(In){ve||(In?De(t.STENCIL_TEST):Ye(t.STENCIL_TEST))},setMask:function(In){Te!==In&&!ve&&(t.stencilMask(In),Te=In)},setFunc:function(In,Er,$r){(ut!==In||Pt!==Er||at!==$r)&&(t.stencilFunc(In,Er,$r),ut=In,Pt=Er,at=$r)},setOp:function(In,Er,$r){(Fe!==In||Lt!==Er||rn!==$r)&&(t.stencilOp(In,Er,$r),Fe=In,Lt=Er,rn=$r)},setLocked:function(In){ve=In},setClear:function(In){Rn!==In&&(t.clearStencil(In),Rn=In)},reset:function(){ve=!1,Te=null,ut=null,Pt=null,at=null,Fe=null,Lt=null,rn=null,Rn=null}}}const a=new n,s=new i,l=new r,c=new WeakMap,h=new WeakMap;let p={},g={},v=new WeakMap,x=[],_=null,w=!1,S=null,M=null,T=null,R=null,P=null,L=null,I=null,B=new Ut(0,0,0),D=0,z=!1,W=null,j=null,G=null,J=null,te=null;const ie=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,K=0;const pe=t.getParameter(t.VERSION);pe.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(pe)[1]),q=K>=1):pe.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(pe)[1]),q=K>=2);let de=null,_e={};const Y=t.getParameter(t.SCISSOR_BOX),re=t.getParameter(t.VIEWPORT),Me=new ii().fromArray(Y),ke=new ii().fromArray(re);function mt(ve,Te,ut,Pt){const at=new Uint8Array(4),Fe=t.createTexture();t.bindTexture(ve,Fe),t.texParameteri(ve,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ve,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Lt=0;Lt<ut;Lt++)ve===t.TEXTURE_3D||ve===t.TEXTURE_2D_ARRAY?t.texImage3D(Te,0,t.RGBA,1,1,Pt,0,t.RGBA,t.UNSIGNED_BYTE,at):t.texImage2D(Te+Lt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,at);return Fe}const me={};me[t.TEXTURE_2D]=mt(t.TEXTURE_2D,t.TEXTURE_2D,1),me[t.TEXTURE_CUBE_MAP]=mt(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),me[t.TEXTURE_2D_ARRAY]=mt(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),me[t.TEXTURE_3D]=mt(t.TEXTURE_3D,t.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),l.setClear(0),De(t.DEPTH_TEST),s.setFunc(rp),He(!1),ft(HR),De(t.CULL_FACE),Pe(Nl);function De(ve){p[ve]!==!0&&(t.enable(ve),p[ve]=!0)}function Ye(ve){p[ve]!==!1&&(t.disable(ve),p[ve]=!1)}function xe(ve,Te){return g[ve]!==Te?(t.bindFramebuffer(ve,Te),g[ve]=Te,ve===t.DRAW_FRAMEBUFFER&&(g[t.FRAMEBUFFER]=Te),ve===t.FRAMEBUFFER&&(g[t.DRAW_FRAMEBUFFER]=Te),!0):!1}function ot(ve,Te){let ut=x,Pt=!1;if(ve){ut=v.get(Te),ut===void 0&&(ut=[],v.set(Te,ut));const at=ve.textures;if(ut.length!==at.length||ut[0]!==t.COLOR_ATTACHMENT0){for(let Fe=0,Lt=at.length;Fe<Lt;Fe++)ut[Fe]=t.COLOR_ATTACHMENT0+Fe;ut.length=at.length,Pt=!0}}else ut[0]!==t.BACK&&(ut[0]=t.BACK,Pt=!0);Pt&&t.drawBuffers(ut)}function xt(ve){return _!==ve?(t.useProgram(ve),_=ve,!0):!1}const je={[ih]:t.FUNC_ADD,[RV]:t.FUNC_SUBTRACT,[PV]:t.FUNC_REVERSE_SUBTRACT};je[OV]=t.MIN,je[DV]=t.MAX;const Nt={[IV]:t.ZERO,[NV]:t.ONE,[LV]:t.SRC_COLOR,[O1]:t.SRC_ALPHA,[VV]:t.SRC_ALPHA_SATURATE,[kV]:t.DST_COLOR,[zV]:t.DST_ALPHA,[UV]:t.ONE_MINUS_SRC_COLOR,[D1]:t.ONE_MINUS_SRC_ALPHA,[FV]:t.ONE_MINUS_DST_COLOR,[BV]:t.ONE_MINUS_DST_ALPHA,[HV]:t.CONSTANT_COLOR,[jV]:t.ONE_MINUS_CONSTANT_COLOR,[GV]:t.CONSTANT_ALPHA,[WV]:t.ONE_MINUS_CONSTANT_ALPHA};function Pe(ve,Te,ut,Pt,at,Fe,Lt,rn,Rn,In){if(ve===Nl){w===!0&&(Ye(t.BLEND),w=!1);return}if(w===!1&&(De(t.BLEND),w=!0),ve!==CV){if(ve!==S||In!==z){if((M!==ih||P!==ih)&&(t.blendEquation(t.FUNC_ADD),M=ih,P=ih),In)switch(ve){case Yd:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case P1:t.blendFunc(t.ONE,t.ONE);break;case jR:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case GR:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:Kt("WebGLState: Invalid blending: ",ve);break}else switch(ve){case Yd:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case P1:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case jR:Kt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case GR:Kt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Kt("WebGLState: Invalid blending: ",ve);break}T=null,R=null,L=null,I=null,B.set(0,0,0),D=0,S=ve,z=In}return}at=at||Te,Fe=Fe||ut,Lt=Lt||Pt,(Te!==M||at!==P)&&(t.blendEquationSeparate(je[Te],je[at]),M=Te,P=at),(ut!==T||Pt!==R||Fe!==L||Lt!==I)&&(t.blendFuncSeparate(Nt[ut],Nt[Pt],Nt[Fe],Nt[Lt]),T=ut,R=Pt,L=Fe,I=Lt),(rn.equals(B)===!1||Rn!==D)&&(t.blendColor(rn.r,rn.g,rn.b,Rn),B.copy(rn),D=Rn),S=ve,z=!1}function qe(ve,Te){ve.side===Rl?Ye(t.CULL_FACE):De(t.CULL_FACE);let ut=ve.side===ps;Te&&(ut=!ut),He(ut),ve.blending===Yd&&ve.transparent===!1?Pe(Nl):Pe(ve.blending,ve.blendEquation,ve.blendSrc,ve.blendDst,ve.blendEquationAlpha,ve.blendSrcAlpha,ve.blendDstAlpha,ve.blendColor,ve.blendAlpha,ve.premultipliedAlpha),s.setFunc(ve.depthFunc),s.setTest(ve.depthTest),s.setMask(ve.depthWrite),a.setMask(ve.colorWrite);const Pt=ve.stencilWrite;l.setTest(Pt),Pt&&(l.setMask(ve.stencilWriteMask),l.setFunc(ve.stencilFunc,ve.stencilRef,ve.stencilFuncMask),l.setOp(ve.stencilFail,ve.stencilZFail,ve.stencilZPass)),Vt(ve.polygonOffset,ve.polygonOffsetFactor,ve.polygonOffsetUnits),ve.alphaToCoverage===!0?De(t.SAMPLE_ALPHA_TO_COVERAGE):Ye(t.SAMPLE_ALPHA_TO_COVERAGE)}function He(ve){W!==ve&&(ve?t.frontFace(t.CW):t.frontFace(t.CCW),W=ve)}function ft(ve){ve!==EV?(De(t.CULL_FACE),ve!==j&&(ve===HR?t.cullFace(t.BACK):ve===AV?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ye(t.CULL_FACE),j=ve}function ne(ve){ve!==G&&(q&&t.lineWidth(ve),G=ve)}function Vt(ve,Te,ut){ve?(De(t.POLYGON_OFFSET_FILL),(J!==Te||te!==ut)&&(J=Te,te=ut,s.getReversed()&&(Te=-Te),t.polygonOffset(Te,ut))):Ye(t.POLYGON_OFFSET_FILL)}function Mt(ve){ve?De(t.SCISSOR_TEST):Ye(t.SCISSOR_TEST)}function Gt(ve){ve===void 0&&(ve=t.TEXTURE0+ie-1),de!==ve&&(t.activeTexture(ve),de=ve)}function ht(ve,Te,ut){ut===void 0&&(de===null?ut=t.TEXTURE0+ie-1:ut=de);let Pt=_e[ut];Pt===void 0&&(Pt={type:void 0,texture:void 0},_e[ut]=Pt),(Pt.type!==ve||Pt.texture!==Te)&&(de!==ut&&(t.activeTexture(ut),de=ut),t.bindTexture(ve,Te||me[ve]),Pt.type=ve,Pt.texture=Te)}function Q(){const ve=_e[de];ve!==void 0&&ve.type!==void 0&&(t.bindTexture(ve.type,null),ve.type=void 0,ve.texture=void 0)}function F(){try{t.compressedTexImage2D(...arguments)}catch(ve){Kt("WebGLState:",ve)}}function ge(){try{t.compressedTexImage3D(...arguments)}catch(ve){Kt("WebGLState:",ve)}}function Ie(){try{t.texSubImage2D(...arguments)}catch(ve){Kt("WebGLState:",ve)}}function Xe(){try{t.texSubImage3D(...arguments)}catch(ve){Kt("WebGLState:",ve)}}function Ue(){try{t.compressedTexSubImage2D(...arguments)}catch(ve){Kt("WebGLState:",ve)}}function Et(){try{t.compressedTexSubImage3D(...arguments)}catch(ve){Kt("WebGLState:",ve)}}function dt(){try{t.texStorage2D(...arguments)}catch(ve){Kt("WebGLState:",ve)}}function Ht(){try{t.texStorage3D(...arguments)}catch(ve){Kt("WebGLState:",ve)}}function Yt(){try{t.texImage2D(...arguments)}catch(ve){Kt("WebGLState:",ve)}}function Je(){try{t.texImage3D(...arguments)}catch(ve){Kt("WebGLState:",ve)}}function Ze(ve){Me.equals(ve)===!1&&(t.scissor(ve.x,ve.y,ve.z,ve.w),Me.copy(ve))}function Ot(ve){ke.equals(ve)===!1&&(t.viewport(ve.x,ve.y,ve.z,ve.w),ke.copy(ve))}function wt(ve,Te){let ut=h.get(Te);ut===void 0&&(ut=new WeakMap,h.set(Te,ut));let Pt=ut.get(ve);Pt===void 0&&(Pt=t.getUniformBlockIndex(Te,ve.name),ut.set(ve,Pt))}function St(ve,Te){const Pt=h.get(Te).get(ve);c.get(Te)!==Pt&&(t.uniformBlockBinding(Te,Pt,ve.__bindingPointIndex),c.set(Te,Pt))}function Xt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),s.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},de=null,_e={},g={},v=new WeakMap,x=[],_=null,w=!1,S=null,M=null,T=null,R=null,P=null,L=null,I=null,B=new Ut(0,0,0),D=0,z=!1,W=null,j=null,G=null,J=null,te=null,Me.set(0,0,t.canvas.width,t.canvas.height),ke.set(0,0,t.canvas.width,t.canvas.height),a.reset(),s.reset(),l.reset()}return{buffers:{color:a,depth:s,stencil:l},enable:De,disable:Ye,bindFramebuffer:xe,drawBuffers:ot,useProgram:xt,setBlending:Pe,setMaterial:qe,setFlipSided:He,setCullFace:ft,setLineWidth:ne,setPolygonOffset:Vt,setScissorTest:Mt,activeTexture:Gt,bindTexture:ht,unbindTexture:Q,compressedTexImage2D:F,compressedTexImage3D:ge,texImage2D:Yt,texImage3D:Je,updateUBOMapping:wt,uniformBlockBinding:St,texStorage2D:dt,texStorage3D:Ht,texSubImage2D:Ie,texSubImage3D:Xe,compressedTexSubImage2D:Ue,compressedTexSubImage3D:Et,scissor:Ze,viewport:Ot,reset:Xt}}function $ee(t,e,n,i,r,a,s){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new Qe,p=new WeakMap;let g;const v=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(Q,F){return x?new OffscreenCanvas(Q,F):Ky("canvas")}function w(Q,F,ge){let Ie=1;const Xe=ht(Q);if((Xe.width>ge||Xe.height>ge)&&(Ie=ge/Math.max(Xe.width,Xe.height)),Ie<1)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap||typeof VideoFrame<"u"&&Q instanceof VideoFrame){const Ue=Math.floor(Ie*Xe.width),Et=Math.floor(Ie*Xe.height);g===void 0&&(g=_(Ue,Et));const dt=F?_(Ue,Et):g;return dt.width=Ue,dt.height=Et,dt.getContext("2d").drawImage(Q,0,0,Ue,Et),Ct("WebGLRenderer: Texture has been resized from ("+Xe.width+"x"+Xe.height+") to ("+Ue+"x"+Et+")."),dt}else return"data"in Q&&Ct("WebGLRenderer: Image in DataTexture is too big ("+Xe.width+"x"+Xe.height+")."),Q;return Q}function S(Q){return Q.generateMipmaps}function M(Q){t.generateMipmap(Q)}function T(Q){return Q.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:Q.isWebGL3DRenderTarget?t.TEXTURE_3D:Q.isWebGLArrayRenderTarget||Q.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function R(Q,F,ge,Ie,Xe=!1){if(Q!==null){if(t[Q]!==void 0)return t[Q];Ct("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let Ue=F;if(F===t.RED&&(ge===t.FLOAT&&(Ue=t.R32F),ge===t.HALF_FLOAT&&(Ue=t.R16F),ge===t.UNSIGNED_BYTE&&(Ue=t.R8)),F===t.RED_INTEGER&&(ge===t.UNSIGNED_BYTE&&(Ue=t.R8UI),ge===t.UNSIGNED_SHORT&&(Ue=t.R16UI),ge===t.UNSIGNED_INT&&(Ue=t.R32UI),ge===t.BYTE&&(Ue=t.R8I),ge===t.SHORT&&(Ue=t.R16I),ge===t.INT&&(Ue=t.R32I)),F===t.RG&&(ge===t.FLOAT&&(Ue=t.RG32F),ge===t.HALF_FLOAT&&(Ue=t.RG16F),ge===t.UNSIGNED_BYTE&&(Ue=t.RG8)),F===t.RG_INTEGER&&(ge===t.UNSIGNED_BYTE&&(Ue=t.RG8UI),ge===t.UNSIGNED_SHORT&&(Ue=t.RG16UI),ge===t.UNSIGNED_INT&&(Ue=t.RG32UI),ge===t.BYTE&&(Ue=t.RG8I),ge===t.SHORT&&(Ue=t.RG16I),ge===t.INT&&(Ue=t.RG32I)),F===t.RGB_INTEGER&&(ge===t.UNSIGNED_BYTE&&(Ue=t.RGB8UI),ge===t.UNSIGNED_SHORT&&(Ue=t.RGB16UI),ge===t.UNSIGNED_INT&&(Ue=t.RGB32UI),ge===t.BYTE&&(Ue=t.RGB8I),ge===t.SHORT&&(Ue=t.RGB16I),ge===t.INT&&(Ue=t.RGB32I)),F===t.RGBA_INTEGER&&(ge===t.UNSIGNED_BYTE&&(Ue=t.RGBA8UI),ge===t.UNSIGNED_SHORT&&(Ue=t.RGBA16UI),ge===t.UNSIGNED_INT&&(Ue=t.RGBA32UI),ge===t.BYTE&&(Ue=t.RGBA8I),ge===t.SHORT&&(Ue=t.RGBA16I),ge===t.INT&&(Ue=t.RGBA32I)),F===t.RGB&&(ge===t.UNSIGNED_INT_5_9_9_9_REV&&(Ue=t.RGB9_E5),ge===t.UNSIGNED_INT_10F_11F_11F_REV&&(Ue=t.R11F_G11F_B10F)),F===t.RGBA){const Et=Xe?Yy:Hn.getTransfer(Ie);ge===t.FLOAT&&(Ue=t.RGBA32F),ge===t.HALF_FLOAT&&(Ue=t.RGBA16F),ge===t.UNSIGNED_BYTE&&(Ue=Et===oi?t.SRGB8_ALPHA8:t.RGBA8),ge===t.UNSIGNED_SHORT_4_4_4_4&&(Ue=t.RGBA4),ge===t.UNSIGNED_SHORT_5_5_5_1&&(Ue=t.RGB5_A1)}return(Ue===t.R16F||Ue===t.R32F||Ue===t.RG16F||Ue===t.RG32F||Ue===t.RGBA16F||Ue===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ue}function P(Q,F){let ge;return Q?F===null||F===co||F===Rg?ge=t.DEPTH24_STENCIL8:F===Bi?ge=t.DEPTH32F_STENCIL8:F===Cg&&(ge=t.DEPTH24_STENCIL8,Ct("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):F===null||F===co||F===Rg?ge=t.DEPTH_COMPONENT24:F===Bi?ge=t.DEPTH_COMPONENT32F:F===Cg&&(ge=t.DEPTH_COMPONENT16),ge}function L(Q,F){return S(Q)===!0||Q.isFramebufferTexture&&Q.minFilter!==_r&&Q.minFilter!==kn?Math.log2(Math.max(F.width,F.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?F.mipmaps.length:1}function I(Q){const F=Q.target;F.removeEventListener("dispose",I),D(F),F.isVideoTexture&&p.delete(F)}function B(Q){const F=Q.target;F.removeEventListener("dispose",B),W(F)}function D(Q){const F=i.get(Q);if(F.__webglInit===void 0)return;const ge=Q.source,Ie=v.get(ge);if(Ie){const Xe=Ie[F.__cacheKey];Xe.usedTimes--,Xe.usedTimes===0&&z(Q),Object.keys(Ie).length===0&&v.delete(ge)}i.remove(Q)}function z(Q){const F=i.get(Q);t.deleteTexture(F.__webglTexture);const ge=Q.source,Ie=v.get(ge);delete Ie[F.__cacheKey],s.memory.textures--}function W(Q){const F=i.get(Q);if(Q.depthTexture&&(Q.depthTexture.dispose(),i.remove(Q.depthTexture)),Q.isWebGLCubeRenderTarget)for(let Ie=0;Ie<6;Ie++){if(Array.isArray(F.__webglFramebuffer[Ie]))for(let Xe=0;Xe<F.__webglFramebuffer[Ie].length;Xe++)t.deleteFramebuffer(F.__webglFramebuffer[Ie][Xe]);else t.deleteFramebuffer(F.__webglFramebuffer[Ie]);F.__webglDepthbuffer&&t.deleteRenderbuffer(F.__webglDepthbuffer[Ie])}else{if(Array.isArray(F.__webglFramebuffer))for(let Ie=0;Ie<F.__webglFramebuffer.length;Ie++)t.deleteFramebuffer(F.__webglFramebuffer[Ie]);else t.deleteFramebuffer(F.__webglFramebuffer);if(F.__webglDepthbuffer&&t.deleteRenderbuffer(F.__webglDepthbuffer),F.__webglMultisampledFramebuffer&&t.deleteFramebuffer(F.__webglMultisampledFramebuffer),F.__webglColorRenderbuffer)for(let Ie=0;Ie<F.__webglColorRenderbuffer.length;Ie++)F.__webglColorRenderbuffer[Ie]&&t.deleteRenderbuffer(F.__webglColorRenderbuffer[Ie]);F.__webglDepthRenderbuffer&&t.deleteRenderbuffer(F.__webglDepthRenderbuffer)}const ge=Q.textures;for(let Ie=0,Xe=ge.length;Ie<Xe;Ie++){const Ue=i.get(ge[Ie]);Ue.__webglTexture&&(t.deleteTexture(Ue.__webglTexture),s.memory.textures--),i.remove(ge[Ie])}i.remove(Q)}let j=0;function G(){j=0}function J(){const Q=j;return Q>=r.maxTextures&&Ct("WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+r.maxTextures),j+=1,Q}function te(Q){const F=[];return F.push(Q.wrapS),F.push(Q.wrapT),F.push(Q.wrapR||0),F.push(Q.magFilter),F.push(Q.minFilter),F.push(Q.anisotropy),F.push(Q.internalFormat),F.push(Q.format),F.push(Q.type),F.push(Q.generateMipmaps),F.push(Q.premultiplyAlpha),F.push(Q.flipY),F.push(Q.unpackAlignment),F.push(Q.colorSpace),F.join()}function ie(Q,F){const ge=i.get(Q);if(Q.isVideoTexture&&Mt(Q),Q.isRenderTargetTexture===!1&&Q.isExternalTexture!==!0&&Q.version>0&&ge.__version!==Q.version){const Ie=Q.image;if(Ie===null)Ct("WebGLRenderer: Texture marked for update but no image data found.");else if(Ie.complete===!1)Ct("WebGLRenderer: Texture marked for update but image is incomplete");else{me(ge,Q,F);return}}else Q.isExternalTexture&&(ge.__webglTexture=Q.sourceTexture?Q.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,ge.__webglTexture,t.TEXTURE0+F)}function q(Q,F){const ge=i.get(Q);if(Q.isRenderTargetTexture===!1&&Q.version>0&&ge.__version!==Q.version){me(ge,Q,F);return}else Q.isExternalTexture&&(ge.__webglTexture=Q.sourceTexture?Q.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,ge.__webglTexture,t.TEXTURE0+F)}function K(Q,F){const ge=i.get(Q);if(Q.isRenderTargetTexture===!1&&Q.version>0&&ge.__version!==Q.version){me(ge,Q,F);return}n.bindTexture(t.TEXTURE_3D,ge.__webglTexture,t.TEXTURE0+F)}function pe(Q,F){const ge=i.get(Q);if(Q.isCubeDepthTexture!==!0&&Q.version>0&&ge.__version!==Q.version){De(ge,Q,F);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ge.__webglTexture,t.TEXTURE0+F)}const de={[Wy]:t.REPEAT,[pr]:t.CLAMP_TO_EDGE,[qy]:t.MIRRORED_REPEAT},_e={[_r]:t.NEAREST,[WO]:t.NEAREST_MIPMAP_NEAREST,[cg]:t.NEAREST_MIPMAP_LINEAR,[kn]:t.LINEAR,[Ry]:t.LINEAR_MIPMAP_NEAREST,[Pu]:t.LINEAR_MIPMAP_LINEAR},Y={[e6]:t.NEVER,[a6]:t.ALWAYS,[t6]:t.LESS,[zw]:t.LEQUAL,[n6]:t.EQUAL,[Bw]:t.GEQUAL,[i6]:t.GREATER,[r6]:t.NOTEQUAL};function re(Q,F){if(F.type===Bi&&e.has("OES_texture_float_linear")===!1&&(F.magFilter===kn||F.magFilter===Ry||F.magFilter===cg||F.magFilter===Pu||F.minFilter===kn||F.minFilter===Ry||F.minFilter===cg||F.minFilter===Pu)&&Ct("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(Q,t.TEXTURE_WRAP_S,de[F.wrapS]),t.texParameteri(Q,t.TEXTURE_WRAP_T,de[F.wrapT]),(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Q,t.TEXTURE_WRAP_R,de[F.wrapR]),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,_e[F.magFilter]),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,_e[F.minFilter]),F.compareFunction&&(t.texParameteri(Q,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Q,t.TEXTURE_COMPARE_FUNC,Y[F.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(F.magFilter===_r||F.minFilter!==cg&&F.minFilter!==Pu||F.type===Bi&&e.has("OES_texture_float_linear")===!1)return;if(F.anisotropy>1||i.get(F).__currentAnisotropy){const ge=e.get("EXT_texture_filter_anisotropic");t.texParameterf(Q,ge.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,r.getMaxAnisotropy())),i.get(F).__currentAnisotropy=F.anisotropy}}}function Me(Q,F){let ge=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,F.addEventListener("dispose",I));const Ie=F.source;let Xe=v.get(Ie);Xe===void 0&&(Xe={},v.set(Ie,Xe));const Ue=te(F);if(Ue!==Q.__cacheKey){Xe[Ue]===void 0&&(Xe[Ue]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,ge=!0),Xe[Ue].usedTimes++;const Et=Xe[Q.__cacheKey];Et!==void 0&&(Xe[Q.__cacheKey].usedTimes--,Et.usedTimes===0&&z(F)),Q.__cacheKey=Ue,Q.__webglTexture=Xe[Ue].texture}return ge}function ke(Q,F,ge){return Math.floor(Math.floor(Q/ge)/F)}function mt(Q,F,ge,Ie){const Ue=Q.updateRanges;if(Ue.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,F.width,F.height,ge,Ie,F.data);else{Ue.sort((Je,Ze)=>Je.start-Ze.start);let Et=0;for(let Je=1;Je<Ue.length;Je++){const Ze=Ue[Et],Ot=Ue[Je],wt=Ze.start+Ze.count,St=ke(Ot.start,F.width,4),Xt=ke(Ze.start,F.width,4);Ot.start<=wt+1&&St===Xt&&ke(Ot.start+Ot.count-1,F.width,4)===St?Ze.count=Math.max(Ze.count,Ot.start+Ot.count-Ze.start):(++Et,Ue[Et]=Ot)}Ue.length=Et+1;const dt=t.getParameter(t.UNPACK_ROW_LENGTH),Ht=t.getParameter(t.UNPACK_SKIP_PIXELS),Yt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,F.width);for(let Je=0,Ze=Ue.length;Je<Ze;Je++){const Ot=Ue[Je],wt=Math.floor(Ot.start/4),St=Math.ceil(Ot.count/4),Xt=wt%F.width,ve=Math.floor(wt/F.width),Te=St,ut=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Xt),t.pixelStorei(t.UNPACK_SKIP_ROWS,ve),n.texSubImage2D(t.TEXTURE_2D,0,Xt,ve,Te,ut,ge,Ie,F.data)}Q.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,dt),t.pixelStorei(t.UNPACK_SKIP_PIXELS,Ht),t.pixelStorei(t.UNPACK_SKIP_ROWS,Yt)}}function me(Q,F,ge){let Ie=t.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(Ie=t.TEXTURE_2D_ARRAY),F.isData3DTexture&&(Ie=t.TEXTURE_3D);const Xe=Me(Q,F),Ue=F.source;n.bindTexture(Ie,Q.__webglTexture,t.TEXTURE0+ge);const Et=i.get(Ue);if(Ue.version!==Et.__version||Xe===!0){n.activeTexture(t.TEXTURE0+ge);const dt=Hn.getPrimaries(Hn.workingColorSpace),Ht=F.colorSpace===Cc?null:Hn.getPrimaries(F.colorSpace),Yt=F.colorSpace===Cc||dt===Ht?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,F.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,F.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Yt);let Je=w(F.image,!1,r.maxTextureSize);Je=Gt(F,Je);const Ze=a.convert(F.format,F.colorSpace),Ot=a.convert(F.type);let wt=R(F.internalFormat,Ze,Ot,F.colorSpace,F.isVideoTexture);re(Ie,F);let St;const Xt=F.mipmaps,ve=F.isVideoTexture!==!0,Te=Et.__version===void 0||Xe===!0,ut=Ue.dataReady,Pt=L(F,Je);if(F.isDepthTexture)wt=P(F.format===ah,F.type),Te&&(ve?n.texStorage2D(t.TEXTURE_2D,1,wt,Je.width,Je.height):n.texImage2D(t.TEXTURE_2D,0,wt,Je.width,Je.height,0,Ze,Ot,null));else if(F.isDataTexture)if(Xt.length>0){ve&&Te&&n.texStorage2D(t.TEXTURE_2D,Pt,wt,Xt[0].width,Xt[0].height);for(let at=0,Fe=Xt.length;at<Fe;at++)St=Xt[at],ve?ut&&n.texSubImage2D(t.TEXTURE_2D,at,0,0,St.width,St.height,Ze,Ot,St.data):n.texImage2D(t.TEXTURE_2D,at,wt,St.width,St.height,0,Ze,Ot,St.data);F.generateMipmaps=!1}else ve?(Te&&n.texStorage2D(t.TEXTURE_2D,Pt,wt,Je.width,Je.height),ut&&mt(F,Je,Ze,Ot)):n.texImage2D(t.TEXTURE_2D,0,wt,Je.width,Je.height,0,Ze,Ot,Je.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){ve&&Te&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Pt,wt,Xt[0].width,Xt[0].height,Je.depth);for(let at=0,Fe=Xt.length;at<Fe;at++)if(St=Xt[at],F.format!==Sr)if(Ze!==null)if(ve){if(ut)if(F.layerUpdates.size>0){const Lt=nP(St.width,St.height,F.format,F.type);for(const rn of F.layerUpdates){const Rn=St.data.subarray(rn*Lt/St.data.BYTES_PER_ELEMENT,(rn+1)*Lt/St.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,at,0,0,rn,St.width,St.height,1,Ze,Rn)}F.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,at,0,0,0,St.width,St.height,Je.depth,Ze,St.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,at,wt,St.width,St.height,Je.depth,0,St.data,0,0);else Ct("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ve?ut&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,at,0,0,0,St.width,St.height,Je.depth,Ze,Ot,St.data):n.texImage3D(t.TEXTURE_2D_ARRAY,at,wt,St.width,St.height,Je.depth,0,Ze,Ot,St.data)}else{ve&&Te&&n.texStorage2D(t.TEXTURE_2D,Pt,wt,Xt[0].width,Xt[0].height);for(let at=0,Fe=Xt.length;at<Fe;at++)St=Xt[at],F.format!==Sr?Ze!==null?ve?ut&&n.compressedTexSubImage2D(t.TEXTURE_2D,at,0,0,St.width,St.height,Ze,St.data):n.compressedTexImage2D(t.TEXTURE_2D,at,wt,St.width,St.height,0,St.data):Ct("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ve?ut&&n.texSubImage2D(t.TEXTURE_2D,at,0,0,St.width,St.height,Ze,Ot,St.data):n.texImage2D(t.TEXTURE_2D,at,wt,St.width,St.height,0,Ze,Ot,St.data)}else if(F.isDataArrayTexture)if(ve){if(Te&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Pt,wt,Je.width,Je.height,Je.depth),ut)if(F.layerUpdates.size>0){const at=nP(Je.width,Je.height,F.format,F.type);for(const Fe of F.layerUpdates){const Lt=Je.data.subarray(Fe*at/Je.data.BYTES_PER_ELEMENT,(Fe+1)*at/Je.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Fe,Je.width,Je.height,1,Ze,Ot,Lt)}F.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Je.width,Je.height,Je.depth,Ze,Ot,Je.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,wt,Je.width,Je.height,Je.depth,0,Ze,Ot,Je.data);else if(F.isData3DTexture)ve?(Te&&n.texStorage3D(t.TEXTURE_3D,Pt,wt,Je.width,Je.height,Je.depth),ut&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Je.width,Je.height,Je.depth,Ze,Ot,Je.data)):n.texImage3D(t.TEXTURE_3D,0,wt,Je.width,Je.height,Je.depth,0,Ze,Ot,Je.data);else if(F.isFramebufferTexture){if(Te)if(ve)n.texStorage2D(t.TEXTURE_2D,Pt,wt,Je.width,Je.height);else{let at=Je.width,Fe=Je.height;for(let Lt=0;Lt<Pt;Lt++)n.texImage2D(t.TEXTURE_2D,Lt,wt,at,Fe,0,Ze,Ot,null),at>>=1,Fe>>=1}}else if(Xt.length>0){if(ve&&Te){const at=ht(Xt[0]);n.texStorage2D(t.TEXTURE_2D,Pt,wt,at.width,at.height)}for(let at=0,Fe=Xt.length;at<Fe;at++)St=Xt[at],ve?ut&&n.texSubImage2D(t.TEXTURE_2D,at,0,0,Ze,Ot,St):n.texImage2D(t.TEXTURE_2D,at,wt,Ze,Ot,St);F.generateMipmaps=!1}else if(ve){if(Te){const at=ht(Je);n.texStorage2D(t.TEXTURE_2D,Pt,wt,at.width,at.height)}ut&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ze,Ot,Je)}else n.texImage2D(t.TEXTURE_2D,0,wt,Ze,Ot,Je);S(F)&&M(Ie),Et.__version=Ue.version,F.onUpdate&&F.onUpdate(F)}Q.__version=F.version}function De(Q,F,ge){if(F.image.length!==6)return;const Ie=Me(Q,F),Xe=F.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Q.__webglTexture,t.TEXTURE0+ge);const Ue=i.get(Xe);if(Xe.version!==Ue.__version||Ie===!0){n.activeTexture(t.TEXTURE0+ge);const Et=Hn.getPrimaries(Hn.workingColorSpace),dt=F.colorSpace===Cc?null:Hn.getPrimaries(F.colorSpace),Ht=F.colorSpace===Cc||Et===dt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,F.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,F.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ht);const Yt=F.isCompressedTexture||F.image[0].isCompressedTexture,Je=F.image[0]&&F.image[0].isDataTexture,Ze=[];for(let Fe=0;Fe<6;Fe++)!Yt&&!Je?Ze[Fe]=w(F.image[Fe],!0,r.maxCubemapSize):Ze[Fe]=Je?F.image[Fe].image:F.image[Fe],Ze[Fe]=Gt(F,Ze[Fe]);const Ot=Ze[0],wt=a.convert(F.format,F.colorSpace),St=a.convert(F.type),Xt=R(F.internalFormat,wt,St,F.colorSpace),ve=F.isVideoTexture!==!0,Te=Ue.__version===void 0||Ie===!0,ut=Xe.dataReady;let Pt=L(F,Ot);re(t.TEXTURE_CUBE_MAP,F);let at;if(Yt){ve&&Te&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Pt,Xt,Ot.width,Ot.height);for(let Fe=0;Fe<6;Fe++){at=Ze[Fe].mipmaps;for(let Lt=0;Lt<at.length;Lt++){const rn=at[Lt];F.format!==Sr?wt!==null?ve?ut&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,Lt,0,0,rn.width,rn.height,wt,rn.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,Lt,Xt,rn.width,rn.height,0,rn.data):Ct("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ve?ut&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,Lt,0,0,rn.width,rn.height,wt,St,rn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,Lt,Xt,rn.width,rn.height,0,wt,St,rn.data)}}}else{if(at=F.mipmaps,ve&&Te){at.length>0&&Pt++;const Fe=ht(Ze[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Pt,Xt,Fe.width,Fe.height)}for(let Fe=0;Fe<6;Fe++)if(Je){ve?ut&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,0,0,Ze[Fe].width,Ze[Fe].height,wt,St,Ze[Fe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,Xt,Ze[Fe].width,Ze[Fe].height,0,wt,St,Ze[Fe].data);for(let Lt=0;Lt<at.length;Lt++){const Rn=at[Lt].image[Fe].image;ve?ut&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,Lt+1,0,0,Rn.width,Rn.height,wt,St,Rn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,Lt+1,Xt,Rn.width,Rn.height,0,wt,St,Rn.data)}}else{ve?ut&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,0,0,wt,St,Ze[Fe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,Xt,wt,St,Ze[Fe]);for(let Lt=0;Lt<at.length;Lt++){const rn=at[Lt];ve?ut&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,Lt+1,0,0,wt,St,rn.image[Fe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,Lt+1,Xt,wt,St,rn.image[Fe])}}}S(F)&&M(t.TEXTURE_CUBE_MAP),Ue.__version=Xe.version,F.onUpdate&&F.onUpdate(F)}Q.__version=F.version}function Ye(Q,F,ge,Ie,Xe,Ue){const Et=a.convert(ge.format,ge.colorSpace),dt=a.convert(ge.type),Ht=R(ge.internalFormat,Et,dt,ge.colorSpace),Yt=i.get(F),Je=i.get(ge);if(Je.__renderTarget=F,!Yt.__hasExternalTextures){const Ze=Math.max(1,F.width>>Ue),Ot=Math.max(1,F.height>>Ue);Xe===t.TEXTURE_3D||Xe===t.TEXTURE_2D_ARRAY?n.texImage3D(Xe,Ue,Ht,Ze,Ot,F.depth,0,Et,dt,null):n.texImage2D(Xe,Ue,Ht,Ze,Ot,0,Et,dt,null)}n.bindFramebuffer(t.FRAMEBUFFER,Q),Vt(F)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ie,Xe,Je.__webglTexture,0,ne(F)):(Xe===t.TEXTURE_2D||Xe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Xe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ie,Xe,Je.__webglTexture,Ue),n.bindFramebuffer(t.FRAMEBUFFER,null)}function xe(Q,F,ge){if(t.bindRenderbuffer(t.RENDERBUFFER,Q),F.depthBuffer){const Ie=F.depthTexture,Xe=Ie&&Ie.isDepthTexture?Ie.type:null,Ue=P(F.stencilBuffer,Xe),Et=F.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;Vt(F)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ne(F),Ue,F.width,F.height):ge?t.renderbufferStorageMultisample(t.RENDERBUFFER,ne(F),Ue,F.width,F.height):t.renderbufferStorage(t.RENDERBUFFER,Ue,F.width,F.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Et,t.RENDERBUFFER,Q)}else{const Ie=F.textures;for(let Xe=0;Xe<Ie.length;Xe++){const Ue=Ie[Xe],Et=a.convert(Ue.format,Ue.colorSpace),dt=a.convert(Ue.type),Ht=R(Ue.internalFormat,Et,dt,Ue.colorSpace);Vt(F)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ne(F),Ht,F.width,F.height):ge?t.renderbufferStorageMultisample(t.RENDERBUFFER,ne(F),Ht,F.width,F.height):t.renderbufferStorage(t.RENDERBUFFER,Ht,F.width,F.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ot(Q,F,ge){const Ie=F.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,Q),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Xe=i.get(F.depthTexture);if(Xe.__renderTarget=F,(!Xe.__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),Ie){if(Xe.__webglInit===void 0&&(Xe.__webglInit=!0,F.depthTexture.addEventListener("dispose",I)),Xe.__webglTexture===void 0){Xe.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,Xe.__webglTexture),re(t.TEXTURE_CUBE_MAP,F.depthTexture);const Yt=a.convert(F.depthTexture.format),Je=a.convert(F.depthTexture.type);let Ze;F.depthTexture.format===zu?Ze=t.DEPTH_COMPONENT24:F.depthTexture.format===ah&&(Ze=t.DEPTH24_STENCIL8);for(let Ot=0;Ot<6;Ot++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ot,0,Ze,F.width,F.height,0,Yt,Je,null)}}else ie(F.depthTexture,0);const Ue=Xe.__webglTexture,Et=ne(F),dt=Ie?t.TEXTURE_CUBE_MAP_POSITIVE_X+ge:t.TEXTURE_2D,Ht=F.depthTexture.format===ah?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(F.depthTexture.format===zu)Vt(F)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ht,dt,Ue,0,Et):t.framebufferTexture2D(t.FRAMEBUFFER,Ht,dt,Ue,0);else if(F.depthTexture.format===ah)Vt(F)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ht,dt,Ue,0,Et):t.framebufferTexture2D(t.FRAMEBUFFER,Ht,dt,Ue,0);else throw new Error("Unknown depthTexture format")}function xt(Q){const F=i.get(Q),ge=Q.isWebGLCubeRenderTarget===!0;if(F.__boundDepthTexture!==Q.depthTexture){const Ie=Q.depthTexture;if(F.__depthDisposeCallback&&F.__depthDisposeCallback(),Ie){const Xe=()=>{delete F.__boundDepthTexture,delete F.__depthDisposeCallback,Ie.removeEventListener("dispose",Xe)};Ie.addEventListener("dispose",Xe),F.__depthDisposeCallback=Xe}F.__boundDepthTexture=Ie}if(Q.depthTexture&&!F.__autoAllocateDepthBuffer)if(ge)for(let Ie=0;Ie<6;Ie++)ot(F.__webglFramebuffer[Ie],Q,Ie);else{const Ie=Q.texture.mipmaps;Ie&&Ie.length>0?ot(F.__webglFramebuffer[0],Q,0):ot(F.__webglFramebuffer,Q,0)}else if(ge){F.__webglDepthbuffer=[];for(let Ie=0;Ie<6;Ie++)if(n.bindFramebuffer(t.FRAMEBUFFER,F.__webglFramebuffer[Ie]),F.__webglDepthbuffer[Ie]===void 0)F.__webglDepthbuffer[Ie]=t.createRenderbuffer(),xe(F.__webglDepthbuffer[Ie],Q,!1);else{const Xe=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ue=F.__webglDepthbuffer[Ie];t.bindRenderbuffer(t.RENDERBUFFER,Ue),t.framebufferRenderbuffer(t.FRAMEBUFFER,Xe,t.RENDERBUFFER,Ue)}}else{const Ie=Q.texture.mipmaps;if(Ie&&Ie.length>0?n.bindFramebuffer(t.FRAMEBUFFER,F.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer===void 0)F.__webglDepthbuffer=t.createRenderbuffer(),xe(F.__webglDepthbuffer,Q,!1);else{const Xe=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ue=F.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Ue),t.framebufferRenderbuffer(t.FRAMEBUFFER,Xe,t.RENDERBUFFER,Ue)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function je(Q,F,ge){const Ie=i.get(Q);F!==void 0&&Ye(Ie.__webglFramebuffer,Q,Q.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ge!==void 0&&xt(Q)}function Nt(Q){const F=Q.texture,ge=i.get(Q),Ie=i.get(F);Q.addEventListener("dispose",B);const Xe=Q.textures,Ue=Q.isWebGLCubeRenderTarget===!0,Et=Xe.length>1;if(Et||(Ie.__webglTexture===void 0&&(Ie.__webglTexture=t.createTexture()),Ie.__version=F.version,s.memory.textures++),Ue){ge.__webglFramebuffer=[];for(let dt=0;dt<6;dt++)if(F.mipmaps&&F.mipmaps.length>0){ge.__webglFramebuffer[dt]=[];for(let Ht=0;Ht<F.mipmaps.length;Ht++)ge.__webglFramebuffer[dt][Ht]=t.createFramebuffer()}else ge.__webglFramebuffer[dt]=t.createFramebuffer()}else{if(F.mipmaps&&F.mipmaps.length>0){ge.__webglFramebuffer=[];for(let dt=0;dt<F.mipmaps.length;dt++)ge.__webglFramebuffer[dt]=t.createFramebuffer()}else ge.__webglFramebuffer=t.createFramebuffer();if(Et)for(let dt=0,Ht=Xe.length;dt<Ht;dt++){const Yt=i.get(Xe[dt]);Yt.__webglTexture===void 0&&(Yt.__webglTexture=t.createTexture(),s.memory.textures++)}if(Q.samples>0&&Vt(Q)===!1){ge.__webglMultisampledFramebuffer=t.createFramebuffer(),ge.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ge.__webglMultisampledFramebuffer);for(let dt=0;dt<Xe.length;dt++){const Ht=Xe[dt];ge.__webglColorRenderbuffer[dt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ge.__webglColorRenderbuffer[dt]);const Yt=a.convert(Ht.format,Ht.colorSpace),Je=a.convert(Ht.type),Ze=R(Ht.internalFormat,Yt,Je,Ht.colorSpace,Q.isXRRenderTarget===!0),Ot=ne(Q);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ot,Ze,Q.width,Q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+dt,t.RENDERBUFFER,ge.__webglColorRenderbuffer[dt])}t.bindRenderbuffer(t.RENDERBUFFER,null),Q.depthBuffer&&(ge.__webglDepthRenderbuffer=t.createRenderbuffer(),xe(ge.__webglDepthRenderbuffer,Q,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ue){n.bindTexture(t.TEXTURE_CUBE_MAP,Ie.__webglTexture),re(t.TEXTURE_CUBE_MAP,F);for(let dt=0;dt<6;dt++)if(F.mipmaps&&F.mipmaps.length>0)for(let Ht=0;Ht<F.mipmaps.length;Ht++)Ye(ge.__webglFramebuffer[dt][Ht],Q,F,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+dt,Ht);else Ye(ge.__webglFramebuffer[dt],Q,F,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0);S(F)&&M(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Et){for(let dt=0,Ht=Xe.length;dt<Ht;dt++){const Yt=Xe[dt],Je=i.get(Yt);let Ze=t.TEXTURE_2D;(Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(Ze=Q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ze,Je.__webglTexture),re(Ze,Yt),Ye(ge.__webglFramebuffer,Q,Yt,t.COLOR_ATTACHMENT0+dt,Ze,0),S(Yt)&&M(Ze)}n.unbindTexture()}else{let dt=t.TEXTURE_2D;if((Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(dt=Q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(dt,Ie.__webglTexture),re(dt,F),F.mipmaps&&F.mipmaps.length>0)for(let Ht=0;Ht<F.mipmaps.length;Ht++)Ye(ge.__webglFramebuffer[Ht],Q,F,t.COLOR_ATTACHMENT0,dt,Ht);else Ye(ge.__webglFramebuffer,Q,F,t.COLOR_ATTACHMENT0,dt,0);S(F)&&M(dt),n.unbindTexture()}Q.depthBuffer&&xt(Q)}function Pe(Q){const F=Q.textures;for(let ge=0,Ie=F.length;ge<Ie;ge++){const Xe=F[ge];if(S(Xe)){const Ue=T(Q),Et=i.get(Xe).__webglTexture;n.bindTexture(Ue,Et),M(Ue),n.unbindTexture()}}}const qe=[],He=[];function ft(Q){if(Q.samples>0){if(Vt(Q)===!1){const F=Q.textures,ge=Q.width,Ie=Q.height;let Xe=t.COLOR_BUFFER_BIT;const Ue=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Et=i.get(Q),dt=F.length>1;if(dt)for(let Yt=0;Yt<F.length;Yt++)n.bindFramebuffer(t.FRAMEBUFFER,Et.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Yt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Et.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Yt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Et.__webglMultisampledFramebuffer);const Ht=Q.texture.mipmaps;Ht&&Ht.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Et.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Et.__webglFramebuffer);for(let Yt=0;Yt<F.length;Yt++){if(Q.resolveDepthBuffer&&(Q.depthBuffer&&(Xe|=t.DEPTH_BUFFER_BIT),Q.stencilBuffer&&Q.resolveStencilBuffer&&(Xe|=t.STENCIL_BUFFER_BIT)),dt){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Et.__webglColorRenderbuffer[Yt]);const Je=i.get(F[Yt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Je,0)}t.blitFramebuffer(0,0,ge,Ie,0,0,ge,Ie,Xe,t.NEAREST),c===!0&&(qe.length=0,He.length=0,qe.push(t.COLOR_ATTACHMENT0+Yt),Q.depthBuffer&&Q.resolveDepthBuffer===!1&&(qe.push(Ue),He.push(Ue),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,He)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,qe))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),dt)for(let Yt=0;Yt<F.length;Yt++){n.bindFramebuffer(t.FRAMEBUFFER,Et.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Yt,t.RENDERBUFFER,Et.__webglColorRenderbuffer[Yt]);const Je=i.get(F[Yt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Et.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Yt,t.TEXTURE_2D,Je,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Et.__webglMultisampledFramebuffer)}else if(Q.depthBuffer&&Q.resolveDepthBuffer===!1&&c){const F=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[F])}}}function ne(Q){return Math.min(r.maxSamples,Q.samples)}function Vt(Q){const F=i.get(Q);return Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function Mt(Q){const F=s.render.frame;p.get(Q)!==F&&(p.set(Q,F),Q.update())}function Gt(Q,F){const ge=Q.colorSpace,Ie=Q.format,Xe=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||ge!==kl&&ge!==Cc&&(Hn.getTransfer(ge)===oi?(Ie!==Sr||Xe!==aa)&&Ct("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Kt("WebGLTextures: Unsupported texture color space:",ge)),F}function ht(Q){return typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement?(h.width=Q.naturalWidth||Q.width,h.height=Q.naturalHeight||Q.height):typeof VideoFrame<"u"&&Q instanceof VideoFrame?(h.width=Q.displayWidth,h.height=Q.displayHeight):(h.width=Q.width,h.height=Q.height),h}this.allocateTextureUnit=J,this.resetTextureUnits=G,this.setTexture2D=ie,this.setTexture2DArray=q,this.setTexture3D=K,this.setTextureCube=pe,this.rebindTextures=je,this.setupRenderTarget=Nt,this.updateRenderTargetMipmap=Pe,this.updateMultisampleRenderTarget=ft,this.setupDepthRenderbuffer=xt,this.setupFrameBufferTexture=Ye,this.useMultisampledRTT=Vt,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function y8(t,e){function n(i,r=Cc){let a;const s=Hn.getTransfer(r);if(i===aa)return t.UNSIGNED_BYTE;if(i===Dw)return t.UNSIGNED_SHORT_4_4_4_4;if(i===Iw)return t.UNSIGNED_SHORT_5_5_5_1;if(i===qO)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===XO)return t.UNSIGNED_INT_10F_11F_11F_REV;if(i===Pw)return t.BYTE;if(i===Ow)return t.SHORT;if(i===Cg)return t.UNSIGNED_SHORT;if(i===Ox)return t.INT;if(i===co)return t.UNSIGNED_INT;if(i===Bi)return t.FLOAT;if(i===rr)return t.HALF_FLOAT;if(i===$O)return t.ALPHA;if(i===YO)return t.RGB;if(i===Sr)return t.RGBA;if(i===zu)return t.DEPTH_COMPONENT;if(i===ah)return t.DEPTH_STENCIL;if(i===Dx)return t.RED;if(i===Ix)return t.RED_INTEGER;if(i===ap)return t.RG;if(i===Nw)return t.RG_INTEGER;if(i===Lw)return t.RGBA_INTEGER;if(i===Py||i===Oy||i===Dy||i===Iy)if(s===oi)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===Py)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Oy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Dy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Iy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===Py)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Oy)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Dy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Iy)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===F1||i===V1||i===H1||i===j1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===F1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===V1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===H1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===j1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===G1||i===W1||i===q1||i===X1||i===$1||i===Y1||i===Z1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===G1||i===W1)return s===oi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===q1)return s===oi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC;if(i===X1)return a.COMPRESSED_R11_EAC;if(i===$1)return a.COMPRESSED_SIGNED_R11_EAC;if(i===Y1)return a.COMPRESSED_RG11_EAC;if(i===Z1)return a.COMPRESSED_SIGNED_RG11_EAC}else return null;if(i===K1||i===Q1||i===J1||i===eM||i===tM||i===nM||i===iM||i===rM||i===aM||i===sM||i===oM||i===lM||i===uM||i===cM)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===K1)return s===oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Q1)return s===oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===J1)return s===oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===eM)return s===oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===tM)return s===oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===nM)return s===oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===iM)return s===oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===rM)return s===oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===aM)return s===oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===sM)return s===oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===oM)return s===oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===lM)return s===oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===uM)return s===oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===cM)return s===oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===fM||i===hM||i===dM)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===fM)return s===oi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===hM)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===dM)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===pM||i===mM||i===gM||i===vM)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===pM)return a.COMPRESSED_RED_RGTC1_EXT;if(i===mM)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===gM)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===vM)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Rg?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}const Yee=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Zee=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Kee{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const i=new i3(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new ms({vertexShader:Yee,fragmentShader:Zee,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new ar(new Sh(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Qee extends Hu{constructor(e,n){super();const i=this;let r=null,a=1,s=null,l="local-floor",c=1,h=null,p=null,g=null,v=null,x=null,_=null;const w=typeof XRWebGLBinding<"u",S=new Kee,M={},T=n.getContextAttributes();let R=null,P=null;const L=[],I=[],B=new Qe;let D=null;const z=new ra;z.viewport=new ii;const W=new ra;W.viewport=new ii;const j=[z,W],G=new a8;let J=null,te=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(me){let De=L[me];return De===void 0&&(De=new m1,L[me]=De),De.getTargetRaySpace()},this.getControllerGrip=function(me){let De=L[me];return De===void 0&&(De=new m1,L[me]=De),De.getGripSpace()},this.getHand=function(me){let De=L[me];return De===void 0&&(De=new m1,L[me]=De),De.getHandSpace()};function ie(me){const De=I.indexOf(me.inputSource);if(De===-1)return;const Ye=L[De];Ye!==void 0&&(Ye.update(me.inputSource,me.frame,h||s),Ye.dispatchEvent({type:me.type,data:me.inputSource}))}function q(){r.removeEventListener("select",ie),r.removeEventListener("selectstart",ie),r.removeEventListener("selectend",ie),r.removeEventListener("squeeze",ie),r.removeEventListener("squeezestart",ie),r.removeEventListener("squeezeend",ie),r.removeEventListener("end",q),r.removeEventListener("inputsourceschange",K);for(let me=0;me<L.length;me++){const De=I[me];De!==null&&(I[me]=null,L[me].disconnect(De))}J=null,te=null,S.reset();for(const me in M)delete M[me];e.setRenderTarget(R),x=null,v=null,g=null,r=null,P=null,mt.stop(),i.isPresenting=!1,e.setPixelRatio(D),e.setSize(B.width,B.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(me){a=me,i.isPresenting===!0&&Ct("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(me){l=me,i.isPresenting===!0&&Ct("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||s},this.setReferenceSpace=function(me){h=me},this.getBaseLayer=function(){return v!==null?v:x},this.getBinding=function(){return g===null&&w&&(g=new XRWebGLBinding(r,n)),g},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(me){if(r=me,r!==null){if(R=e.getRenderTarget(),r.addEventListener("select",ie),r.addEventListener("selectstart",ie),r.addEventListener("selectend",ie),r.addEventListener("squeeze",ie),r.addEventListener("squeezestart",ie),r.addEventListener("squeezeend",ie),r.addEventListener("end",q),r.addEventListener("inputsourceschange",K),T.xrCompatible!==!0&&await n.makeXRCompatible(),D=e.getPixelRatio(),e.getSize(B),w&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ye=null,xe=null,ot=null;T.depth&&(ot=T.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Ye=T.stencil?ah:zu,xe=T.stencil?Rg:co);const xt={colorFormat:n.RGBA8,depthFormat:ot,scaleFactor:a};g=this.getBinding(),v=g.createProjectionLayer(xt),r.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),P=new Xa(v.textureWidth,v.textureHeight,{format:Sr,type:aa,depthTexture:new lp(v.textureWidth,v.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,Ye),stencilBuffer:T.stencil,colorSpace:e.outputColorSpace,samples:T.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const Ye={antialias:T.antialias,alpha:!0,depth:T.depth,stencil:T.stencil,framebufferScaleFactor:a};x=new XRWebGLLayer(r,n,Ye),r.updateRenderState({baseLayer:x}),e.setPixelRatio(1),e.setSize(x.framebufferWidth,x.framebufferHeight,!1),P=new Xa(x.framebufferWidth,x.framebufferHeight,{format:Sr,type:aa,colorSpace:e.outputColorSpace,stencilBuffer:T.stencil,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}P.isXRRenderTarget=!0,this.setFoveation(c),h=null,s=await r.requestReferenceSpace(l),mt.setContext(r),mt.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function K(me){for(let De=0;De<me.removed.length;De++){const Ye=me.removed[De],xe=I.indexOf(Ye);xe>=0&&(I[xe]=null,L[xe].disconnect(Ye))}for(let De=0;De<me.added.length;De++){const Ye=me.added[De];let xe=I.indexOf(Ye);if(xe===-1){for(let xt=0;xt<L.length;xt++)if(xt>=I.length){I.push(Ye),xe=xt;break}else if(I[xt]===null){I[xt]=Ye,xe=xt;break}if(xe===-1)break}const ot=L[xe];ot&&ot.connect(Ye)}}const pe=new ee,de=new ee;function _e(me,De,Ye){pe.setFromMatrixPosition(De.matrixWorld),de.setFromMatrixPosition(Ye.matrixWorld);const xe=pe.distanceTo(de),ot=De.projectionMatrix.elements,xt=Ye.projectionMatrix.elements,je=ot[14]/(ot[10]-1),Nt=ot[14]/(ot[10]+1),Pe=(ot[9]+1)/ot[5],qe=(ot[9]-1)/ot[5],He=(ot[8]-1)/ot[0],ft=(xt[8]+1)/xt[0],ne=je*He,Vt=je*ft,Mt=xe/(-He+ft),Gt=Mt*-He;if(De.matrixWorld.decompose(me.position,me.quaternion,me.scale),me.translateX(Gt),me.translateZ(Mt),me.matrixWorld.compose(me.position,me.quaternion,me.scale),me.matrixWorldInverse.copy(me.matrixWorld).invert(),ot[10]===-1)me.projectionMatrix.copy(De.projectionMatrix),me.projectionMatrixInverse.copy(De.projectionMatrixInverse);else{const ht=je+Mt,Q=Nt+Mt,F=ne-Gt,ge=Vt+(xe-Gt),Ie=Pe*Nt/Q*ht,Xe=qe*Nt/Q*ht;me.projectionMatrix.makePerspective(F,ge,Ie,Xe,ht,Q),me.projectionMatrixInverse.copy(me.projectionMatrix).invert()}}function Y(me,De){De===null?me.matrixWorld.copy(me.matrix):me.matrixWorld.multiplyMatrices(De.matrixWorld,me.matrix),me.matrixWorldInverse.copy(me.matrixWorld).invert()}this.updateCamera=function(me){if(r===null)return;let De=me.near,Ye=me.far;S.texture!==null&&(S.depthNear>0&&(De=S.depthNear),S.depthFar>0&&(Ye=S.depthFar)),G.near=W.near=z.near=De,G.far=W.far=z.far=Ye,(J!==G.near||te!==G.far)&&(r.updateRenderState({depthNear:G.near,depthFar:G.far}),J=G.near,te=G.far),G.layers.mask=me.layers.mask|6,z.layers.mask=G.layers.mask&-5,W.layers.mask=G.layers.mask&-3;const xe=me.parent,ot=G.cameras;Y(G,xe);for(let xt=0;xt<ot.length;xt++)Y(ot[xt],xe);ot.length===2?_e(G,z,W):G.projectionMatrix.copy(z.projectionMatrix),re(me,G,xe)};function re(me,De,Ye){Ye===null?me.matrix.copy(De.matrixWorld):(me.matrix.copy(Ye.matrixWorld),me.matrix.invert(),me.matrix.multiply(De.matrixWorld)),me.matrix.decompose(me.position,me.quaternion,me.scale),me.updateMatrixWorld(!0),me.projectionMatrix.copy(De.projectionMatrix),me.projectionMatrixInverse.copy(De.projectionMatrixInverse),me.isPerspectiveCamera&&(me.fov=Pg*2*Math.atan(1/me.projectionMatrix.elements[5]),me.zoom=1)}this.getCamera=function(){return G},this.getFoveation=function(){if(!(v===null&&x===null))return c},this.setFoveation=function(me){c=me,v!==null&&(v.fixedFoveation=me),x!==null&&x.fixedFoveation!==void 0&&(x.fixedFoveation=me)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(G)},this.getCameraTexture=function(me){return M[me]};let Me=null;function ke(me,De){if(p=De.getViewerPose(h||s),_=De,p!==null){const Ye=p.views;x!==null&&(e.setRenderTargetFramebuffer(P,x.framebuffer),e.setRenderTarget(P));let xe=!1;Ye.length!==G.cameras.length&&(G.cameras.length=0,xe=!0);for(let Nt=0;Nt<Ye.length;Nt++){const Pe=Ye[Nt];let qe=null;if(x!==null)qe=x.getViewport(Pe);else{const ft=g.getViewSubImage(v,Pe);qe=ft.viewport,Nt===0&&(e.setRenderTargetTextures(P,ft.colorTexture,ft.depthStencilTexture),e.setRenderTarget(P))}let He=j[Nt];He===void 0&&(He=new ra,He.layers.enable(Nt),He.viewport=new ii,j[Nt]=He),He.matrix.fromArray(Pe.transform.matrix),He.matrix.decompose(He.position,He.quaternion,He.scale),He.projectionMatrix.fromArray(Pe.projectionMatrix),He.projectionMatrixInverse.copy(He.projectionMatrix).invert(),He.viewport.set(qe.x,qe.y,qe.width,qe.height),Nt===0&&(G.matrix.copy(He.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale)),xe===!0&&G.cameras.push(He)}const ot=r.enabledFeatures;if(ot&&ot.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&w){g=i.getBinding();const Nt=g.getDepthInformation(Ye[0]);Nt&&Nt.isValid&&Nt.texture&&S.init(Nt,r.renderState)}if(ot&&ot.includes("camera-access")&&w){e.state.unbindTexture(),g=i.getBinding();for(let Nt=0;Nt<Ye.length;Nt++){const Pe=Ye[Nt].camera;if(Pe){let qe=M[Pe];qe||(qe=new i3,M[Pe]=qe);const He=g.getCameraImage(Pe);qe.sourceTexture=He}}}}for(let Ye=0;Ye<L.length;Ye++){const xe=I[Ye],ot=L[Ye];xe!==null&&ot!==void 0&&ot.update(xe,De,h||s)}Me&&Me(me,De),De.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:De}),_=null}const mt=new d8;mt.setAnimationLoop(ke),this.setAnimationLoop=function(me){Me=me},this.dispose=function(){}}}const Td=new Gs,Jee=new on;function ete(t,e){function n(S,M){S.matrixAutoUpdate===!0&&S.updateMatrix(),M.value.copy(S.matrix)}function i(S,M){M.color.getRGB(S.fogColor.value,I6(t)),M.isFog?(S.fogNear.value=M.near,S.fogFar.value=M.far):M.isFogExp2&&(S.fogDensity.value=M.density)}function r(S,M,T,R,P){M.isMeshBasicMaterial?a(S,M):M.isMeshLambertMaterial?(a(S,M),M.envMap&&(S.envMapIntensity.value=M.envMapIntensity)):M.isMeshToonMaterial?(a(S,M),g(S,M)):M.isMeshPhongMaterial?(a(S,M),p(S,M),M.envMap&&(S.envMapIntensity.value=M.envMapIntensity)):M.isMeshStandardMaterial?(a(S,M),v(S,M),M.isMeshPhysicalMaterial&&x(S,M,P)):M.isMeshMatcapMaterial?(a(S,M),_(S,M)):M.isMeshDepthMaterial?a(S,M):M.isMeshDistanceMaterial?(a(S,M),w(S,M)):M.isMeshNormalMaterial?a(S,M):M.isLineBasicMaterial?(s(S,M),M.isLineDashedMaterial&&l(S,M)):M.isPointsMaterial?c(S,M,T,R):M.isSpriteMaterial?h(S,M):M.isShadowMaterial?(S.color.value.copy(M.color),S.opacity.value=M.opacity):M.isShaderMaterial&&(M.uniformsNeedUpdate=!1)}function a(S,M){S.opacity.value=M.opacity,M.color&&S.diffuse.value.copy(M.color),M.emissive&&S.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity),M.map&&(S.map.value=M.map,n(M.map,S.mapTransform)),M.alphaMap&&(S.alphaMap.value=M.alphaMap,n(M.alphaMap,S.alphaMapTransform)),M.bumpMap&&(S.bumpMap.value=M.bumpMap,n(M.bumpMap,S.bumpMapTransform),S.bumpScale.value=M.bumpScale,M.side===ps&&(S.bumpScale.value*=-1)),M.normalMap&&(S.normalMap.value=M.normalMap,n(M.normalMap,S.normalMapTransform),S.normalScale.value.copy(M.normalScale),M.side===ps&&S.normalScale.value.negate()),M.displacementMap&&(S.displacementMap.value=M.displacementMap,n(M.displacementMap,S.displacementMapTransform),S.displacementScale.value=M.displacementScale,S.displacementBias.value=M.displacementBias),M.emissiveMap&&(S.emissiveMap.value=M.emissiveMap,n(M.emissiveMap,S.emissiveMapTransform)),M.specularMap&&(S.specularMap.value=M.specularMap,n(M.specularMap,S.specularMapTransform)),M.alphaTest>0&&(S.alphaTest.value=M.alphaTest);const T=e.get(M),R=T.envMap,P=T.envMapRotation;R&&(S.envMap.value=R,Td.copy(P),Td.x*=-1,Td.y*=-1,Td.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(Td.y*=-1,Td.z*=-1),S.envMapRotation.value.setFromMatrix4(Jee.makeRotationFromEuler(Td)),S.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=M.reflectivity,S.ior.value=M.ior,S.refractionRatio.value=M.refractionRatio),M.lightMap&&(S.lightMap.value=M.lightMap,S.lightMapIntensity.value=M.lightMapIntensity,n(M.lightMap,S.lightMapTransform)),M.aoMap&&(S.aoMap.value=M.aoMap,S.aoMapIntensity.value=M.aoMapIntensity,n(M.aoMap,S.aoMapTransform))}function s(S,M){S.diffuse.value.copy(M.color),S.opacity.value=M.opacity,M.map&&(S.map.value=M.map,n(M.map,S.mapTransform))}function l(S,M){S.dashSize.value=M.dashSize,S.totalSize.value=M.dashSize+M.gapSize,S.scale.value=M.scale}function c(S,M,T,R){S.diffuse.value.copy(M.color),S.opacity.value=M.opacity,S.size.value=M.size*T,S.scale.value=R*.5,M.map&&(S.map.value=M.map,n(M.map,S.uvTransform)),M.alphaMap&&(S.alphaMap.value=M.alphaMap,n(M.alphaMap,S.alphaMapTransform)),M.alphaTest>0&&(S.alphaTest.value=M.alphaTest)}function h(S,M){S.diffuse.value.copy(M.color),S.opacity.value=M.opacity,S.rotation.value=M.rotation,M.map&&(S.map.value=M.map,n(M.map,S.mapTransform)),M.alphaMap&&(S.alphaMap.value=M.alphaMap,n(M.alphaMap,S.alphaMapTransform)),M.alphaTest>0&&(S.alphaTest.value=M.alphaTest)}function p(S,M){S.specular.value.copy(M.specular),S.shininess.value=Math.max(M.shininess,1e-4)}function g(S,M){M.gradientMap&&(S.gradientMap.value=M.gradientMap)}function v(S,M){S.metalness.value=M.metalness,M.metalnessMap&&(S.metalnessMap.value=M.metalnessMap,n(M.metalnessMap,S.metalnessMapTransform)),S.roughness.value=M.roughness,M.roughnessMap&&(S.roughnessMap.value=M.roughnessMap,n(M.roughnessMap,S.roughnessMapTransform)),M.envMap&&(S.envMapIntensity.value=M.envMapIntensity)}function x(S,M,T){S.ior.value=M.ior,M.sheen>0&&(S.sheenColor.value.copy(M.sheenColor).multiplyScalar(M.sheen),S.sheenRoughness.value=M.sheenRoughness,M.sheenColorMap&&(S.sheenColorMap.value=M.sheenColorMap,n(M.sheenColorMap,S.sheenColorMapTransform)),M.sheenRoughnessMap&&(S.sheenRoughnessMap.value=M.sheenRoughnessMap,n(M.sheenRoughnessMap,S.sheenRoughnessMapTransform))),M.clearcoat>0&&(S.clearcoat.value=M.clearcoat,S.clearcoatRoughness.value=M.clearcoatRoughness,M.clearcoatMap&&(S.clearcoatMap.value=M.clearcoatMap,n(M.clearcoatMap,S.clearcoatMapTransform)),M.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=M.clearcoatRoughnessMap,n(M.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),M.clearcoatNormalMap&&(S.clearcoatNormalMap.value=M.clearcoatNormalMap,n(M.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(M.clearcoatNormalScale),M.side===ps&&S.clearcoatNormalScale.value.negate())),M.dispersion>0&&(S.dispersion.value=M.dispersion),M.iridescence>0&&(S.iridescence.value=M.iridescence,S.iridescenceIOR.value=M.iridescenceIOR,S.iridescenceThicknessMinimum.value=M.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=M.iridescenceThicknessRange[1],M.iridescenceMap&&(S.iridescenceMap.value=M.iridescenceMap,n(M.iridescenceMap,S.iridescenceMapTransform)),M.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=M.iridescenceThicknessMap,n(M.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),M.transmission>0&&(S.transmission.value=M.transmission,S.transmissionSamplerMap.value=T.texture,S.transmissionSamplerSize.value.set(T.width,T.height),M.transmissionMap&&(S.transmissionMap.value=M.transmissionMap,n(M.transmissionMap,S.transmissionMapTransform)),S.thickness.value=M.thickness,M.thicknessMap&&(S.thicknessMap.value=M.thicknessMap,n(M.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=M.attenuationDistance,S.attenuationColor.value.copy(M.attenuationColor)),M.anisotropy>0&&(S.anisotropyVector.value.set(M.anisotropy*Math.cos(M.anisotropyRotation),M.anisotropy*Math.sin(M.anisotropyRotation)),M.anisotropyMap&&(S.anisotropyMap.value=M.anisotropyMap,n(M.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=M.specularIntensity,S.specularColor.value.copy(M.specularColor),M.specularColorMap&&(S.specularColorMap.value=M.specularColorMap,n(M.specularColorMap,S.specularColorMapTransform)),M.specularIntensityMap&&(S.specularIntensityMap.value=M.specularIntensityMap,n(M.specularIntensityMap,S.specularIntensityMapTransform))}function _(S,M){M.matcap&&(S.matcap.value=M.matcap)}function w(S,M){const T=e.get(M).light;S.referencePosition.value.setFromMatrixPosition(T.matrixWorld),S.nearDistance.value=T.shadow.camera.near,S.farDistance.value=T.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function tte(t,e,n,i){let r={},a={},s=[];const l=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function c(T,R){const P=R.program;i.uniformBlockBinding(T,P)}function h(T,R){let P=r[T.id];P===void 0&&(_(T),P=p(T),r[T.id]=P,T.addEventListener("dispose",S));const L=R.program;i.updateUBOMapping(T,L);const I=e.render.frame;a[T.id]!==I&&(v(T),a[T.id]=I)}function p(T){const R=g();T.__bindingPointIndex=R;const P=t.createBuffer(),L=T.__size,I=T.usage;return t.bindBuffer(t.UNIFORM_BUFFER,P),t.bufferData(t.UNIFORM_BUFFER,L,I),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,R,P),P}function g(){for(let T=0;T<l;T++)if(s.indexOf(T)===-1)return s.push(T),T;return Kt("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(T){const R=r[T.id],P=T.uniforms,L=T.__cache;t.bindBuffer(t.UNIFORM_BUFFER,R);for(let I=0,B=P.length;I<B;I++){const D=Array.isArray(P[I])?P[I]:[P[I]];for(let z=0,W=D.length;z<W;z++){const j=D[z];if(x(j,I,z,L)===!0){const G=j.__offset,J=Array.isArray(j.value)?j.value:[j.value];let te=0;for(let ie=0;ie<J.length;ie++){const q=J[ie],K=w(q);typeof q=="number"||typeof q=="boolean"?(j.__data[0]=q,t.bufferSubData(t.UNIFORM_BUFFER,G+te,j.__data)):q.isMatrix3?(j.__data[0]=q.elements[0],j.__data[1]=q.elements[1],j.__data[2]=q.elements[2],j.__data[3]=0,j.__data[4]=q.elements[3],j.__data[5]=q.elements[4],j.__data[6]=q.elements[5],j.__data[7]=0,j.__data[8]=q.elements[6],j.__data[9]=q.elements[7],j.__data[10]=q.elements[8],j.__data[11]=0):(q.toArray(j.__data,te),te+=K.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,G,j.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function x(T,R,P,L){const I=T.value,B=R+"_"+P;if(L[B]===void 0)return typeof I=="number"||typeof I=="boolean"?L[B]=I:L[B]=I.clone(),!0;{const D=L[B];if(typeof I=="number"||typeof I=="boolean"){if(D!==I)return L[B]=I,!0}else if(D.equals(I)===!1)return D.copy(I),!0}return!1}function _(T){const R=T.uniforms;let P=0;const L=16;for(let B=0,D=R.length;B<D;B++){const z=Array.isArray(R[B])?R[B]:[R[B]];for(let W=0,j=z.length;W<j;W++){const G=z[W],J=Array.isArray(G.value)?G.value:[G.value];for(let te=0,ie=J.length;te<ie;te++){const q=J[te],K=w(q),pe=P%L,de=pe%K.boundary,_e=pe+de;P+=de,_e!==0&&L-_e<K.storage&&(P+=L-_e),G.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=P,P+=K.storage}}}const I=P%L;return I>0&&(P+=L-I),T.__size=P,T.__cache={},this}function w(T){const R={boundary:0,storage:0};return typeof T=="number"||typeof T=="boolean"?(R.boundary=4,R.storage=4):T.isVector2?(R.boundary=8,R.storage=8):T.isVector3||T.isColor?(R.boundary=16,R.storage=12):T.isVector4?(R.boundary=16,R.storage=16):T.isMatrix3?(R.boundary=48,R.storage=48):T.isMatrix4?(R.boundary=64,R.storage=64):T.isTexture?Ct("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Ct("WebGLRenderer: Unsupported uniform value type.",T),R}function S(T){const R=T.target;R.removeEventListener("dispose",S);const P=s.indexOf(R.__bindingPointIndex);s.splice(P,1),t.deleteBuffer(r[R.id]),delete r[R.id],delete a[R.id]}function M(){for(const T in r)t.deleteBuffer(r[T]);s=[],r={},a={}}return{bind:c,update:h,dispose:M}}const nte=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let Mu=null;function ite(){return Mu===null&&(Mu=new Yo(nte,16,16,ap,rr),Mu.name="DFG_LUT",Mu.minFilter=kn,Mu.magFilter=kn,Mu.wrapS=pr,Mu.wrapT=pr,Mu.generateMipmaps=!1,Mu.needsUpdate=!0),Mu}class A3{constructor(e={}){const{canvas:n=o6(),context:i=null,depth:r=!0,stencil:a=!1,alpha:s=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:h=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:g=!1,reversedDepthBuffer:v=!1,outputBufferType:x=aa}=e;this.isWebGLRenderer=!0;let _;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=i.getContextAttributes().alpha}else _=s;const w=x,S=new Set([Lw,Nw,Ix]),M=new Set([aa,co,Cg,Rg,Dw,Iw]),T=new Uint32Array(4),R=new Int32Array(4);let P=null,L=null;const I=[],B=[];let D=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=$o,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const z=this;let W=!1;this._outputColorSpace=Ta;let j=0,G=0,J=null,te=-1,ie=null;const q=new ii,K=new ii;let pe=null;const de=new Ut(0);let _e=0,Y=n.width,re=n.height,Me=1,ke=null,mt=null;const me=new ii(0,0,Y,re),De=new ii(0,0,Y,re);let Ye=!1;const xe=new Kg;let ot=!1,xt=!1;const je=new on,Nt=new ee,Pe=new ii,qe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let He=!1;function ft(){return J===null?Me:1}let ne=i;function Vt(H,oe){return n.getContext(H,oe)}try{const H={alpha:!0,depth:r,stencil:a,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:h,powerPreference:p,failIfMajorPerformanceCaveat:g};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${$g}`),n.addEventListener("webglcontextlost",Lt,!1),n.addEventListener("webglcontextrestored",rn,!1),n.addEventListener("webglcontextcreationerror",Rn,!1),ne===null){const oe="webgl2";if(ne=Vt(oe,H),ne===null)throw Vt(oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(H){throw Kt("WebGLRenderer: "+H.message),H}let Mt,Gt,ht,Q,F,ge,Ie,Xe,Ue,Et,dt,Ht,Yt,Je,Ze,Ot,wt,St,Xt,ve,Te,ut,Pt;function at(){Mt=new aJ(ne),Mt.init(),Te=new y8(ne,Mt),Gt=new KQ(ne,Mt,e,Te),ht=new Xee(ne,Mt),Gt.reversedDepthBuffer&&v&&ht.buffers.depth.setReversed(!0),Q=new lJ(ne),F=new Iee,ge=new $ee(ne,Mt,ht,F,Gt,Te,Q),Ie=new rJ(z),Xe=new dZ(ne),ut=new YQ(ne,Xe),Ue=new sJ(ne,Xe,Q,ut),Et=new cJ(ne,Ue,Xe,ut,Q),St=new uJ(ne,Gt,ge),Ze=new QQ(F),dt=new Dee(z,Ie,Mt,Gt,ut,Ze),Ht=new ete(z,F),Yt=new Lee,Je=new Vee(Mt),wt=new $Q(z,Ie,ht,Et,_,c),Ot=new qee(z,Et,Gt),Pt=new tte(ne,Q,Gt,ht),Xt=new ZQ(ne,Mt,Q),ve=new oJ(ne,Mt,Q),Q.programs=dt.programs,z.capabilities=Gt,z.extensions=Mt,z.properties=F,z.renderLists=Yt,z.shadowMap=Ot,z.state=ht,z.info=Q}at(),w!==aa&&(D=new hJ(w,n.width,n.height,r,a));const Fe=new Qee(z,ne);this.xr=Fe,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const H=Mt.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=Mt.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return Me},this.setPixelRatio=function(H){H!==void 0&&(Me=H,this.setSize(Y,re,!1))},this.getSize=function(H){return H.set(Y,re)},this.setSize=function(H,oe,ce=!0){if(Fe.isPresenting){Ct("WebGLRenderer: Can't change size while VR device is presenting.");return}Y=H,re=oe,n.width=Math.floor(H*Me),n.height=Math.floor(oe*Me),ce===!0&&(n.style.width=H+"px",n.style.height=oe+"px"),D!==null&&D.setSize(n.width,n.height),this.setViewport(0,0,H,oe)},this.getDrawingBufferSize=function(H){return H.set(Y*Me,re*Me).floor()},this.setDrawingBufferSize=function(H,oe,ce){Y=H,re=oe,Me=ce,n.width=Math.floor(H*ce),n.height=Math.floor(oe*ce),this.setViewport(0,0,H,oe)},this.setEffects=function(H){if(w===aa){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(H){for(let oe=0;oe<H.length;oe++)if(H[oe].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}D.setEffects(H||[])},this.getCurrentViewport=function(H){return H.copy(q)},this.getViewport=function(H){return H.copy(me)},this.setViewport=function(H,oe,ce,ue){H.isVector4?me.set(H.x,H.y,H.z,H.w):me.set(H,oe,ce,ue),ht.viewport(q.copy(me).multiplyScalar(Me).round())},this.getScissor=function(H){return H.copy(De)},this.setScissor=function(H,oe,ce,ue){H.isVector4?De.set(H.x,H.y,H.z,H.w):De.set(H,oe,ce,ue),ht.scissor(K.copy(De).multiplyScalar(Me).round())},this.getScissorTest=function(){return Ye},this.setScissorTest=function(H){ht.setScissorTest(Ye=H)},this.setOpaqueSort=function(H){ke=H},this.setTransparentSort=function(H){mt=H},this.getClearColor=function(H){return H.copy(wt.getClearColor())},this.setClearColor=function(){wt.setClearColor(...arguments)},this.getClearAlpha=function(){return wt.getClearAlpha()},this.setClearAlpha=function(){wt.setClearAlpha(...arguments)},this.clear=function(H=!0,oe=!0,ce=!0){let ue=0;if(H){let fe=!1;if(J!==null){const Ge=J.texture.format;fe=S.has(Ge)}if(fe){const Ge=J.texture.type,et=M.has(Ge),tt=wt.getClearColor(),rt=wt.getClearAlpha(),Tt=tt.r,Rt=tt.g,Zt=tt.b;et?(T[0]=Tt,T[1]=Rt,T[2]=Zt,T[3]=rt,ne.clearBufferuiv(ne.COLOR,0,T)):(R[0]=Tt,R[1]=Rt,R[2]=Zt,R[3]=rt,ne.clearBufferiv(ne.COLOR,0,R))}else ue|=ne.COLOR_BUFFER_BIT}oe&&(ue|=ne.DEPTH_BUFFER_BIT),ce&&(ue|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ue!==0&&ne.clear(ue)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Lt,!1),n.removeEventListener("webglcontextrestored",rn,!1),n.removeEventListener("webglcontextcreationerror",Rn,!1),wt.dispose(),Yt.dispose(),Je.dispose(),F.dispose(),Ie.dispose(),Et.dispose(),ut.dispose(),Pt.dispose(),dt.dispose(),Fe.dispose(),Fe.removeEventListener("sessionstart",$s),Fe.removeEventListener("sessionend",fa),Ar.stop()};function Lt(H){H.preventDefault(),Qy("WebGLRenderer: Context Lost."),W=!0}function rn(){Qy("WebGLRenderer: Context Restored."),W=!1;const H=Q.autoReset,oe=Ot.enabled,ce=Ot.autoUpdate,ue=Ot.needsUpdate,fe=Ot.type;at(),Q.autoReset=H,Ot.enabled=oe,Ot.autoUpdate=ce,Ot.needsUpdate=ue,Ot.type=fe}function Rn(H){Kt("WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function In(H){const oe=H.target;oe.removeEventListener("dispose",In),Er(oe)}function Er(H){$r(H),F.remove(H)}function $r(H){const oe=F.get(H).programs;oe!==void 0&&(oe.forEach(function(ce){dt.releaseProgram(ce)}),H.isShaderMaterial&&dt.releaseShaderCache(H))}this.renderBufferDirect=function(H,oe,ce,ue,fe,Ge){oe===null&&(oe=qe);const et=fe.isMesh&&fe.matrixWorld.determinant()<0,tt=Ve(H,oe,ce,ue,fe);ht.setMaterial(ue,et);let rt=ce.index,Tt=1;if(ue.wireframe===!0){if(rt=Ue.getWireframeAttribute(ce),rt===void 0)return;Tt=2}const Rt=ce.drawRange,Zt=ce.attributes.position;let pt=Rt.start*Tt,Wt=(Rt.start+Rt.count)*Tt;Ge!==null&&(pt=Math.max(pt,Ge.start*Tt),Wt=Math.min(Wt,(Ge.start+Ge.count)*Tt)),rt!==null?(pt=Math.max(pt,0),Wt=Math.min(Wt,rt.count)):Zt!=null&&(pt=Math.max(pt,0),Wt=Math.min(Wt,Zt.count));const Nn=Wt-pt;if(Nn<0||Nn===1/0)return;ut.setup(fe,ue,tt,ce,rt);let Wn,cn=Xt;if(rt!==null&&(Wn=Xe.get(rt),cn=ve,cn.setIndex(Wn)),fe.isMesh)ue.wireframe===!0?(ht.setLineWidth(ue.wireframeLinewidth*ft()),cn.setMode(ne.LINES)):cn.setMode(ne.TRIANGLES);else if(fe.isLine){let jt=ue.linewidth;jt===void 0&&(jt=1),ht.setLineWidth(jt*ft()),fe.isLineSegments?cn.setMode(ne.LINES):fe.isLineLoop?cn.setMode(ne.LINE_LOOP):cn.setMode(ne.LINE_STRIP)}else fe.isPoints?cn.setMode(ne.POINTS):fe.isSprite&&cn.setMode(ne.TRIANGLES);if(fe.isBatchedMesh)if(fe._multiDrawInstances!==null)Jy("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),cn.renderMultiDrawInstances(fe._multiDrawStarts,fe._multiDrawCounts,fe._multiDrawCount,fe._multiDrawInstances);else if(Mt.get("WEBGL_multi_draw"))cn.renderMultiDraw(fe._multiDrawStarts,fe._multiDrawCounts,fe._multiDrawCount);else{const jt=fe._multiDrawStarts,st=fe._multiDrawCounts,dn=fe._multiDrawCount,At=rt?Xe.get(rt).bytesPerElement:1,$n=F.get(ue).currentProgram.getUniforms();for(let Ci=0;Ci<dn;Ci++)$n.setValue(ne,"_gl_DrawID",Ci),cn.render(jt[Ci]/At,st[Ci])}else if(fe.isInstancedMesh)cn.renderInstances(pt,Nn,fe.count);else if(ce.isInstancedBufferGeometry){const jt=ce._maxInstanceCount!==void 0?ce._maxInstanceCount:1/0,st=Math.min(ce.instanceCount,jt);cn.renderInstances(pt,Nn,st)}else cn.render(pt,Nn)};function qs(H,oe,ce){H.transparent===!0&&H.side===Rl&&H.forceSinglePass===!1?(H.side=ps,H.needsUpdate=!0,ae(H,oe,ce),H.side=Lc,H.needsUpdate=!0,ae(H,oe,ce),H.side=Rl):ae(H,oe,ce)}this.compile=function(H,oe,ce=null){ce===null&&(ce=H),L=Je.get(ce),L.init(oe),B.push(L),ce.traverseVisible(function(fe){fe.isLight&&fe.layers.test(oe.layers)&&(L.pushLight(fe),fe.castShadow&&L.pushShadow(fe))}),H!==ce&&H.traverseVisible(function(fe){fe.isLight&&fe.layers.test(oe.layers)&&(L.pushLight(fe),fe.castShadow&&L.pushShadow(fe))}),L.setupLights();const ue=new Set;return H.traverse(function(fe){if(!(fe.isMesh||fe.isPoints||fe.isLine||fe.isSprite))return;const Ge=fe.material;if(Ge)if(Array.isArray(Ge))for(let et=0;et<Ge.length;et++){const tt=Ge[et];qs(tt,ce,fe),ue.add(tt)}else qs(Ge,ce,fe),ue.add(Ge)}),L=B.pop(),ue},this.compileAsync=function(H,oe,ce=null){const ue=this.compile(H,oe,ce);return new Promise(fe=>{function Ge(){if(ue.forEach(function(et){F.get(et).currentProgram.isReady()&&ue.delete(et)}),ue.size===0){fe(H);return}setTimeout(Ge,10)}Mt.get("KHR_parallel_shader_compile")!==null?Ge():setTimeout(Ge,10)})};let Xs=null;function po(H){Xs&&Xs(H)}function $s(){Ar.stop()}function fa(){Ar.start()}const Ar=new d8;Ar.setAnimationLoop(po),typeof self<"u"&&Ar.setContext(self),this.setAnimationLoop=function(H){Xs=H,Fe.setAnimationLoop(H),H===null?Ar.stop():Ar.start()},Fe.addEventListener("sessionstart",$s),Fe.addEventListener("sessionend",fa),this.render=function(H,oe){if(oe!==void 0&&oe.isCamera!==!0){Kt("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(W===!0)return;const ce=Fe.enabled===!0&&Fe.isPresenting===!0,ue=D!==null&&(J===null||ce)&&D.begin(z,J);if(H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),oe.parent===null&&oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),Fe.enabled===!0&&Fe.isPresenting===!0&&(D===null||D.isCompositing()===!1)&&(Fe.cameraAutoUpdate===!0&&Fe.updateCamera(oe),oe=Fe.getCamera()),H.isScene===!0&&H.onBeforeRender(z,H,oe,J),L=Je.get(H,B.length),L.init(oe),B.push(L),je.multiplyMatrices(oe.projectionMatrix,oe.matrixWorldInverse),xe.setFromProjectionMatrix(je,io,oe.reversedDepth),xt=this.localClippingEnabled,ot=Ze.init(this.clippingPlanes,xt),P=Yt.get(H,I.length),P.init(),I.push(P),Fe.enabled===!0&&Fe.isPresenting===!0){const et=z.xr.getDepthSensingMesh();et!==null&&ln(et,oe,-1/0,z.sortObjects)}ln(H,oe,0,z.sortObjects),P.finish(),z.sortObjects===!0&&P.sort(ke,mt),He=Fe.enabled===!1||Fe.isPresenting===!1||Fe.hasDepthSensing()===!1,He&&wt.addToRenderList(P,H),this.info.render.frame++,ot===!0&&Ze.beginShadows();const fe=L.state.shadowsArray;if(Ot.render(fe,H,oe),ot===!0&&Ze.endShadows(),this.info.autoReset===!0&&this.info.reset(),(ue&&D.hasRenderPass())===!1){const et=P.opaque,tt=P.transmissive;if(L.setupLights(),oe.isArrayCamera){const rt=oe.cameras;if(tt.length>0)for(let Tt=0,Rt=rt.length;Tt<Rt;Tt++){const Zt=rt[Tt];vi(et,tt,H,Zt)}He&&wt.render(H);for(let Tt=0,Rt=rt.length;Tt<Rt;Tt++){const Zt=rt[Tt];ha(P,H,Zt,Zt.viewport)}}else tt.length>0&&vi(et,tt,H,oe),He&&wt.render(H),ha(P,H,oe)}J!==null&&G===0&&(ge.updateMultisampleRenderTarget(J),ge.updateRenderTargetMipmap(J)),ue&&D.end(z),H.isScene===!0&&H.onAfterRender(z,H,oe),ut.resetDefaultState(),te=-1,ie=null,B.pop(),B.length>0?(L=B[B.length-1],ot===!0&&Ze.setGlobalState(z.clippingPlanes,L.state.camera)):L=null,I.pop(),I.length>0?P=I[I.length-1]:P=null};function ln(H,oe,ce,ue){if(H.visible===!1)return;if(H.layers.test(oe.layers)){if(H.isGroup)ce=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(oe);else if(H.isLight)L.pushLight(H),H.castShadow&&L.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||xe.intersectsSprite(H)){ue&&Pe.setFromMatrixPosition(H.matrixWorld).applyMatrix4(je);const et=Et.update(H),tt=H.material;tt.visible&&P.push(H,et,tt,ce,Pe.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(!H.frustumCulled||xe.intersectsObject(H))){const et=Et.update(H),tt=H.material;if(ue&&(H.boundingSphere!==void 0?(H.boundingSphere===null&&H.computeBoundingSphere(),Pe.copy(H.boundingSphere.center)):(et.boundingSphere===null&&et.computeBoundingSphere(),Pe.copy(et.boundingSphere.center)),Pe.applyMatrix4(H.matrixWorld).applyMatrix4(je)),Array.isArray(tt)){const rt=et.groups;for(let Tt=0,Rt=rt.length;Tt<Rt;Tt++){const Zt=rt[Tt],pt=tt[Zt.materialIndex];pt&&pt.visible&&P.push(H,et,pt,ce,Pe.z,Zt)}}else tt.visible&&P.push(H,et,tt,ce,Pe.z,null)}}const Ge=H.children;for(let et=0,tt=Ge.length;et<tt;et++)ln(Ge[et],oe,ce,ue)}function ha(H,oe,ce,ue){const{opaque:fe,transmissive:Ge,transparent:et}=H;L.setupLightsView(ce),ot===!0&&Ze.setGlobalState(z.clippingPlanes,ce),ue&&ht.viewport(q.copy(ue)),fe.length>0&&V(fe,oe,ce),Ge.length>0&&V(Ge,oe,ce),et.length>0&&V(et,oe,ce),ht.buffers.depth.setTest(!0),ht.buffers.depth.setMask(!0),ht.buffers.color.setMask(!0),ht.setPolygonOffset(!1)}function vi(H,oe,ce,ue){if((ce.isScene===!0?ce.overrideMaterial:null)!==null)return;if(L.state.transmissionRenderTarget[ue.id]===void 0){const pt=Mt.has("EXT_color_buffer_half_float")||Mt.has("EXT_color_buffer_float");L.state.transmissionRenderTarget[ue.id]=new Xa(1,1,{generateMipmaps:!0,type:pt?rr:aa,minFilter:Pu,samples:Gt.samples,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Hn.workingColorSpace})}const Ge=L.state.transmissionRenderTarget[ue.id],et=ue.viewport||q;Ge.setSize(et.z*z.transmissionResolutionScale,et.w*z.transmissionResolutionScale);const tt=z.getRenderTarget(),rt=z.getActiveCubeFace(),Tt=z.getActiveMipmapLevel();z.setRenderTarget(Ge),z.getClearColor(de),_e=z.getClearAlpha(),_e<1&&z.setClearColor(16777215,.5),z.clear(),He&&wt.render(ce);const Rt=z.toneMapping;z.toneMapping=$o;const Zt=ue.viewport;if(ue.viewport!==void 0&&(ue.viewport=void 0),L.setupLightsView(ue),ot===!0&&Ze.setGlobalState(z.clippingPlanes,ue),V(H,ce,ue),ge.updateMultisampleRenderTarget(Ge),ge.updateRenderTargetMipmap(Ge),Mt.has("WEBGL_multisampled_render_to_texture")===!1){let pt=!1;for(let Wt=0,Nn=oe.length;Wt<Nn;Wt++){const Wn=oe[Wt],{object:cn,geometry:jt,material:st,group:dn}=Wn;if(st.side===Rl&&cn.layers.test(ue.layers)){const At=st.side;st.side=ps,st.needsUpdate=!0,Z(cn,ce,ue,jt,st,dn),st.side=At,st.needsUpdate=!0,pt=!0}}pt===!0&&(ge.updateMultisampleRenderTarget(Ge),ge.updateRenderTargetMipmap(Ge))}z.setRenderTarget(tt,rt,Tt),z.setClearColor(de,_e),Zt!==void 0&&(ue.viewport=Zt),z.toneMapping=Rt}function V(H,oe,ce){const ue=oe.isScene===!0?oe.overrideMaterial:null;for(let fe=0,Ge=H.length;fe<Ge;fe++){const et=H[fe],{object:tt,geometry:rt,group:Tt}=et;let Rt=et.material;Rt.allowOverride===!0&&ue!==null&&(Rt=ue),tt.layers.test(ce.layers)&&Z(tt,oe,ce,rt,Rt,Tt)}}function Z(H,oe,ce,ue,fe,Ge){H.onBeforeRender(z,oe,ce,ue,fe,Ge),H.modelViewMatrix.multiplyMatrices(ce.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),fe.onBeforeRender(z,oe,ce,ue,H,Ge),fe.transparent===!0&&fe.side===Rl&&fe.forceSinglePass===!1?(fe.side=ps,fe.needsUpdate=!0,z.renderBufferDirect(ce,oe,ue,fe,H,Ge),fe.side=Lc,fe.needsUpdate=!0,z.renderBufferDirect(ce,oe,ue,fe,H,Ge),fe.side=Rl):z.renderBufferDirect(ce,oe,ue,fe,H,Ge),H.onAfterRender(z,oe,ce,ue,fe,Ge)}function ae(H,oe,ce){oe.isScene!==!0&&(oe=qe);const ue=F.get(H),fe=L.state.lights,Ge=L.state.shadowsArray,et=fe.state.version,tt=dt.getParameters(H,fe.state,Ge,oe,ce),rt=dt.getProgramCacheKey(tt);let Tt=ue.programs;ue.environment=H.isMeshStandardMaterial||H.isMeshLambertMaterial||H.isMeshPhongMaterial?oe.environment:null,ue.fog=oe.fog;const Rt=H.isMeshStandardMaterial||H.isMeshLambertMaterial&&!H.envMap||H.isMeshPhongMaterial&&!H.envMap;ue.envMap=Ie.get(H.envMap||ue.environment,Rt),ue.envMapRotation=ue.environment!==null&&H.envMap===null?oe.environmentRotation:H.envMapRotation,Tt===void 0&&(H.addEventListener("dispose",In),Tt=new Map,ue.programs=Tt);let Zt=Tt.get(rt);if(Zt!==void 0){if(ue.currentProgram===Zt&&ue.lightsStateVersion===et)return ze(H,tt),Zt}else tt.uniforms=dt.getUniforms(H),H.onBeforeCompile(tt,z),Zt=dt.acquireProgram(tt,rt),Tt.set(rt,Zt),ue.uniforms=tt.uniforms;const pt=ue.uniforms;return(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(pt.clippingPlanes=Ze.uniform),ze(H,tt),ue.needsLights=nt(H),ue.lightsStateVersion=et,ue.needsLights&&(pt.ambientLightColor.value=fe.state.ambient,pt.lightProbe.value=fe.state.probe,pt.directionalLights.value=fe.state.directional,pt.directionalLightShadows.value=fe.state.directionalShadow,pt.spotLights.value=fe.state.spot,pt.spotLightShadows.value=fe.state.spotShadow,pt.rectAreaLights.value=fe.state.rectArea,pt.ltc_1.value=fe.state.rectAreaLTC1,pt.ltc_2.value=fe.state.rectAreaLTC2,pt.pointLights.value=fe.state.point,pt.pointLightShadows.value=fe.state.pointShadow,pt.hemisphereLights.value=fe.state.hemi,pt.directionalShadowMatrix.value=fe.state.directionalShadowMatrix,pt.spotLightMatrix.value=fe.state.spotLightMatrix,pt.spotLightMap.value=fe.state.spotLightMap,pt.pointShadowMatrix.value=fe.state.pointShadowMatrix),ue.currentProgram=Zt,ue.uniformsList=null,Zt}function we(H){if(H.uniformsList===null){const oe=H.currentProgram.getUniforms();H.uniformsList=g1.seqWithValue(oe.seq,H.uniforms)}return H.uniformsList}function ze(H,oe){const ce=F.get(H);ce.outputColorSpace=oe.outputColorSpace,ce.batching=oe.batching,ce.batchingColor=oe.batchingColor,ce.instancing=oe.instancing,ce.instancingColor=oe.instancingColor,ce.instancingMorph=oe.instancingMorph,ce.skinning=oe.skinning,ce.morphTargets=oe.morphTargets,ce.morphNormals=oe.morphNormals,ce.morphColors=oe.morphColors,ce.morphTargetsCount=oe.morphTargetsCount,ce.numClippingPlanes=oe.numClippingPlanes,ce.numIntersection=oe.numClipIntersection,ce.vertexAlphas=oe.vertexAlphas,ce.vertexTangents=oe.vertexTangents,ce.toneMapping=oe.toneMapping}function Ve(H,oe,ce,ue,fe){oe.isScene!==!0&&(oe=qe),ge.resetTextureUnits();const Ge=oe.fog,et=ue.isMeshStandardMaterial||ue.isMeshLambertMaterial||ue.isMeshPhongMaterial?oe.environment:null,tt=J===null?z.outputColorSpace:J.isXRRenderTarget===!0?J.texture.colorSpace:kl,rt=ue.isMeshStandardMaterial||ue.isMeshLambertMaterial&&!ue.envMap||ue.isMeshPhongMaterial&&!ue.envMap,Tt=Ie.get(ue.envMap||et,rt),Rt=ue.vertexColors===!0&&!!ce.attributes.color&&ce.attributes.color.itemSize===4,Zt=!!ce.attributes.tangent&&(!!ue.normalMap||ue.anisotropy>0),pt=!!ce.morphAttributes.position,Wt=!!ce.morphAttributes.normal,Nn=!!ce.morphAttributes.color;let Wn=$o;ue.toneMapped&&(J===null||J.isXRRenderTarget===!0)&&(Wn=z.toneMapping);const cn=ce.morphAttributes.position||ce.morphAttributes.normal||ce.morphAttributes.color,jt=cn!==void 0?cn.length:0,st=F.get(ue),dn=L.state.lights;if(ot===!0&&(xt===!0||H!==ie)){const Yi=H===ie&&ue.id===te;Ze.setState(ue,H,Yi)}let At=!1;ue.version===st.__version?(st.needsLights&&st.lightsStateVersion!==dn.state.version||st.outputColorSpace!==tt||fe.isBatchedMesh&&st.batching===!1||!fe.isBatchedMesh&&st.batching===!0||fe.isBatchedMesh&&st.batchingColor===!0&&fe.colorTexture===null||fe.isBatchedMesh&&st.batchingColor===!1&&fe.colorTexture!==null||fe.isInstancedMesh&&st.instancing===!1||!fe.isInstancedMesh&&st.instancing===!0||fe.isSkinnedMesh&&st.skinning===!1||!fe.isSkinnedMesh&&st.skinning===!0||fe.isInstancedMesh&&st.instancingColor===!0&&fe.instanceColor===null||fe.isInstancedMesh&&st.instancingColor===!1&&fe.instanceColor!==null||fe.isInstancedMesh&&st.instancingMorph===!0&&fe.morphTexture===null||fe.isInstancedMesh&&st.instancingMorph===!1&&fe.morphTexture!==null||st.envMap!==Tt||ue.fog===!0&&st.fog!==Ge||st.numClippingPlanes!==void 0&&(st.numClippingPlanes!==Ze.numPlanes||st.numIntersection!==Ze.numIntersection)||st.vertexAlphas!==Rt||st.vertexTangents!==Zt||st.morphTargets!==pt||st.morphNormals!==Wt||st.morphColors!==Nn||st.toneMapping!==Wn||st.morphTargetsCount!==jt)&&(At=!0):(At=!0,st.__version=ue.version);let $n=st.currentProgram;At===!0&&($n=ae(ue,oe,fe));let Ci=!1,jn=!1,yi=!1;const qn=$n.getUniforms(),Fi=st.uniforms;if(ht.useProgram($n.program)&&(Ci=!0,jn=!0,yi=!0),ue.id!==te&&(te=ue.id,jn=!0),Ci||ie!==H){ht.buffers.depth.getReversed()&&H.reversedDepth!==!0&&(H._reversedDepth=!0,H.updateProjectionMatrix()),qn.setValue(ne,"projectionMatrix",H.projectionMatrix),qn.setValue(ne,"viewMatrix",H.matrixWorldInverse);const bs=qn.map.cameraPosition;bs!==void 0&&bs.setValue(ne,Nt.setFromMatrixPosition(H.matrixWorld)),Gt.logarithmicDepthBuffer&&qn.setValue(ne,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),(ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshLambertMaterial||ue.isMeshBasicMaterial||ue.isMeshStandardMaterial||ue.isShaderMaterial)&&qn.setValue(ne,"isOrthographic",H.isOrthographicCamera===!0),ie!==H&&(ie=H,jn=!0,yi=!0)}if(st.needsLights&&(dn.state.directionalShadowMap.length>0&&qn.setValue(ne,"directionalShadowMap",dn.state.directionalShadowMap,ge),dn.state.spotShadowMap.length>0&&qn.setValue(ne,"spotShadowMap",dn.state.spotShadowMap,ge),dn.state.pointShadowMap.length>0&&qn.setValue(ne,"pointShadowMap",dn.state.pointShadowMap,ge)),fe.isSkinnedMesh){qn.setOptional(ne,fe,"bindMatrix"),qn.setOptional(ne,fe,"bindMatrixInverse");const Yi=fe.skeleton;Yi&&(Yi.boneTexture===null&&Yi.computeBoneTexture(),qn.setValue(ne,"boneTexture",Yi.boneTexture,ge))}fe.isBatchedMesh&&(qn.setOptional(ne,fe,"batchingTexture"),qn.setValue(ne,"batchingTexture",fe._matricesTexture,ge),qn.setOptional(ne,fe,"batchingIdTexture"),qn.setValue(ne,"batchingIdTexture",fe._indirectTexture,ge),qn.setOptional(ne,fe,"batchingColorTexture"),fe._colorsTexture!==null&&qn.setValue(ne,"batchingColorTexture",fe._colorsTexture,ge));const Yr=ce.morphAttributes;if((Yr.position!==void 0||Yr.normal!==void 0||Yr.color!==void 0)&&St.update(fe,ce,$n),(jn||st.receiveShadow!==fe.receiveShadow)&&(st.receiveShadow=fe.receiveShadow,qn.setValue(ne,"receiveShadow",fe.receiveShadow)),(ue.isMeshStandardMaterial||ue.isMeshLambertMaterial||ue.isMeshPhongMaterial)&&ue.envMap===null&&oe.environment!==null&&(Fi.envMapIntensity.value=oe.environmentIntensity),Fi.dfgLUT!==void 0&&(Fi.dfgLUT.value=ite()),jn&&(qn.setValue(ne,"toneMappingExposure",z.toneMappingExposure),st.needsLights&&lt(Fi,yi),Ge&&ue.fog===!0&&Ht.refreshFogUniforms(Fi,Ge),Ht.refreshMaterialUniforms(Fi,ue,Me,re,L.state.transmissionRenderTarget[H.id]),g1.upload(ne,we(st),Fi,ge)),ue.isShaderMaterial&&ue.uniformsNeedUpdate===!0&&(g1.upload(ne,we(st),Fi,ge),ue.uniformsNeedUpdate=!1),ue.isSpriteMaterial&&qn.setValue(ne,"center",fe.center),qn.setValue(ne,"modelViewMatrix",fe.modelViewMatrix),qn.setValue(ne,"normalMatrix",fe.normalMatrix),qn.setValue(ne,"modelMatrix",fe.matrixWorld),ue.isShaderMaterial||ue.isRawShaderMaterial){const Yi=ue.uniformsGroups;for(let bs=0,mo=Yi.length;bs<mo;bs++){const Gu=Yi[bs];Pt.update(Gu,$n),Pt.bind(Gu,$n)}}return $n}function lt(H,oe){H.ambientLightColor.needsUpdate=oe,H.lightProbe.needsUpdate=oe,H.directionalLights.needsUpdate=oe,H.directionalLightShadows.needsUpdate=oe,H.pointLights.needsUpdate=oe,H.pointLightShadows.needsUpdate=oe,H.spotLights.needsUpdate=oe,H.spotLightShadows.needsUpdate=oe,H.rectAreaLights.needsUpdate=oe,H.hemisphereLights.needsUpdate=oe}function nt(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return j},this.getActiveMipmapLevel=function(){return G},this.getRenderTarget=function(){return J},this.setRenderTargetTextures=function(H,oe,ce){const ue=F.get(H);ue.__autoAllocateDepthBuffer=H.resolveDepthBuffer===!1,ue.__autoAllocateDepthBuffer===!1&&(ue.__useRenderToTexture=!1),F.get(H.texture).__webglTexture=oe,F.get(H.depthTexture).__webglTexture=ue.__autoAllocateDepthBuffer?void 0:ce,ue.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(H,oe){const ce=F.get(H);ce.__webglFramebuffer=oe,ce.__useDefaultFramebuffer=oe===void 0};const vt=ne.createFramebuffer();this.setRenderTarget=function(H,oe=0,ce=0){J=H,j=oe,G=ce;let ue=null,fe=!1,Ge=!1;if(H){const tt=F.get(H);if(tt.__useDefaultFramebuffer!==void 0){ht.bindFramebuffer(ne.FRAMEBUFFER,tt.__webglFramebuffer),q.copy(H.viewport),K.copy(H.scissor),pe=H.scissorTest,ht.viewport(q),ht.scissor(K),ht.setScissorTest(pe),te=-1;return}else if(tt.__webglFramebuffer===void 0)ge.setupRenderTarget(H);else if(tt.__hasExternalTextures)ge.rebindTextures(H,F.get(H.texture).__webglTexture,F.get(H.depthTexture).__webglTexture);else if(H.depthBuffer){const Rt=H.depthTexture;if(tt.__boundDepthTexture!==Rt){if(Rt!==null&&F.has(Rt)&&(H.width!==Rt.image.width||H.height!==Rt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ge.setupDepthRenderbuffer(H)}}const rt=H.texture;(rt.isData3DTexture||rt.isDataArrayTexture||rt.isCompressedArrayTexture)&&(Ge=!0);const Tt=F.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Array.isArray(Tt[oe])?ue=Tt[oe][ce]:ue=Tt[oe],fe=!0):H.samples>0&&ge.useMultisampledRTT(H)===!1?ue=F.get(H).__webglMultisampledFramebuffer:Array.isArray(Tt)?ue=Tt[ce]:ue=Tt,q.copy(H.viewport),K.copy(H.scissor),pe=H.scissorTest}else q.copy(me).multiplyScalar(Me).floor(),K.copy(De).multiplyScalar(Me).floor(),pe=Ye;if(ce!==0&&(ue=vt),ht.bindFramebuffer(ne.FRAMEBUFFER,ue)&&ht.drawBuffers(H,ue),ht.viewport(q),ht.scissor(K),ht.setScissorTest(pe),fe){const tt=F.get(H.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+oe,tt.__webglTexture,ce)}else if(Ge){const tt=oe;for(let rt=0;rt<H.textures.length;rt++){const Tt=F.get(H.textures[rt]);ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0+rt,Tt.__webglTexture,ce,tt)}}else if(H!==null&&ce!==0){const tt=F.get(H.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,tt.__webglTexture,ce)}te=-1},this.readRenderTargetPixels=function(H,oe,ce,ue,fe,Ge,et,tt=0){if(!(H&&H.isWebGLRenderTarget)){Kt("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let rt=F.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&et!==void 0&&(rt=rt[et]),rt){ht.bindFramebuffer(ne.FRAMEBUFFER,rt);try{const Tt=H.textures[tt],Rt=Tt.format,Zt=Tt.type;if(H.textures.length>1&&ne.readBuffer(ne.COLOR_ATTACHMENT0+tt),!Gt.textureFormatReadable(Rt)){Kt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Gt.textureTypeReadable(Zt)){Kt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}oe>=0&&oe<=H.width-ue&&ce>=0&&ce<=H.height-fe&&ne.readPixels(oe,ce,ue,fe,Te.convert(Rt),Te.convert(Zt),Ge)}finally{const Tt=J!==null?F.get(J).__webglFramebuffer:null;ht.bindFramebuffer(ne.FRAMEBUFFER,Tt)}}},this.readRenderTargetPixelsAsync=async function(H,oe,ce,ue,fe,Ge,et,tt=0){if(!(H&&H.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let rt=F.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&et!==void 0&&(rt=rt[et]),rt)if(oe>=0&&oe<=H.width-ue&&ce>=0&&ce<=H.height-fe){ht.bindFramebuffer(ne.FRAMEBUFFER,rt);const Tt=H.textures[tt],Rt=Tt.format,Zt=Tt.type;if(H.textures.length>1&&ne.readBuffer(ne.COLOR_ATTACHMENT0+tt),!Gt.textureFormatReadable(Rt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Gt.textureTypeReadable(Zt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const pt=ne.createBuffer();ne.bindBuffer(ne.PIXEL_PACK_BUFFER,pt),ne.bufferData(ne.PIXEL_PACK_BUFFER,Ge.byteLength,ne.STREAM_READ),ne.readPixels(oe,ce,ue,fe,Te.convert(Rt),Te.convert(Zt),0);const Wt=J!==null?F.get(J).__webglFramebuffer:null;ht.bindFramebuffer(ne.FRAMEBUFFER,Wt);const Nn=ne.fenceSync(ne.SYNC_GPU_COMMANDS_COMPLETE,0);return ne.flush(),await vX(ne,Nn,4),ne.bindBuffer(ne.PIXEL_PACK_BUFFER,pt),ne.getBufferSubData(ne.PIXEL_PACK_BUFFER,0,Ge),ne.deleteBuffer(pt),ne.deleteSync(Nn),Ge}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(H,oe=null,ce=0){const ue=Math.pow(2,-ce),fe=Math.floor(H.image.width*ue),Ge=Math.floor(H.image.height*ue),et=oe!==null?oe.x:0,tt=oe!==null?oe.y:0;ge.setTexture2D(H,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,ce,0,0,et,tt,fe,Ge),ht.unbindTexture()};const gt=ne.createFramebuffer(),bt=ne.createFramebuffer();this.copyTextureToTexture=function(H,oe,ce=null,ue=null,fe=0,Ge=0){let et,tt,rt,Tt,Rt,Zt,pt,Wt,Nn;const Wn=H.isCompressedTexture?H.mipmaps[Ge]:H.image;if(ce!==null)et=ce.max.x-ce.min.x,tt=ce.max.y-ce.min.y,rt=ce.isBox3?ce.max.z-ce.min.z:1,Tt=ce.min.x,Rt=ce.min.y,Zt=ce.isBox3?ce.min.z:0;else{const Fi=Math.pow(2,-fe);et=Math.floor(Wn.width*Fi),tt=Math.floor(Wn.height*Fi),H.isDataArrayTexture?rt=Wn.depth:H.isData3DTexture?rt=Math.floor(Wn.depth*Fi):rt=1,Tt=0,Rt=0,Zt=0}ue!==null?(pt=ue.x,Wt=ue.y,Nn=ue.z):(pt=0,Wt=0,Nn=0);const cn=Te.convert(oe.format),jt=Te.convert(oe.type);let st;oe.isData3DTexture?(ge.setTexture3D(oe,0),st=ne.TEXTURE_3D):oe.isDataArrayTexture||oe.isCompressedArrayTexture?(ge.setTexture2DArray(oe,0),st=ne.TEXTURE_2D_ARRAY):(ge.setTexture2D(oe,0),st=ne.TEXTURE_2D),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,oe.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,oe.unpackAlignment);const dn=ne.getParameter(ne.UNPACK_ROW_LENGTH),At=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),$n=ne.getParameter(ne.UNPACK_SKIP_PIXELS),Ci=ne.getParameter(ne.UNPACK_SKIP_ROWS),jn=ne.getParameter(ne.UNPACK_SKIP_IMAGES);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Wn.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Wn.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,Tt),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Rt),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Zt);const yi=H.isDataArrayTexture||H.isData3DTexture,qn=oe.isDataArrayTexture||oe.isData3DTexture;if(H.isDepthTexture){const Fi=F.get(H),Yr=F.get(oe),Yi=F.get(Fi.__renderTarget),bs=F.get(Yr.__renderTarget);ht.bindFramebuffer(ne.READ_FRAMEBUFFER,Yi.__webglFramebuffer),ht.bindFramebuffer(ne.DRAW_FRAMEBUFFER,bs.__webglFramebuffer);for(let mo=0;mo<rt;mo++)yi&&(ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,F.get(H).__webglTexture,fe,Zt+mo),ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,F.get(oe).__webglTexture,Ge,Nn+mo)),ne.blitFramebuffer(Tt,Rt,et,tt,pt,Wt,et,tt,ne.DEPTH_BUFFER_BIT,ne.NEAREST);ht.bindFramebuffer(ne.READ_FRAMEBUFFER,null),ht.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else if(fe!==0||H.isRenderTargetTexture||F.has(H)){const Fi=F.get(H),Yr=F.get(oe);ht.bindFramebuffer(ne.READ_FRAMEBUFFER,gt),ht.bindFramebuffer(ne.DRAW_FRAMEBUFFER,bt);for(let Yi=0;Yi<rt;Yi++)yi?ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Fi.__webglTexture,fe,Zt+Yi):ne.framebufferTexture2D(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,Fi.__webglTexture,fe),qn?ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Yr.__webglTexture,Ge,Nn+Yi):ne.framebufferTexture2D(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,Yr.__webglTexture,Ge),fe!==0?ne.blitFramebuffer(Tt,Rt,et,tt,pt,Wt,et,tt,ne.COLOR_BUFFER_BIT,ne.NEAREST):qn?ne.copyTexSubImage3D(st,Ge,pt,Wt,Nn+Yi,Tt,Rt,et,tt):ne.copyTexSubImage2D(st,Ge,pt,Wt,Tt,Rt,et,tt);ht.bindFramebuffer(ne.READ_FRAMEBUFFER,null),ht.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else qn?H.isDataTexture||H.isData3DTexture?ne.texSubImage3D(st,Ge,pt,Wt,Nn,et,tt,rt,cn,jt,Wn.data):oe.isCompressedArrayTexture?ne.compressedTexSubImage3D(st,Ge,pt,Wt,Nn,et,tt,rt,cn,Wn.data):ne.texSubImage3D(st,Ge,pt,Wt,Nn,et,tt,rt,cn,jt,Wn):H.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,Ge,pt,Wt,et,tt,cn,jt,Wn.data):H.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,Ge,pt,Wt,Wn.width,Wn.height,cn,Wn.data):ne.texSubImage2D(ne.TEXTURE_2D,Ge,pt,Wt,et,tt,cn,jt,Wn);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,dn),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,At),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,$n),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Ci),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,jn),Ge===0&&oe.generateMipmaps&&ne.generateMipmap(st),ht.unbindTexture()},this.initRenderTarget=function(H){F.get(H).__webglFramebuffer===void 0&&ge.setupRenderTarget(H)},this.initTexture=function(H){H.isCubeTexture?ge.setTextureCube(H,0):H.isData3DTexture?ge.setTexture3D(H,0):H.isDataArrayTexture||H.isCompressedArrayTexture?ge.setTexture2DArray(H,0):ge.setTexture2D(H,0),ht.unbindTexture()},this.resetState=function(){j=0,G=0,J=null,ht.reset(),ut.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return io}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=Hn._getDrawingBufferColorSpace(e),n.unpackColorSpace=Hn._getUnpackColorSpace()}}const rte=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Rw,AddEquation:ih,AddOperation:XV,AdditiveAnimationBlendMode:ZO,AdditiveBlending:P1,AgXToneMapping:jO,AlphaFormat:$O,AlwaysCompare:a6,AlwaysDepth:N1,AlwaysStencilFunc:$R,AmbientLight:J6,AnimationAction:u8,AnimationClip:ax,AnimationLoader:oY,AnimationMixer:LY,AnimationObjectGroup:IY,AnimationUtils:iY,ArcCurve:S6,ArrayCamera:a8,ArrowHelper:rZ,AttachedBindMode:WR,Audio:o8,AudioAnalyser:MY,AudioContext:b3,AudioListener:bY,AudioLoader:gY,AxesHelper:aZ,BackSide:ps,BasicDepthPacking:QV,BasicShadowMap:TV,BatchedMesh:g6,BezierInterpolant:W6,Bone:n3,BooleanKeyframeTrack:xp,Box2:HY,Box3:$a,Box3Helper:nZ,BoxGeometry:yp,BoxHelper:tZ,BufferAttribute:gi,BufferGeometry:yn,BufferGeometryLoader:i8,ByteType:Pw,Cache:Ou,Camera:oE,CameraHelper:eZ,CanvasTexture:M$,CapsuleGeometry:$w,CatmullRomCurve3:M6,CineonToneMapping:VO,CircleGeometry:Yw,ClampToEdgeWrapping:pr,Clock:c8,Color:Ut,ColorKeyframeTrack:g3,ColorManagement:Hn,Compatibility:hX,CompressedArrayTexture:_$,CompressedCubeTexture:S$,CompressedTexture:Xw,CompressedTextureLoader:lY,ConeGeometry:zx,ConstantAlphaFactor:GV,ConstantColorFactor:HV,Controls:oZ,CubeCamera:r8,CubeDepthTexture:b6,CubeReflectionMapping:Bl,CubeRefractionMapping:ph,CubeTexture:Lx,CubeTextureLoader:$6,CubeUVReflectionMapping:Yg,CubicBezierCurve:a3,CubicBezierCurve3:w6,CubicInterpolant:j6,CullFaceBack:HR,CullFaceFront:AV,CullFaceFrontBack:Aq,CullFaceNone:EV,Curve:Gl,CurvePath:A6,CustomBlending:CV,CustomToneMapping:HO,CylinderGeometry:Ux,Cylindrical:VY,Data3DTexture:Fw,DataArrayTexture:kw,DataTexture:Yo,DataTextureLoader:v3,DataUtils:Vd,DecrementStencilOp:Gq,DecrementWrapStencilOp:qq,DefaultLoadingManager:X6,DepthFormat:zu,DepthStencilFormat:ah,DepthTexture:lp,DetachedBindMode:$V,DirectionalLight:Q6,DirectionalLightHelper:JY,DiscreteInterpolant:G6,DodecahedronGeometry:Zw,DoubleSide:Rl,DstAlphaFactor:zV,DstColorFactor:kV,DynamicCopyUsage:sX,DynamicDrawUsage:Zd,DynamicReadUsage:iX,EdgesGeometry:_6,EllipseCurve:Kw,EqualCompare:n6,EqualDepth:U1,EqualStencilFunc:Zq,EquirectangularReflectionMapping:_g,EquirectangularRefractionMapping:Cy,Euler:Gs,EventDispatcher:Hu,ExternalTexture:i3,ExtrudeGeometry:Qw,FileLoader:oo,Float16BufferAttribute:t$,Float32BufferAttribute:Bt,FloatType:Bi,Fog:Hw,FogExp2:Vw,FramebufferTexture:b$,FrontSide:Lc,Frustum:Kg,FrustumArray:Ww,GLBufferAttribute:FY,GLSL1:lX,GLSL3:YR,GreaterCompare:i6,GreaterDepth:B1,GreaterEqualCompare:Bw,GreaterEqualDepth:z1,GreaterEqualStencilFunc:eX,GreaterStencilFunc:Qq,GridHelper:KY,Group:hg,HalfFloatType:rr,HemisphereLight:Y6,HemisphereLightHelper:ZY,IcosahedronGeometry:Bx,ImageBitmapLoader:mY,ImageLoader:sx,ImageUtils:u6,IncrementStencilOp:jq,IncrementWrapStencilOp:Wq,InstancedBufferAttribute:Dg,InstancedBufferGeometry:n8,InstancedInterleavedBuffer:kY,InstancedMesh:m6,Int16BufferAttribute:JX,Int32BufferAttribute:e$,Int8BufferAttribute:ZX,IntType:Ox,InterleavedBuffer:jw,InterleavedBufferAttribute:op,Interpolant:Qg,InterpolateBezier:XR,InterpolateDiscrete:Xy,InterpolateLinear:yM,InterpolateSmooth:p1,InterpolationSamplingMode:fX,InterpolationSamplingType:cX,InvertStencilOp:Xq,KeepStencilOp:Dd,KeyframeTrack:el,LOD:d6,LatheGeometry:Jw,Layers:Og,LessCompare:t6,LessDepth:L1,LessEqualCompare:zw,LessEqualDepth:rp,LessEqualStencilFunc:Kq,LessStencilFunc:Yq,Light:Mh,LightProbe:t8,Line:gh,Line3:WY,LineBasicMaterial:vs,LineCurve:s3,LineCurve3:E6,LineDashedMaterial:V6,LineLoop:v6,LineSegments:ju,LinearFilter:kn,LinearInterpolant:m3,LinearMipMapLinearFilter:qR,LinearMipMapNearestFilter:Pq,LinearMipmapLinearFilter:Pu,LinearMipmapNearestFilter:Ry,LinearSRGBColorSpace:kl,LinearToneMapping:kO,LinearTransfer:Yy,Loader:ys,LoaderUtils:eP,LoadingManager:sE,LoopOnce:YV,LoopPingPong:KV,LoopRepeat:ZV,MOUSE:wq,Material:Ya,MaterialBlending:Tq,MaterialLoader:lE,MathUtils:LX,Matrix2:E3,Matrix3:bn,Matrix4:on,MaxEquation:DV,Mesh:ar,MeshBasicMaterial:Wc,MeshDepthMaterial:h3,MeshDistanceMaterial:d3,MeshLambertMaterial:k6,MeshMatcapMaterial:F6,MeshNormalMaterial:B6,MeshPhongMaterial:U6,MeshPhysicalMaterial:L6,MeshStandardMaterial:f3,MeshToonMaterial:z6,MinEquation:OV,MirroredRepeatWrapping:qy,MixOperation:qV,MultiplyBlending:GR,MultiplyOperation:Px,NearestFilter:_r,NearestMipMapLinearFilter:Rq,NearestMipMapNearestFilter:Cq,NearestMipmapLinearFilter:cg,NearestMipmapNearestFilter:WO,NeutralToneMapping:GO,NeverCompare:e6,NeverDepth:I1,NeverStencilFunc:$q,NoBlending:Nl,NoColorSpace:Cc,NoNormalPacking:Bq,NoToneMapping:$o,NormalAnimationBlendMode:Uw,NormalBlending:Yd,NormalGAPacking:Fq,NormalRGPacking:kq,NotEqualCompare:r6,NotEqualDepth:k1,NotEqualStencilFunc:Jq,NumberKeyframeTrack:ix,Object3D:Zn,ObjectLoader:dY,ObjectSpaceNormalMap:JV,OctahedronGeometry:kx,OneFactor:NV,OneMinusConstantAlphaFactor:WV,OneMinusConstantColorFactor:jV,OneMinusDstAlphaFactor:BV,OneMinusDstColorFactor:FV,OneMinusSrcAlphaFactor:D1,OneMinusSrcColorFactor:UV,OrthographicCamera:_p,PCFShadowMap:bg,PCFSoftShadowMap:Ty,PMREMGenerator:iP,Path:SM,PerspectiveCamera:ra,Plane:eh,PlaneGeometry:Sh,PlaneHelper:iZ,PointLight:K6,PointLightHelper:$Y,Points:y6,PointsMaterial:qw,PolarGridHelper:QY,PolyhedronGeometry:_h,PositionalAudio:SY,PropertyBinding:Yn,PropertyMixer:l8,QuadraticBezierCurve:o3,QuadraticBezierCurve3:l3,Quaternion:Mr,QuaternionKeyframeTrack:Vx,QuaternionLinearInterpolant:q6,R11_EAC_Format:X1,RED_GREEN_RGTC2_Format:gM,RED_RGTC1_Format:pM,REVISION:$g,RG11_EAC_Format:Y1,RGBADepthPacking:Lq,RGBAFormat:Sr,RGBAIntegerFormat:Lw,RGBA_ASTC_10x10_Format:lM,RGBA_ASTC_10x5_Format:aM,RGBA_ASTC_10x6_Format:sM,RGBA_ASTC_10x8_Format:oM,RGBA_ASTC_12x10_Format:uM,RGBA_ASTC_12x12_Format:cM,RGBA_ASTC_4x4_Format:K1,RGBA_ASTC_5x4_Format:Q1,RGBA_ASTC_5x5_Format:J1,RGBA_ASTC_6x5_Format:eM,RGBA_ASTC_6x6_Format:tM,RGBA_ASTC_8x5_Format:nM,RGBA_ASTC_8x6_Format:iM,RGBA_ASTC_8x8_Format:rM,RGBA_BPTC_Format:fM,RGBA_ETC2_EAC_Format:q1,RGBA_PVRTC_2BPPV1_Format:j1,RGBA_PVRTC_4BPPV1_Format:H1,RGBA_S3TC_DXT1_Format:Oy,RGBA_S3TC_DXT3_Format:Dy,RGBA_S3TC_DXT5_Format:Iy,RGBDepthPacking:Uq,RGBFormat:YO,RGBIntegerFormat:Oq,RGB_BPTC_SIGNED_Format:hM,RGB_BPTC_UNSIGNED_Format:dM,RGB_ETC1_Format:G1,RGB_ETC2_Format:W1,RGB_PVRTC_2BPPV1_Format:V1,RGB_PVRTC_4BPPV1_Format:F1,RGB_S3TC_DXT1_Format:Py,RGDepthPacking:zq,RGFormat:ap,RGIntegerFormat:Nw,RawShaderMaterial:c3,Ray:Zg,Raycaster:w3,RectAreaLight:e8,RedFormat:Dx,RedIntegerFormat:Ix,ReinhardToneMapping:FO,RenderTarget:QO,RenderTarget3D:UY,RepeatWrapping:Wy,ReplaceStencilOp:Hq,ReverseSubtractEquation:PV,RingGeometry:eE,SIGNED_R11_EAC_Format:$1,SIGNED_RED_GREEN_RGTC2_Format:vM,SIGNED_RED_RGTC1_Format:mM,SIGNED_RG11_EAC_Format:Z1,SRGBColorSpace:Ta,SRGBTransfer:oi,Scene:Nx,ShaderChunk:An,ShaderLib:Cl,ShaderMaterial:ms,ShadowMaterial:D6,Shape:Qd,ShapeGeometry:tE,ShapePath:sZ,ShapeUtils:Il,ShortType:Ow,Skeleton:Gw,SkeletonHelper:XY,SkinnedMesh:p6,Source:sh,Sphere:Ra,SphereGeometry:Fx,Spherical:f8,SphericalHarmonics3:x3,SplineCurve:u3,SpotLight:Z6,SpotLightHelper:qY,Sprite:h6,SpriteMaterial:t3,SrcAlphaFactor:O1,SrcAlphaSaturateFactor:VV,SrcColorFactor:LV,StaticCopyUsage:aX,StaticDrawUsage:Zy,StaticReadUsage:nX,StereoCamera:vY,StreamCopyUsage:oX,StreamDrawUsage:tX,StreamReadUsage:rX,StringKeyframeTrack:bp,SubtractEquation:RV,SubtractiveBlending:jR,TOUCH:Eq,TangentSpaceNormalMap:bh,TetrahedronGeometry:nE,Texture:mi,TextureLoader:uY,TextureUtils:hZ,Timer:s8,TimestampQuery:uX,TorusGeometry:iE,TorusKnotGeometry:rE,Triangle:Vs,TriangleFanDrawMode:Nq,TriangleStripDrawMode:Iq,TrianglesDrawMode:Dq,TubeGeometry:aE,UVMapping:dh,Uint16BufferAttribute:JO,Uint32BufferAttribute:e3,Uint8BufferAttribute:KX,Uint8ClampedBufferAttribute:QX,Uniform:M3,UniformsGroup:BY,UniformsLib:Dt,UniformsUtils:N6,UnsignedByteType:aa,UnsignedInt101111Type:XO,UnsignedInt248Type:Rg,UnsignedInt5999Type:qO,UnsignedIntType:co,UnsignedShort4444Type:Dw,UnsignedShort5551Type:Iw,UnsignedShortType:Cg,VSMShadowMap:Bd,Vector2:Qe,Vector3:ee,Vector4:ii,VectorKeyframeTrack:rx,VideoFrameTexture:x$,VideoTexture:x6,WebGL3DRenderTarget:FX,WebGLArrayRenderTarget:kX,WebGLCoordinateSystem:io,WebGLCubeRenderTarget:cE,WebGLRenderTarget:Xa,WebGLRenderer:A3,WebGLUtils:y8,WebGPUCoordinateSystem:sp,WebXRController:m1,WireframeGeometry:O6,WrapAroundEnding:$y,ZeroCurvatureEnding:kd,ZeroFactor:IV,ZeroSlopeEnding:Fd,ZeroStencilOp:Vq,createCanvasElement:o6,error:Kt,getConsoleFunction:gX,log:Qy,setConsoleFunction:mX,warn:Ct,warnOnce:Jy},Symbol.toStringTag,{value:"Module"}));var NT={exports:{}},LT={},UT={exports:{}},zT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yU;function ate(){if(yU)return zT;yU=1;var t=Xg();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function l(g,v){var x=v(),_=i({inst:{value:x,getSnapshot:v}}),w=_[0].inst,S=_[1];return a(function(){w.value=x,w.getSnapshot=v,c(w)&&S({inst:w})},[g,x,v]),r(function(){return c(w)&&S({inst:w}),g(function(){c(w)&&S({inst:w})})},[g]),s(x),x}function c(g){var v=g.getSnapshot;g=g.value;try{var x=v();return!n(g,x)}catch{return!0}}function h(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:l;return zT.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,zT}var xU;function ste(){return xU||(xU=1,UT.exports=ate()),UT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bU;function ote(){if(bU)return LT;bU=1;var t=Xg(),e=ste();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return LT.useSyncExternalStoreWithSelector=function(h,p,g,v,x){var _=a(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=l(function(){function M(I){if(!T){if(T=!0,R=I,I=v(I),x!==void 0&&w.hasValue){var B=w.value;if(x(B,I))return P=B}return P=I}if(B=P,i(R,I))return B;var D=v(I);return x!==void 0&&x(B,D)?(R=I,B):(R=I,P=D)}var T=!1,R,P,L=g===void 0?null:g;return[function(){return M(p())},L===null?void 0:function(){return M(L())}]},[p,g,v,x]);var S=r(h,_[0],_[1]);return s(function(){w.hasValue=!0,w.value=S},[S]),c(S),S},LT}var _U;function lte(){return _U||(_U=1,NT.exports=ote()),NT.exports}var x8=lte();const ute=jl(x8),SU=t=>{let e;const n=new Set,i=(h,p)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const v=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(x=>x(e,v))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>c,subscribe:h=>(n.add(h),()=>n.delete(h))},c=e=t(i,r,l);return l},cte=(t=>t?SU(t):SU),{useSyncExternalStoreWithSelector:fte}=ute,hte=t=>t;function dte(t,e=hte,n){const i=fte(t.subscribe,t.getState,t.getInitialState,e,n);return BO.useDebugValue(i),i}const MU=(t,e)=>{const n=cte(t),i=(r,a=e)=>dte(n,r,a);return Object.assign(i,n),i},b8=((t,e)=>t?MU(t,e):MU),pte=t=>typeof t=="object"&&typeof t.then=="function",jd=[];function _8(t,e,n=(i,r)=>i===r){if(t===e)return!0;if(!t||!e)return!1;const i=t.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!n(t[r],e[r]))return!1;return!0}function S8(t,e=null,n=!1,i={}){e===null&&(e=[t]);for(const a of jd)if(_8(e,a.keys,a.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!n)throw a.promise}const r={keys:e,equal:i.equal,remove:()=>{const a=jd.indexOf(r);a!==-1&&jd.splice(a,1)},promise:(pte(t)?t:t(...e)).then(a=>{r.response=a,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(a=>r.error=a)};if(jd.push(r),!n)throw r.promise}const mte=(t,e,n)=>S8(t,e,!1,n),gte=(t,e,n)=>void S8(t,e,!0,n),vte=t=>{if(t===void 0||t.length===0)jd.splice(0,jd.length);else{const e=jd.find(n=>_8(t,n.keys,n.equal));e&&e.remove()}};var sP=SV();const yte=jl(sP);function T3(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=e?t.return:t.child;for(;i;){const r=T3(i,e,n);if(r)return r;i=e?null:i.sibling}}function M8(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const C3=M8(U.createContext(null));class w8 extends U.Component{render(){return U.createElement(C3.Provider,{value:this._reactInternals},this.props.children)}}function E8(){const t=U.useContext(C3);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=U.useId();return U.useMemo(()=>{for(const n of[t,t==null?void 0:t.alternate]){if(!n)continue;const i=T3(n,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}const xte=Symbol.for("react.context"),bte=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===xte;function _te(){const t=E8(),[e]=U.useState(()=>new Map);e.clear();let n=t;for(;n;){const i=n.type;bte(i)&&i!==C3&&!e.has(i)&&e.set(i,U.use(M8(i))),n=n.return}return e}function Ste(){const t=_te();return U.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>U.createElement(e,null,U.createElement(n.Provider,{...i,value:t.get(n)})),e=>U.createElement(w8,{...e})),[t])}function A8(t){let e=t.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const T8=t=>t&&t.isOrthographicCamera,Mte=t=>t&&t.hasOwnProperty("current"),wte=t=>t!=null&&(typeof t=="string"||typeof t=="number"||t.isColor),Hx=((t,e)=>typeof window<"u"&&(((t=window.document)==null?void 0:t.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?U.useLayoutEffect:U.useEffect;function R3(t){const e=U.useRef(t);return Hx(()=>void(e.current=t),[t]),e}function Ete(){const t=E8(),e=Ste();return U.useMemo(()=>({children:n})=>{const r=!!T3(t,!0,a=>a.type===U.StrictMode)?U.StrictMode:U.Fragment;return ye.jsx(r,{children:ye.jsx(e,{children:n})})},[t,e])}function Ate({set:t}){return Hx(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}const Tte=(t=>(t=class extends U.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}},t.getDerivedStateFromError=()=>({error:!0}),t))();function C8(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}function Jm(t){var e;return(e=t.__r3f)==null?void 0:e.root.getState()}const qi={obj:t=>t===Object(t)&&!qi.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,nul:t=>t===null,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(qi.str(t)||qi.num(t)||qi.boo(t))return t===e;const a=qi.obj(t);if(a&&i==="reference")return t===e;const s=qi.arr(t);if(s&&n==="reference")return t===e;if((s||a)&&t===e)return!0;let l;for(l in t)if(!(l in e))return!1;if(a&&n==="shallow"&&i==="shallow"){for(l in r?e:t)if(!qi.equ(t[l],e[l],{strict:r,objects:"reference"}))return!1}else for(l in r?e:t)if(t[l]!==e[l])return!1;if(qi.und(l)){if(s&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Cte(t){const e={nodes:{},materials:{},meshes:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material),n.isMesh&&!e.meshes[n.name]&&(e.meshes[n.name]=n)}),e}function Rte(t){t.type!=="Scene"&&(t.dispose==null||t.dispose());for(const e in t){const n=t[e];(n==null?void 0:n.type)!=="Scene"&&(n==null||n.dispose==null||n.dispose())}}const R8=["children","key","ref"];function Pte(t){const e={};for(const n in t)R8.includes(n)||(e[n]=t[n]);return e}function MM(t,e,n,i){const r=t;let a=r==null?void 0:r.__r3f;return a||(a={root:e,type:n,parent:null,children:[],props:Pte(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function ox(t,e){if(!e.includes("-"))return{root:t,key:e,target:t[e]};if(e in t)return{root:t,key:e,target:t[e]};let n=t;const i=e.split("-");for(const r of i){if(typeof n!="object"||n===null){if(n!==void 0){const a=i.slice(i.indexOf(r)).join("-");return{root:n,key:a,target:void 0}}return{root:t,key:e,target:void 0}}e=r,t=n,n=n[e]}return{root:t,key:e,target:n}}const wU=/-\d+$/;function wM(t,e){if(qi.str(e.props.attach)){if(wU.test(e.props.attach)){const r=e.props.attach.replace(wU,""),{root:a,key:s}=ox(t.object,r);Array.isArray(a[s])||(a[s]=[])}const{root:n,key:i}=ox(t.object,e.props.attach);e.previousAttach=n[i],n[i]=e.object}else qi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(t.object,e.object))}function EM(t,e){if(qi.str(e.props.attach)){const{root:n,key:i}=ox(t.object,e.props.attach),r=e.previousAttach;r===void 0?delete n[i]:n[i]=r}else e.previousAttach==null||e.previousAttach(t.object,e.object);delete e.previousAttach}const oP=[...R8,"args","dispose","attach","object","onUpdate","dispose"],EU=new Map;function Ote(t){let e=EU.get(t.constructor);try{e||(e=new t.constructor,EU.set(t.constructor,e))}catch{}return e}function Dte(t,e){const n={};for(const i in e)if(!oP.includes(i)&&!qi.equ(e[i],t.props[i])){n[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(n[r]=e[r])}for(const i in t.props){if(oP.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=ox(t.object,i);if(r.constructor&&r.constructor.length===0){const s=Ote(r);qi.und(s)||(n[a]=s[a])}else n[a]=0}return n}const Ite=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Nte=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Ru(t,e){var n;const i=t.__r3f,r=i&&A8(i).getState(),a=i==null?void 0:i.eventCount;for(const l in e){let c=e[l];if(oP.includes(l))continue;if(i&&Nte.test(l)){typeof c=="function"?i.handlers[l]=c:delete i.handlers[l],i.eventCount=Object.keys(i.handlers).length;continue}if(c===void 0)continue;let{root:h,key:p,target:g}=ox(t,l);if(g===void 0&&(typeof h!="object"||h===null))throw Error(`R3F: Cannot set "${l}". Ensure it is an object before setting "${p}".`);if(g instanceof Og&&c instanceof Og)g.mask=c.mask;else if(g instanceof Ut&&wte(c))g.set(c);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&c!=null&&c.constructor&&g.constructor===c.constructor)g.copy(c);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(c))typeof g.fromArray=="function"?g.fromArray(c):g.set(...c);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof c=="number")typeof g.setScalar=="function"?g.setScalar(c):g.set(c);else{var s;h[p]=c,r&&!r.linear&&Ite.includes(p)&&(s=h[p])!=null&&s.isTexture&&h[p].format===Sr&&h[p].type===aa&&(h[p].colorSpace=Ta)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(n=i.object)!=null&&n.isObject3D&&a!==i.eventCount){const l=i.object,c=r.internal.interaction.indexOf(l);c>-1&&r.internal.interaction.splice(c,1),i.eventCount&&l.raycast!==null&&r.internal.interaction.push(l)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&ev(i),t}function ev(t){var e;if(!t.parent)return;t.props.onUpdate==null||t.props.onUpdate(t.object);const n=(e=t.root)==null||e.getState==null?void 0:e.getState();n&&n.internal.frames===0&&n.invalidate()}function P8(t,e){t.manual||(T8(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix())}const ls=t=>t==null?void 0:t.isObject3D;function FS(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function O8(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function Lte(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{O8(n.capturedMap,e,i,r)})}function Ute(t){function e(c){const{internal:h}=t.getState(),p=c.offsetX-h.initialClick[0],g=c.offsetY-h.initialClick[1];return Math.round(Math.sqrt(p*p+g*g))}function n(c){return c.filter(h=>["Move","Over","Enter","Out","Leave"].some(p=>{var g;return(g=h.__r3f)==null?void 0:g.handlers["onPointer"+p]}))}function i(c,h){const p=t.getState(),g=new Set,v=[],x=h?h(p.internal.interaction):p.internal.interaction;for(let M=0;M<x.length;M++){const T=Jm(x[M]);T&&(T.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(c,p);function _(M){const T=Jm(M);if(!T||!T.events.enabled||T.raycaster.camera===null)return[];if(T.raycaster.camera===void 0){var R;T.events.compute==null||T.events.compute(c,T,(R=T.previousRoot)==null?void 0:R.getState()),T.raycaster.camera===void 0&&(T.raycaster.camera=null)}return T.raycaster.camera?T.raycaster.intersectObject(M,!0):[]}let w=x.flatMap(_).sort((M,T)=>{const R=Jm(M.object),P=Jm(T.object);return!R||!P?M.distance-T.distance:P.events.priority-R.events.priority||M.distance-T.distance}).filter(M=>{const T=FS(M);return g.has(T)?!1:(g.add(T),!0)});p.events.filter&&(w=p.events.filter(w,p));for(const M of w){let T=M.object;for(;T;){var S;(S=T.__r3f)!=null&&S.eventCount&&v.push({...M,eventObject:T}),T=T.parent}}if("pointerId"in c&&p.internal.capturedMap.has(c.pointerId))for(let M of p.internal.capturedMap.get(c.pointerId).values())g.has(FS(M.intersection))||v.push(M.intersection);return v}function r(c,h,p,g){if(c.length){const v={stopped:!1};for(const x of c){let _=Jm(x.object);if(_||x.object.traverseAncestors(w=>{const S=Jm(w);if(S)return _=S,!1}),_){const{raycaster:w,pointer:S,camera:M,internal:T}=_,R=new ee(S.x,S.y,0).unproject(M),P=z=>{var W,j;return(W=(j=T.capturedMap.get(z))==null?void 0:j.has(x.eventObject))!=null?W:!1},L=z=>{const W={intersection:x,target:h.target};T.capturedMap.has(z)?T.capturedMap.get(z).set(x.eventObject,W):T.capturedMap.set(z,new Map([[x.eventObject,W]])),h.target.setPointerCapture(z)},I=z=>{const W=T.capturedMap.get(z);W&&O8(T.capturedMap,x.eventObject,W,z)};let B={};for(let z in h){let W=h[z];typeof W!="function"&&(B[z]=W)}let D={...x,...B,pointer:S,intersections:c,stopped:v.stopped,delta:p,unprojectedPoint:R,ray:w.ray,camera:M,stopPropagation(){const z="pointerId"in h&&T.capturedMap.get(h.pointerId);if((!z||z.has(x.eventObject))&&(D.stopped=v.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(W=>W.eventObject===x.eventObject))){const W=c.slice(0,c.indexOf(x));a([...W,x])}},target:{hasPointerCapture:P,setPointerCapture:L,releasePointerCapture:I},currentTarget:{hasPointerCapture:P,setPointerCapture:L,releasePointerCapture:I},nativeEvent:h};if(g(D),v.stopped===!0)break}}}return c}function a(c){const{internal:h}=t.getState();for(const p of h.hovered.values())if(!c.length||!c.find(g=>g.object===p.object&&g.index===p.index&&g.instanceId===p.instanceId)){const v=p.eventObject.__r3f;if(h.hovered.delete(FS(p)),v!=null&&v.eventCount){const x=v.handlers,_={...p,intersections:c};x.onPointerOut==null||x.onPointerOut(_),x.onPointerLeave==null||x.onPointerLeave(_)}}}function s(c,h){for(let p=0;p<h.length;p++){const g=h[p].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(c)}}function l(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return h=>{const{internal:p}=t.getState();"pointerId"in h&&p.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(h.pointerId)&&(p.capturedMap.delete(h.pointerId),a([]))})}}return function(p){const{onPointerMissed:g,internal:v}=t.getState();v.lastEvent.current=p;const x=c==="onPointerMove",_=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",S=i(p,x?n:void 0),M=_?e(p):0;c==="onPointerDown"&&(v.initialClick=[p.offsetX,p.offsetY],v.initialHits=S.map(R=>R.eventObject)),_&&!S.length&&M<=2&&(s(p,v.interaction),g&&g(p)),x&&a(S);function T(R){const P=R.eventObject,L=P.__r3f;if(!(L!=null&&L.eventCount))return;const I=L.handlers;if(x){if(I.onPointerOver||I.onPointerEnter||I.onPointerOut||I.onPointerLeave){const B=FS(R),D=v.hovered.get(B);D?D.stopped&&R.stopPropagation():(v.hovered.set(B,R),I.onPointerOver==null||I.onPointerOver(R),I.onPointerEnter==null||I.onPointerEnter(R))}I.onPointerMove==null||I.onPointerMove(R)}else{const B=I[c];B?(!_||v.initialHits.includes(P))&&(s(p,v.interaction.filter(D=>!v.initialHits.includes(D))),B(R)):_&&v.initialHits.includes(P)&&s(p,v.interaction.filter(D=>!v.initialHits.includes(D)))}}r(S,p,M,T)}}return{handlePointer:l}}const AU=t=>!!(t!=null&&t.render),lx=U.createContext(null),zte=(t,e)=>{const n=b8((l,c)=>{const h=new ee,p=new ee,g=new ee;function v(M=c().camera,T=p,R=c().size){const{width:P,height:L,top:I,left:B}=R,D=P/L;T.isVector3?g.copy(T):g.set(...T);const z=M.getWorldPosition(h).distanceTo(g);if(T8(M))return{width:P/M.zoom,height:L/M.zoom,top:I,left:B,factor:1,distance:z,aspect:D};{const W=M.fov*Math.PI/180,j=2*Math.tan(W/2)*z,G=j*(P/L);return{width:G,height:j,top:I,left:B,factor:P/G,distance:z,aspect:D}}}let x;const _=M=>l(T=>({performance:{...T.performance,current:M}})),w=new Qe;return{set:l,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(M=1)=>t(c(),M),advance:(M,T)=>e(M,T,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new c8,pointer:w,mouse:w,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=c();x&&clearTimeout(x),M.performance.current!==M.performance.min&&_(M.performance.min),x=setTimeout(()=>_(c().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:M=>l(T=>({...T,events:{...T.events,...M}})),setSize:(M,T,R=0,P=0)=>{const L=c().camera,I={width:M,height:T,top:R,left:P};l(B=>({size:I,viewport:{...B.viewport,...v(L,p,I)}}))},setDpr:M=>l(T=>{const R=C8(M);return{viewport:{...T.viewport,dpr:R,initialDpr:T.viewport.initialDpr||R}}}),setFrameloop:(M="always")=>{const T=c().clock;T.stop(),T.elapsedTime=0,M!=="never"&&(T.start(),T.elapsedTime=0),l(()=>({frameloop:M}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:U.createRef(),active:!1,frames:0,priority:0,subscribe:(M,T,R)=>{const P=c().internal;return P.priority=P.priority+(T>0?1:0),P.subscribers.push({ref:M,priority:T,store:R}),P.subscribers=P.subscribers.sort((L,I)=>L.priority-I.priority),()=>{const L=c().internal;L!=null&&L.subscribers&&(L.priority=L.priority-(T>0?1:0),L.subscribers=L.subscribers.filter(I=>I.ref!==M))}}}}}),i=n.getState();let r=i.size,a=i.viewport.dpr,s=i.camera;return n.subscribe(()=>{const{camera:l,size:c,viewport:h,gl:p,set:g}=n.getState();if(c.width!==r.width||c.height!==r.height||h.dpr!==a){r=c,a=h.dpr,P8(l,c),h.dpr>0&&p.setPixelRatio(h.dpr);const v=typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(c.width,c.height,v)}l!==s&&(s=l,g(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(l)}})))}),n.subscribe(l=>t(l)),n};function P3(){const t=U.useContext(lx);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function lo(t=n=>n,e){return P3()(t,e)}function qc(t,e=0){const n=P3(),i=n.getState().internal.subscribe,r=R3(t);return Hx(()=>i(r,e,n),[e,i,n]),null}const TU=new WeakMap,Bte=t=>{var e;return typeof t=="function"&&(t==null||(e=t.prototype)==null?void 0:e.constructor)===t};function D8(t,e){return function(n,...i){let r;return Bte(n)?(r=TU.get(n),r||(r=new n,TU.set(n,r))):r=n,t&&t(r),Promise.all(i.map(a=>new Promise((s,l)=>r.load(a,c=>{ls(c==null?void 0:c.scene)&&Object.assign(c,Cte(c.scene)),s(c)},e,c=>l(new Error(`Could not load ${a}: ${c==null?void 0:c.message}`))))))}}function Lg(t,e,n,i){const r=Array.isArray(e)?e:[e],a=mte(D8(n,i),[t,...r],{equal:qi.equ});return Array.isArray(e)?a:a[0]}Lg.preload=function(t,e,n){const i=Array.isArray(e)?e:[e];return gte(D8(n),[t,...i])};Lg.clear=function(t,e){const n=Array.isArray(e)?e:[e];return vte([t,...n])};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */const kte=1,Fte=8,Vte=32,Hte=2;var jte={version:"9.5.0"};function Gte(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var CU={exports:{}},RU={exports:{}},PU;function Wte(){return PU||(PU=1,(function(t){t.exports=function(e){function n(f,d,b,E){return new kv(f,d,b,E)}function i(){}function r(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)d+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(f){var d=f,b=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,(d.flags&4098)!==0&&(b=d.return),f=d.return;while(f)}return d.tag===3?b:null}function s(f){if(a(f)!==f)throw Error(r(188))}function l(f){var d=f.alternate;if(!d){if(d=a(f),d===null)throw Error(r(188));return d!==f?null:f}for(var b=f,E=d;;){var O=b.return;if(O===null)break;var N=O.alternate;if(N===null){if(E=O.return,E!==null){b=E;continue}break}if(O.child===N.child){for(N=O.child;N;){if(N===b)return s(O),f;if(N===E)return s(O),d;N=N.sibling}throw Error(r(188))}if(b.return!==E.return)b=O,E=N;else{for(var X=!1,le=O.child;le;){if(le===b){X=!0,b=O,E=N;break}if(le===E){X=!0,E=O,b=N;break}le=le.sibling}if(!X){for(le=N.child;le;){if(le===b){X=!0,b=N,E=O;break}if(le===E){X=!0,E=N,b=O;break}le=le.sibling}if(!X)throw Error(r(189))}}if(b.alternate!==E)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?f:d}function c(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(d=c(f),d!==null)return d;f=f.sibling}return null}function h(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(d=h(f),d!==null))return d;f=f.sibling}return null}function p(f){return f===null||typeof f!="object"?null:(f=fl&&f[fl]||f["@@iterator"],typeof f=="function"?f:null)}function g(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===ru?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case nc:return"Fragment";case rc:return"Profiler";case ic:return"StrictMode";case em:return"Suspense";case cl:return"SuspenseList";case Yh:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case tc:return"Portal";case Ts:return f.displayName||"Context";case $h:return(f._context.displayName||"Context")+".Consumer";case _f:var d=f.render;return f=f.displayName,f||(f=d.displayName||d.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case tm:return d=f.displayName||null,d!==null?d:g(f.type)||"Memo";case ga:d=f._payload,f=f._init;try{return g(f(d))}catch{}}return null}function v(f){return{current:f}}function x(f){0>uc||(f.current=pm[uc],pm[uc]=null,uc--)}function _(f,d){uc++,pm[uc]=f.current,f.current=d}function w(f){return f>>>=0,f===0?32:31-(mm(f)/T_|0)|0}function S(f){var d=f&42;if(d!==0)return d;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function M(f,d,b){var E=f.pendingLanes;if(E===0)return 0;var O=0,N=f.suspendedLanes,X=f.pingedLanes;f=f.warmLanes;var le=E&134217727;return le!==0?(E=le&~N,E!==0?O=S(E):(X&=le,X!==0?O=S(X):b||(b=le&~f,b!==0&&(O=S(b))))):(le=E&~N,le!==0?O=S(le):X!==0?O=S(X):b||(b=E&~f,b!==0&&(O=S(b)))),O===0?0:d!==0&&d!==O&&(d&N)===0&&(N=O&-O,b=d&-d,N>=b||N===32&&(b&4194048)!==0)?d:O}function T(f,d){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&d)===0}function R(f,d){switch(f){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var f=Cf;return Cf<<=1,(Cf&62914560)===0&&(Cf=4194304),f}function L(f){for(var d=[],b=0;31>b;b++)d.push(f);return d}function I(f,d){f.pendingLanes|=d,d!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function B(f,d,b,E,O,N){var X=f.pendingLanes;f.pendingLanes=b,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=b,f.entangledLanes&=b,f.errorRecoveryDisabledLanes&=b,f.shellSuspendCounter=0;var le=f.entanglements,Le=f.expirationTimes,it=f.hiddenUpdates;for(b=X&~b;0<b;){var _t=31-Ua(b),ct=1<<_t;le[_t]=0,Le[_t]=-1;var It=it[_t];if(It!==null)for(it[_t]=null,_t=0;_t<It.length;_t++){var pn=It[_t];pn!==null&&(pn.lane&=-536870913)}b&=~ct}E!==0&&D(f,E,0),N!==0&&O===0&&f.tag!==0&&(f.suspendedLanes|=N&~(X&~d))}function D(f,d,b){f.pendingLanes|=d,f.suspendedLanes&=~d;var E=31-Ua(d);f.entangledLanes|=d,f.entanglements[E]=f.entanglements[E]|1073741824|b&261930}function z(f,d){var b=f.entangledLanes|=d;for(f=f.entanglements;b;){var E=31-Ua(b),O=1<<E;O&d|f[E]&d&&(f[E]|=d),b&=~O}}function W(f,d){var b=d&-d;return b=(b&42)!==0?1:j(b),(b&(f.suspendedLanes|d))!==0?0:b}function j(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function G(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function J(f){if(typeof w0=="function"&&P_(f),za&&typeof za.setStrictMode=="function")try{za.setStrictMode(fc,f)}catch{}}function te(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}function ie(f){if(_m===void 0)try{throw Error()}catch(b){var d=b.stack.trim().match(/\n( *(at )?)/);_m=d&&d[1]||"",Po=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_m+f+Po}function q(f,d){if(!f||rd)return"";rd=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(d){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(pn){var It=pn}Reflect.construct(f,[],ct)}else{try{ct.call()}catch(pn){It=pn}f.call(ct.prototype)}}else{try{throw Error()}catch(pn){It=pn}(ct=f())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(pn){if(pn&&It&&typeof pn.stack=="string")return[pn.stack,It.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=E.DetermineComponentFrameRoot(),X=N[0],le=N[1];if(X&&le){var Le=X.split(`
`),it=le.split(`
`);for(O=E=0;E<Le.length&&!Le[E].includes("DetermineComponentFrameRoot");)E++;for(;O<it.length&&!it[O].includes("DetermineComponentFrameRoot");)O++;if(E===Le.length||O===it.length)for(E=Le.length-1,O=it.length-1;1<=E&&0<=O&&Le[E]!==it[O];)O--;for(;1<=E&&0<=O;E--,O--)if(Le[E]!==it[O]){if(E!==1||O!==1)do if(E--,O--,0>O||Le[E]!==it[O]){var _t=`
`+Le[E].replace(" at new "," at ");return f.displayName&&_t.includes("<anonymous>")&&(_t=_t.replace("<anonymous>",f.displayName)),_t}while(1<=E&&0<=O);break}}}finally{rd=!1,Error.prepareStackTrace=b}return(b=f?f.displayName||f.name:"")?ie(b):""}function K(f,d){switch(f.tag){case 26:case 27:case 5:return ie(f.type);case 16:return ie("Lazy");case 13:return f.child!==d&&d!==null?ie("Suspense Fallback"):ie("Suspense");case 19:return ie("SuspenseList");case 0:case 15:return q(f.type,!1);case 11:return q(f.type.render,!1);case 1:return q(f.type,!0);case 31:return ie("Activity");default:return""}}function pe(f){try{var d="",b=null;do d+=K(f,b),b=f,f=f.return;while(f);return d}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}function de(f,d){if(typeof f=="object"&&f!==null){var b=E0.get(f);return b!==void 0?b:(d={value:f,source:d,stack:pe(d)},E0.set(f,d),d)}return{value:f,source:d,stack:pe(d)}}function _e(f,d){pl[Oo++]=ad,pl[Oo++]=si,si=f,ad=d}function Y(f,d,b){Ps[ts++]=zr,Ps[ts++]=Zs,Ps[ts++]=Os,Os=f;var E=zr;f=Zs;var O=32-Ua(E)-1;E&=~(1<<O),b+=1;var N=32-Ua(d)+O;if(30<N){var X=O-O%5;N=(E&(1<<X)-1).toString(32),E>>=X,O-=X,zr=1<<32-Ua(d)+O|b<<O|E,Zs=N+f}else zr=1<<N|b<<O|E,Zs=f}function re(f){f.return!==null&&(_e(f,1),Y(f,1,0))}function Me(f){for(;f===si;)si=pl[--Oo],pl[Oo]=null,ad=pl[--Oo],pl[Oo]=null;for(;f===Os;)Os=Ps[--ts],Ps[ts]=null,Zs=Ps[--ts],Ps[ts]=null,zr=Ps[--ts],Ps[ts]=null}function ke(f,d){Ps[ts++]=zr,Ps[ts++]=Zs,Ps[ts++]=Os,zr=d.id,Zs=d.overflow,Os=f}function mt(f,d){_(Br,d),_(ml,f),_(Pr,null),f=jb(d),x(Pr),_(Pr,f)}function me(){x(Pr),x(ml),x(Br)}function De(f){f.memoizedState!==null&&_(sd,f);var d=Pr.current,b=wf(d,f.type);d!==b&&(_(ml,f),_(Pr,b))}function Ye(f){ml.current===f&&(x(Pr),x(ml)),sd.current===f&&(x(sd),Zi?oc._currentValue=sc:oc._currentValue2=sc)}function xe(f){var d=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qe(de(d,f)),Sm}function ot(f,d){if(!Mi)throw Error(r(175));m_(f.stateNode,f.type,f.memoizedProps,d,f)||xe(f,!0)}function xt(f){for(vr=f.return;vr;)switch(vr.tag){case 5:case 31:case 13:ya=!1;return;case 27:case 3:ya=!0;return;default:vr=vr.return}}function je(f){if(!Mi||f!==vr)return!1;if(!On)return xt(f),On=!0,!1;var d=f.tag;if(gr?d!==3&&d!==27&&(d!==5||Tf(f.type)&&!va(f.type,f.memoizedProps))&&wi&&xe(f):d!==3&&(d!==5||Tf(f.type)&&!va(f.type,f.memoizedProps))&&wi&&xe(f),xt(f),d===13){if(!Mi)throw Error(r(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));wi=d0(f)}else if(d===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));wi=v_(f)}else wi=gr&&d===27?o_(f.type,wi):vr?s_(f.stateNode):null;return!0}function Nt(){Mi&&(wi=vr=null,On=!1)}function Pe(){var f=Do;return f!==null&&(Fa===null?Fa=f:Fa.push.apply(Fa,f),Do=null),f}function qe(f){Do===null?Do=[f]:Do.push(f)}function He(f,d,b){Zi?(_(Ds,d._currentValue),d._currentValue=b):(_(Ds,d._currentValue2),d._currentValue2=b)}function ft(f){var d=Ds.current;Zi?f._currentValue=d:f._currentValue2=d,x(Ds)}function ne(f,d,b){for(;f!==null;){var E=f.alternate;if((f.childLanes&d)!==d?(f.childLanes|=d,E!==null&&(E.childLanes|=d)):E!==null&&(E.childLanes&d)!==d&&(E.childLanes|=d),f===b)break;f=f.return}}function Vt(f,d,b,E){var O=f.child;for(O!==null&&(O.return=f);O!==null;){var N=O.dependencies;if(N!==null){var X=O.child;N=N.firstContext;e:for(;N!==null;){var le=N;N=O;for(var Le=0;Le<d.length;Le++)if(le.context===d[Le]){N.lanes|=b,le=N.alternate,le!==null&&(le.lanes|=b),ne(N.return,b,f),E||(X=null);break e}N=le.next}}else if(O.tag===18){if(X=O.return,X===null)throw Error(r(341));X.lanes|=b,N=X.alternate,N!==null&&(N.lanes|=b),ne(X,b,f),X=null}else X=O.child;if(X!==null)X.return=O;else for(X=O;X!==null;){if(X===f){X=null;break}if(O=X.sibling,O!==null){O.return=X.return,X=O;break}X=X.return}O=X}}function Mt(f,d,b,E){f=null;for(var O=d,N=!1;O!==null;){if(!N){if((O.flags&524288)!==0)N=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var X=O.alternate;if(X===null)throw Error(r(387));if(X=X.memoizedProps,X!==null){var le=O.type;Qi(O.pendingProps.value,X.value)||(f!==null?f.push(le):f=[le])}}else if(O===sd.current){if(X=O.alternate,X===null)throw Error(r(387));X.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(f!==null?f.push(oc):f=[oc])}O=O.return}f!==null&&Vt(d,f,b,E),d.flags|=262144}function Gt(f){for(f=f.firstContext;f!==null;){var d=f.context;if(!Qi(Zi?d._currentValue:d._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function ht(f){fi=f,Ks=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Q(f){return ge(fi,f)}function F(f,d){return fi===null&&ht(f),ge(f,d)}function ge(f,d){var b=Zi?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:b,next:null},Ks===null){if(f===null)throw Error(r(308));Ks=d,f.dependencies={lanes:0,firstContext:d},f.flags|=524288}else Ks=Ks.next=d;return b}function Ie(){return{controller:new O_,data:new Map,refCount:0}}function Xe(f){f.refCount--,f.refCount===0&&Or(gA,function(){f.controller.abort()})}function Ue(){}function Et(f){f!==ei&&f.next===null&&(ei===null?od=ei=f:ei=ei.next=f),Is=!0,Qr||(Qr=!0,wt())}function dt(f,d){if(!Mm&&Is){Mm=!0;do for(var b=!1,E=od;E!==null;){if(f!==0){var O=E.pendingLanes;if(O===0)var N=0;else{var X=E.suspendedLanes,le=E.pingedLanes;N=(1<<31-Ua(42|f)+1)-1,N&=O&~(X&~le),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(b=!0,Ot(E,N))}else N=Dn,N=M(E,E===Mn?N:0,E.cancelPendingCommit!==null||E.timeoutHandle!==La),(N&3)===0||T(E,N)||(b=!0,Ot(E,N));E=E.next}while(b);Mm=!1}}function Ht(){Yt()}function Yt(){Is=Qr=!1;var f=0;uu!==0&&ac()&&(f=uu);for(var d=Kr(),b=null,E=od;E!==null;){var O=E.next,N=Je(E,d);N===0?(E.next=null,b===null?od=O:b.next=O,O===null&&(ei=b)):(b=E,(f!==0||(N&3)!==0)&&(Is=!0)),E=O}ur!==0&&ur!==5||dt(f),uu!==0&&(uu=0)}function Je(f,d){for(var b=f.suspendedLanes,E=f.pingedLanes,O=f.expirationTimes,N=f.pendingLanes&-62914561;0<N;){var X=31-Ua(N),le=1<<X,Le=O[X];Le===-1?((le&b)===0||(le&E)!==0)&&(O[X]=R(le,d)):Le<=d&&(f.expiredLanes|=le),N&=~le}if(d=Mn,b=Dn,b=M(f,f===d?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==La),E=f.callbackNode,b===0||f===d&&(ni===2||ni===9)||f.cancelPendingCommit!==null)return E!==null&&E!==null&&vm(E),f.callbackNode=null,f.callbackPriority=0;if((b&3)===0||T(f,b)){if(d=b&-b,d===f.callbackPriority)return d;switch(E!==null&&vm(E),G(b)){case 2:case 8:b=R_;break;case 32:b=id;break;case 268435456:b=xm;break;default:b=id}return E=Ze.bind(null,f),b=nd(b,E),f.callbackPriority=d,f.callbackNode=b,d}return E!==null&&E!==null&&vm(E),f.callbackPriority=2,f.callbackNode=null,2}function Ze(f,d){if(ur!==0&&ur!==5)return f.callbackNode=null,f.callbackPriority=0,null;var b=f.callbackNode;if(To()&&f.callbackNode!==b)return null;var E=Dn;return E=M(f,f===Mn?E:0,f.cancelPendingCommit!==null||f.timeoutHandle!==La),E===0?null:(Ys(f,E,d),Je(f,Kr()),f.callbackNode!=null&&f.callbackNode===b?Ze.bind(null,f):null)}function Ot(f,d){if(To())return null;Ys(f,d,!0)}function wt(){Kv?Qv(function(){(Tn&6)!==0?nd(ym,Ht):Yt()}):nd(ym,Ht)}function St(){if(uu===0){var f=gl;f===0&&(f=gm,gm<<=1,(gm&261888)===0&&(gm=256)),uu=f}return uu}function Xt(f,d){if(Rf===null){var b=Rf=[];A0=0,gl=St(),yr={status:"pending",value:void 0,then:function(E){b.push(E)}}}return A0++,d.then(ve,ve),d}function ve(){if(--A0===0&&Rf!==null){yr!==null&&(yr.status="fulfilled");var f=Rf;Rf=null,gl=0,yr=null;for(var d=0;d<f.length;d++)(0,f[d])()}}function Te(f,d){var b=[],E={status:"pending",value:null,reason:null,then:function(O){b.push(O)}};return f.then(function(){E.status="fulfilled",E.value=d;for(var O=0;O<b.length;O++)(0,b[O])(d)},function(O){for(E.status="rejected",E.reason=O,O=0;O<b.length;O++)(0,b[O])(void 0)}),E}function ut(){var f=cu.current;return f!==null?f:Mn.pooledCache}function Pt(f,d){d===null?_(cu,cu.current):_(cu,d.pool)}function at(){var f=ut();return f===null?null:{parent:Zi?Ei._currentValue:Ei._currentValue2,pool:f}}function Fe(f,d){if(Qi(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var b=Object.keys(f),E=Object.keys(d);if(b.length!==E.length)return!1;for(E=0;E<b.length;E++){var O=b[E];if(!mA.call(d,O)||!Qi(f[O],d[O]))return!1}return!0}function Lt(f){return f=f.status,f==="fulfilled"||f==="rejected"}function rn(f,d,b){switch(b=f[b],b===void 0?f.push(d):b!==d&&(d.then(Ue,Ue),d=b),d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,Er(f),f;default:if(typeof d.status=="string")d.then(Ue,Ue);else{if(f=Mn,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=d,f.status="pending",f.then(function(E){if(d.status==="pending"){var O=d;O.status="fulfilled",O.value=E}},function(E){if(d.status==="pending"){var O=d;O.status="rejected",O.reason=E}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,Er(f),f}throw xa=d,xr}}function Rn(f){try{var d=f._init;return d(f._payload)}catch(b){throw b!==null&&typeof b=="object"&&typeof b.then=="function"?(xa=b,xr):b}}function In(){if(xa===null)throw Error(r(459));var f=xa;return xa=null,f}function Er(f){if(f===xr||f===Ls)throw Error(r(483))}function $r(f){var d=hc;return hc+=1,fu===null&&(fu=[]),rn(fu,f,d)}function qs(f,d){d=d.props.ref,f.ref=d!==void 0?d:null}function Xs(f,d){throw d.$$typeof===ec?Error(r(525)):(f=Object.prototype.toString.call(d),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":f)))}function po(f){function d(Ce,Se){if(f){var Oe=Ce.deletions;Oe===null?(Ce.deletions=[Se],Ce.flags|=16):Oe.push(Se)}}function b(Ce,Se){if(!f)return null;for(;Se!==null;)d(Ce,Se),Se=Se.sibling;return null}function E(Ce){for(var Se=new Map;Ce!==null;)Ce.key!==null?Se.set(Ce.key,Ce):Se.set(Ce.index,Ce),Ce=Ce.sibling;return Se}function O(Ce,Se){return Ce=Ja(Ce,Se),Ce.index=0,Ce.sibling=null,Ce}function N(Ce,Se,Oe){return Ce.index=Oe,f?(Oe=Ce.alternate,Oe!==null?(Oe=Oe.index,Oe<Se?(Ce.flags|=67108866,Se):Oe):(Ce.flags|=67108866,Se)):(Ce.flags|=1048576,Se)}function X(Ce){return f&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function le(Ce,Se,Oe,yt){return Se===null||Se.tag!==6?(Se=Fv(Oe,Ce.mode,yt),Se.return=Ce,Se):(Se=O(Se,Oe),Se.return=Ce,Se)}function Le(Ce,Se,Oe,yt){var en=Oe.type;return en===nc?_t(Ce,Se,Oe.props.children,yt,Oe.key):Se!==null&&(Se.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===ga&&Rn(en)===Se.type)?(Se=O(Se,Oe.props),qs(Se,Oe),Se.return=Ce,Se):(Se=ul(Oe.type,Oe.key,Oe.props,null,Ce.mode,yt),qs(Se,Oe),Se.return=Ce,Se)}function it(Ce,Se,Oe,yt){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Oe.containerInfo||Se.stateNode.implementation!==Oe.implementation?(Se=Hv(Oe,Ce.mode,yt),Se.return=Ce,Se):(Se=O(Se,Oe.children||[]),Se.return=Ce,Se)}function _t(Ce,Se,Oe,yt,en){return Se===null||Se.tag!==7?(Se=As(Oe,Ce.mode,yt,en),Se.return=Ce,Se):(Se=O(Se,Oe),Se.return=Ce,Se)}function ct(Ce,Se,Oe){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=Fv(""+Se,Ce.mode,Oe),Se.return=Ce,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case Co:return Oe=ul(Se.type,Se.key,Se.props,null,Ce.mode,Oe),qs(Oe,Se),Oe.return=Ce,Oe;case tc:return Se=Hv(Se,Ce.mode,Oe),Se.return=Ce,Se;case ga:return Se=Rn(Se),ct(Ce,Se,Oe)}if(au(Se)||p(Se))return Se=As(Se,Ce.mode,Oe,null),Se.return=Ce,Se;if(typeof Se.then=="function")return ct(Ce,$r(Se),Oe);if(Se.$$typeof===Ts)return ct(Ce,F(Ce,Se),Oe);Xs(Ce,Se)}return null}function It(Ce,Se,Oe,yt){var en=Se!==null?Se.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return en!==null?null:le(Ce,Se,""+Oe,yt);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case Co:return Oe.key===en?Le(Ce,Se,Oe,yt):null;case tc:return Oe.key===en?it(Ce,Se,Oe,yt):null;case ga:return Oe=Rn(Oe),It(Ce,Se,Oe,yt)}if(au(Oe)||p(Oe))return en!==null?null:_t(Ce,Se,Oe,yt,null);if(typeof Oe.then=="function")return It(Ce,Se,$r(Oe),yt);if(Oe.$$typeof===Ts)return It(Ce,Se,F(Ce,Oe),yt);Xs(Ce,Oe)}return null}function pn(Ce,Se,Oe,yt,en){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return Ce=Ce.get(Oe)||null,le(Se,Ce,""+yt,en);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case Co:return Ce=Ce.get(yt.key===null?Oe:yt.key)||null,Le(Se,Ce,yt,en);case tc:return Ce=Ce.get(yt.key===null?Oe:yt.key)||null,it(Se,Ce,yt,en);case ga:return yt=Rn(yt),pn(Ce,Se,Oe,yt,en)}if(au(yt)||p(yt))return Ce=Ce.get(Oe)||null,_t(Se,Ce,yt,en,null);if(typeof yt.then=="function")return pn(Ce,Se,Oe,$r(yt),en);if(yt.$$typeof===Ts)return pn(Ce,Se,Oe,F(Se,yt),en);Xs(Se,yt)}return null}function tr(Ce,Se,Oe,yt){for(var en=null,Li=null,nn=Se,Fn=Se=0,Dr=null;nn!==null&&Fn<Oe.length;Fn++){nn.index>Fn?(Dr=nn,nn=null):Dr=nn.sibling;var Xn=It(Ce,nn,Oe[Fn],yt);if(Xn===null){nn===null&&(nn=Dr);break}f&&nn&&Xn.alternate===null&&d(Ce,nn),Se=N(Xn,Se,Fn),Li===null?en=Xn:Li.sibling=Xn,Li=Xn,nn=Dr}if(Fn===Oe.length)return b(Ce,nn),On&&_e(Ce,Fn),en;if(nn===null){for(;Fn<Oe.length;Fn++)nn=ct(Ce,Oe[Fn],yt),nn!==null&&(Se=N(nn,Se,Fn),Li===null?en=nn:Li.sibling=nn,Li=nn);return On&&_e(Ce,Fn),en}for(nn=E(nn);Fn<Oe.length;Fn++)Dr=pn(nn,Ce,Fn,Oe[Fn],yt),Dr!==null&&(f&&Dr.alternate!==null&&nn.delete(Dr.key===null?Fn:Dr.key),Se=N(Dr,Se,Fn),Li===null?en=Dr:Li.sibling=Dr,Li=Dr);return f&&nn.forEach(function(Bs){return d(Ce,Bs)}),On&&_e(Ce,Fn),en}function zf(Ce,Se,Oe,yt){if(Oe==null)throw Error(r(151));for(var en=null,Li=null,nn=Se,Fn=Se=0,Dr=null,Xn=Oe.next();nn!==null&&!Xn.done;Fn++,Xn=Oe.next()){nn.index>Fn?(Dr=nn,nn=null):Dr=nn.sibling;var Bs=It(Ce,nn,Xn.value,yt);if(Bs===null){nn===null&&(nn=Dr);break}f&&nn&&Bs.alternate===null&&d(Ce,nn),Se=N(Bs,Se,Fn),Li===null?en=Bs:Li.sibling=Bs,Li=Bs,nn=Dr}if(Xn.done)return b(Ce,nn),On&&_e(Ce,Fn),en;if(nn===null){for(;!Xn.done;Fn++,Xn=Oe.next())Xn=ct(Ce,Xn.value,yt),Xn!==null&&(Se=N(Xn,Se,Fn),Li===null?en=Xn:Li.sibling=Xn,Li=Xn);return On&&_e(Ce,Fn),en}for(nn=E(nn);!Xn.done;Fn++,Xn=Oe.next())Xn=pn(nn,Ce,Fn,Xn.value,yt),Xn!==null&&(f&&Xn.alternate!==null&&nn.delete(Xn.key===null?Fn:Xn.key),Se=N(Xn,Se,Fn),Li===null?en=Xn:Li.sibling=Xn,Li=Xn);return f&&nn.forEach(function(vA){return d(Ce,vA)}),On&&_e(Ce,Fn),en}function xu(Ce,Se,Oe,yt){if(typeof Oe=="object"&&Oe!==null&&Oe.type===nc&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case Co:e:{for(var en=Oe.key;Se!==null;){if(Se.key===en){if(en=Oe.type,en===nc){if(Se.tag===7){b(Ce,Se.sibling),yt=O(Se,Oe.props.children),yt.return=Ce,Ce=yt;break e}}else if(Se.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===ga&&Rn(en)===Se.type){b(Ce,Se.sibling),yt=O(Se,Oe.props),qs(yt,Oe),yt.return=Ce,Ce=yt;break e}b(Ce,Se);break}else d(Ce,Se);Se=Se.sibling}Oe.type===nc?(yt=As(Oe.props.children,Ce.mode,yt,Oe.key),yt.return=Ce,Ce=yt):(yt=ul(Oe.type,Oe.key,Oe.props,null,Ce.mode,yt),qs(yt,Oe),yt.return=Ce,Ce=yt)}return X(Ce);case tc:e:{for(en=Oe.key;Se!==null;){if(Se.key===en)if(Se.tag===4&&Se.stateNode.containerInfo===Oe.containerInfo&&Se.stateNode.implementation===Oe.implementation){b(Ce,Se.sibling),yt=O(Se,Oe.children||[]),yt.return=Ce,Ce=yt;break e}else{b(Ce,Se);break}else d(Ce,Se);Se=Se.sibling}yt=Hv(Oe,Ce.mode,yt),yt.return=Ce,Ce=yt}return X(Ce);case ga:return Oe=Rn(Oe),xu(Ce,Se,Oe,yt)}if(au(Oe))return tr(Ce,Se,Oe,yt);if(p(Oe)){if(en=p(Oe),typeof en!="function")throw Error(r(150));return Oe=en.call(Oe),zf(Ce,Se,Oe,yt)}if(typeof Oe.then=="function")return xu(Ce,Se,$r(Oe),yt);if(Oe.$$typeof===Ts)return xu(Ce,Se,F(Ce,Oe),yt);Xs(Ce,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,Se!==null&&Se.tag===6?(b(Ce,Se.sibling),yt=O(Se,Oe),yt.return=Ce,Ce=yt):(b(Ce,Se),yt=Fv(Oe,Ce.mode,yt),yt.return=Ce,Ce=yt),X(Ce)):b(Ce,Se)}return function(Ce,Se,Oe,yt){try{hc=0;var en=xu(Ce,Se,Oe,yt);return fu=null,en}catch(nn){if(nn===xr||nn===Ls)throw nn;var Li=n(29,nn,null,Ce.mode);return Li.lanes=yt,Li.return=Ce,Li}finally{}}}function $s(){for(var f=No,d=dc=No=0;d<f;){var b=Fr[d];Fr[d++]=null;var E=Fr[d];Fr[d++]=null;var O=Fr[d];Fr[d++]=null;var N=Fr[d];if(Fr[d++]=null,E!==null&&O!==null){var X=E.pending;X===null?O.next=O:(O.next=X.next,X.next=O),E.pending=O}N!==0&&ha(b,O,N)}}function fa(f,d,b,E){Fr[No++]=f,Fr[No++]=d,Fr[No++]=b,Fr[No++]=E,dc|=E,f.lanes|=E,f=f.alternate,f!==null&&(f.lanes|=E)}function Ar(f,d,b,E){return fa(f,d,b,E),vi(f)}function ln(f,d){return fa(f,null,null,d),vi(f)}function ha(f,d,b){f.lanes|=b;var E=f.alternate;E!==null&&(E.lanes|=b);for(var O=!1,N=f.return;N!==null;)N.childLanes|=b,E=N.alternate,E!==null&&(E.childLanes|=b),N.tag===22&&(f=N.stateNode,f===null||f._visibility&1||(O=!0)),f=N,N=N.return;return f.tag===3?(N=f.stateNode,O&&d!==null&&(O=31-Ua(b),f=N.hiddenUpdates,E=f[O],E===null?f[O]=[d]:E.push(d),d.lane=b|536870912),N):null}function vi(f){if(50<Gn)throw Gn=0,dd=null,Error(r(185));for(var d=f.return;d!==null;)f=d,d=f.return;return f.tag===3?f.stateNode:null}function V(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Z(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function ae(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function we(f,d,b){var E=f.updateQueue;if(E===null)return null;if(E=E.shared,(Tn&2)!==0){var O=E.pending;return O===null?d.next=d:(d.next=O.next,O.next=d),E.pending=d,d=vi(f),ha(f,null,b),d}return fa(f,E,d,b),vi(f)}function ze(f,d,b){if(d=d.updateQueue,d!==null&&(d=d.shared,(b&4194048)!==0)){var E=d.lanes;E&=f.pendingLanes,b|=E,d.lanes=b,z(f,b)}}function Ve(f,d){var b=f.updateQueue,E=f.alternate;if(E!==null&&(E=E.updateQueue,b===E)){var O=null,N=null;if(b=b.firstBaseUpdate,b!==null){do{var X={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};N===null?O=N=X:N=N.next=X,b=b.next}while(b!==null);N===null?O=N=d:N=N.next=d}else O=N=d;b={baseState:E.baseState,firstBaseUpdate:O,lastBaseUpdate:N,shared:E.shared,callbacks:E.callbacks},f.updateQueue=b;return}f=b.lastBaseUpdate,f===null?b.firstBaseUpdate=d:f.next=d,b.lastBaseUpdate=d}function lt(){if(Em){var f=yr;if(f!==null)throw f}}function nt(f,d,b,E){Em=!1;var O=f.updateQueue;ns=!1;var N=O.firstBaseUpdate,X=O.lastBaseUpdate,le=O.shared.pending;if(le!==null){O.shared.pending=null;var Le=le,it=Le.next;Le.next=null,X===null?N=it:X.next=it,X=Le;var _t=f.alternate;_t!==null&&(_t=_t.updateQueue,le=_t.lastBaseUpdate,le!==X&&(le===null?_t.firstBaseUpdate=it:le.next=it,_t.lastBaseUpdate=Le))}if(N!==null){var ct=O.baseState;X=0,_t=it=Le=null,le=N;do{var It=le.lane&-536870913,pn=It!==le.lane;if(pn?(Dn&It)===It:(E&It)===It){It!==0&&It===gl&&(Em=!0),_t!==null&&(_t=_t.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var tr=f,zf=le;It=d;var xu=b;switch(zf.tag){case 1:if(tr=zf.payload,typeof tr=="function"){ct=tr.call(xu,ct,It);break e}ct=tr;break e;case 3:tr.flags=tr.flags&-65537|128;case 0:if(tr=zf.payload,It=typeof tr=="function"?tr.call(xu,ct,It):tr,It==null)break e;ct=Jp({},ct,It);break e;case 2:ns=!0}}It=le.callback,It!==null&&(f.flags|=64,pn&&(f.flags|=8192),pn=O.callbacks,pn===null?O.callbacks=[It]:pn.push(It))}else pn={lane:It,tag:le.tag,payload:le.payload,callback:le.callback,next:null},_t===null?(it=_t=pn,Le=ct):_t=_t.next=pn,X|=It;if(le=le.next,le===null){if(le=O.shared.pending,le===null)break;pn=le,le=pn.next,pn.next=null,O.lastBaseUpdate=pn,O.shared.pending=null}}while(!0);_t===null&&(Le=ct),O.baseState=Le,O.firstBaseUpdate=it,O.lastBaseUpdate=_t,N===null&&(O.shared.lanes=0),yl|=X,f.lanes=X,f.memoizedState=ct}}function vt(f,d){if(typeof f!="function")throw Error(r(191,f));f.call(d)}function gt(f,d){var b=f.callbacks;if(b!==null)for(f.callbacks=null,f=0;f<b.length;f++)vt(b[f],d)}function bt(f,d){f=Uo,_(hu,f),_(pc,d),Uo=f|d.baseLanes}function H(){_(hu,Uo),_(pc,pc.current)}function oe(){Uo=hu.current,x(pc),x(hu)}function ce(f){var d=f.alternate;_(Hi,Hi.current&1),_(Ba,f),ka===null&&(d===null||pc.current!==null||d.memoizedState!==null)&&(ka=f)}function ue(f){_(Hi,Hi.current),_(Ba,f),ka===null&&(ka=f)}function fe(f){f.tag===22?(_(Hi,Hi.current),_(Ba,f),ka===null&&(ka=f)):Ge()}function Ge(){_(Hi,Hi.current),_(Ba,Ba.current)}function et(f){x(Ba),ka===f&&(ka=null),x(Hi)}function tt(f){for(var d=f;d!==null;){if(d.tag===13){var b=d.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||ou(b)||om(b)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function rt(){throw Error(r(321))}function Tt(f,d){if(d===null)return!1;for(var b=0;b<d.length&&b<f.length;b++)if(!Qi(f[b],d[b]))return!1;return!0}function Rt(f,d,b,E,O,N){return vl=N,gn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Qt.H=f===null||f.memoizedState===null?Di:Lo,zn=!1,N=b(E,O),zn=!1,xn&&(N=pt(d,b,E,O)),Zt(f),N}function Zt(f){Qt.H=is;var d=$t!==null&&$t.next!==null;if(vl=0,hn=$t=gn=null,Sn=!1,Us=0,Qs=null,d)throw Error(r(300));f===null||xi||(f=f.dependencies,f!==null&&Gt(f)&&(xi=!0))}function pt(f,d,b,E){gn=f;var O=0;do{if(xn&&(Qs=null),Us=0,xn=!1,25<=O)throw Error(r(301));if(O+=1,hn=$t=null,f.updateQueue!=null){var N=f.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Qt.H=du,N=d(b,E)}while(xn);return N}function Wt(){var f=Qt.H,d=f.useState()[0];return d=typeof d.then=="function"?At(d):d,f=f.useState()[0],($t!==null?$t.memoizedState:null)!==f&&(gn.flags|=1024),d}function Nn(){var f=Jr!==0;return Jr=0,f}function Wn(f,d,b){d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~b}function cn(f){if(Sn){for(f=f.memoizedState;f!==null;){var d=f.queue;d!==null&&(d.pending=null),f=f.next}Sn=!1}vl=0,hn=$t=gn=null,xn=!1,Us=Jr=0,Qs=null}function jt(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?gn.memoizedState=hn=f:hn=hn.next=f,hn}function st(){if($t===null){var f=gn.alternate;f=f!==null?f.memoizedState:null}else f=$t.next;var d=hn===null?gn.memoizedState:hn.next;if(d!==null)hn=d,$t=f;else{if(f===null)throw gn.alternate===null?Error(r(467)):Error(r(310));$t=f,f={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},hn===null?gn.memoizedState=hn=f:hn=hn.next=f}return hn}function dn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function At(f){var d=Us;return Us+=1,Qs===null&&(Qs=[]),f=rn(Qs,f,d),d=gn,(hn===null?d.memoizedState:hn.next)===null&&(d=d.alternate,Qt.H=d===null||d.memoizedState===null?Di:Lo),f}function $n(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return At(f);if(f.$$typeof===Ts)return Q(f)}throw Error(r(438,String(f)))}function Ci(f){var d=null,b=gn.updateQueue;if(b!==null&&(d=b.memoCache),d==null){var E=gn.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(d={data:E.data.map(function(O){return O.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),b===null&&(b=dn(),gn.updateQueue=b),b.memoCache=d,b=d.data[d.index],b===void 0)for(b=d.data[d.index]=Array(f),E=0;E<f;E++)b[E]=Gv;return d.index++,b}function jn(f,d){return typeof d=="function"?d(f):d}function yi(f){var d=st();return qn(d,$t,f)}function qn(f,d,b){var E=f.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=b;var O=f.baseQueue,N=E.pending;if(N!==null){if(O!==null){var X=O.next;O.next=N.next,N.next=X}d.baseQueue=O=N,E.pending=null}if(N=f.baseState,O===null)f.memoizedState=N;else{d=O.next;var le=X=null,Le=null,it=d,_t=!1;do{var ct=it.lane&-536870913;if(ct!==it.lane?(Dn&ct)===ct:(vl&ct)===ct){var It=it.revertLane;if(It===0)Le!==null&&(Le=Le.next={lane:0,revertLane:0,gesture:null,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),ct===gl&&(_t=!0);else if((vl&It)===It){it=it.next,It===gl&&(_t=!0);continue}else ct={lane:0,revertLane:it.revertLane,gesture:null,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Le===null?(le=Le=ct,X=N):Le=Le.next=ct,gn.lanes|=It,yl|=It;ct=it.action,zn&&b(N,ct),N=it.hasEagerState?it.eagerState:b(N,ct)}else It={lane:ct,revertLane:it.revertLane,gesture:it.gesture,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Le===null?(le=Le=It,X=N):Le=Le.next=It,gn.lanes|=ct,yl|=ct;it=it.next}while(it!==null&&it!==d);if(Le===null?X=N:Le.next=le,!Qi(N,f.memoizedState)&&(xi=!0,_t&&(b=yr,b!==null)))throw b;f.memoizedState=N,f.baseState=X,f.baseQueue=Le,E.lastRenderedState=N}return O===null&&(E.lanes=0),[f.memoizedState,E.dispatch]}function Fi(f){var d=st(),b=d.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=f;var E=b.dispatch,O=b.pending,N=d.memoizedState;if(O!==null){b.pending=null;var X=O=O.next;do N=f(N,X.action),X=X.next;while(X!==O);Qi(N,d.memoizedState)||(xi=!0),d.memoizedState=N,d.baseQueue===null&&(d.baseState=N),b.lastRenderedState=N}return[N,E]}function Yr(f,d,b){var E=gn,O=st(),N=On;if(N){if(b===void 0)throw Error(r(407));b=b()}else b=d();var X=!Qi(($t||O).memoizedState,b);if(X&&(O.memoizedState=b,xi=!0),O=O.queue,nf(mo.bind(null,E,O,f),[f]),O.getSnapshot!==d||X||hn!==null&&hn.memoizedState.tag&1){if(E.flags|=2048,Za(9,{destroy:void 0},bs.bind(null,E,O,b,d),null),Mn===null)throw Error(r(349));N||(vl&127)!==0||Yi(E,d,b)}return b}function Yi(f,d,b){f.flags|=16384,f={getSnapshot:d,value:b},d=gn.updateQueue,d===null?(d=dn(),gn.updateQueue=d,d.stores=[f]):(b=d.stores,b===null?d.stores=[f]:b.push(f))}function bs(f,d,b,E){d.value=b,d.getSnapshot=E,Gu(d)&&fb(f)}function mo(f,d,b){return b(function(){Gu(d)&&fb(f)})}function Gu(f){var d=f.getSnapshot;f=f.value;try{var b=d();return!Qi(f,b)}catch{return!0}}function fb(f){var d=ln(f,2);d!==null&&Pi(d,f,2)}function mv(f){var d=jt();if(typeof f=="function"){var b=f;if(f=b(),zn){J(!0);try{b()}finally{J(!1)}}}return d.memoizedState=d.baseState=f,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:f},d}function Rh(f,d,b,E){return f.baseState=b,qn(f,$t,typeof E=="function"?E:jn)}function il(f,d,b,E,O){if(Ip(f))throw Error(r(485));if(f=d.action,f!==null){var N={payload:O,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){N.listeners.push(X)}};Qt.T!==null?b(!0):N.isTransition=!1,E(N),b=d.pending,b===null?(N.next=d.pending=N,Ap(d,N)):(N.next=b.next,d.pending=b.next=N)}}function Ap(f,d){var b=d.action,E=d.payload,O=f.state;if(d.isTransition){var N=Qt.T,X={};Qt.T=X;try{var le=b(O,E),Le=Qt.S;Le!==null&&Le(X,le),Tp(f,d,le)}catch(it){ql(f,d,it)}finally{N!==null&&X.types!==null&&(N.types=X.types),Qt.T=N}}else try{N=b(O,E),Tp(f,d,N)}catch(it){ql(f,d,it)}}function Tp(f,d,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(E){Wu(f,d,E)},function(E){return ql(f,d,E)}):Wu(f,d,b)}function Wu(f,d,b){d.status="fulfilled",d.value=b,gv(d),f.state=b,d=f.pending,d!==null&&(b=d.next,b===d?f.pending=null:(b=b.next,d.next=b,Ap(f,b)))}function ql(f,d,b){var E=f.pending;if(f.pending=null,E!==null){E=E.next;do d.status="rejected",d.reason=b,gv(d),d=d.next;while(d!==E)}f.action=null}function gv(f){f=f.listeners;for(var d=0;d<f.length;d++)(0,f[d])()}function Cp(f,d){return d}function vv(f,d){if(On){var b=Mn.formState;if(b!==null){e:{var E=gn;if(On){if(wi){var O=a_(wi,ya);if(O){wi=s_(O),E=u0(O);break e}}xe(E)}E=!1}E&&(d=b[0])}}b=jt(),b.memoizedState=b.baseState=d,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cp,lastRenderedState:d},b.queue=E,b=vb.bind(null,gn,E),E.dispatch=b,E=mv(!1);var N=Dp.bind(null,gn,!1,E.queue);return E=jt(),O={state:d,dispatch:null,action:f,pending:null},E.queue=O,b=il.bind(null,gn,O,N,b),O.dispatch=b,E.memoizedState=f,[d,b,!1]}function ef(f){var d=st();return go(d,$t,f)}function go(f,d,b){if(d=qn(f,d,Cp)[0],f=yi(jn)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var E=At(d)}catch(X){throw X===xr?Ls:X}else E=d;d=st();var O=d.queue,N=O.dispatch;return b!==d.memoizedState&&(gn.flags|=2048,Za(9,{destroy:void 0},yv.bind(null,O,b),null)),[E,N,f]}function yv(f,d){f.action=d}function tf(f){var d=st(),b=$t;if(b!==null)return go(d,b,f);st(),d=d.memoizedState,b=st();var E=b.queue.dispatch;return b.memoizedState=f,[d,E,!1]}function Za(f,d,b,E){return f={tag:f,create:b,deps:E,inst:d,next:null},d=gn.updateQueue,d===null&&(d=dn(),gn.updateQueue=d),b=d.lastEffect,b===null?d.lastEffect=f.next=f:(E=b.next,b.next=f,f.next=E,d.lastEffect=f),f}function Rp(){return st().memoizedState}function qu(f,d,b,E){var O=jt();gn.flags|=f,O.memoizedState=Za(1|d,{destroy:void 0},b,E===void 0?null:E)}function Ph(f,d,b,E){var O=st();E=E===void 0?null:E;var N=O.memoizedState.inst;$t!==null&&E!==null&&Tt(E,$t.memoizedState.deps)?O.memoizedState=Za(d,N,b,E):(gn.flags|=f,O.memoizedState=Za(1|d,N,b,E))}function Oh(f,d){qu(8390656,8,f,d)}function nf(f,d){Ph(2048,8,f,d)}function hb(f){gn.flags|=4;var d=gn.updateQueue;if(d===null)d=dn(),gn.updateQueue=d,d.events=[f];else{var b=d.events;b===null?d.events=[f]:b.push(f)}}function da(f){var d=st().memoizedState;return hb({ref:d,nextImpl:f}),function(){if((Tn&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}function Xl(f,d){return Ph(4,2,f,d)}function Dh(f,d){return Ph(4,4,f,d)}function rf(f,d){if(typeof d=="function"){f=f();var b=d(f);return function(){typeof b=="function"?b():d(null)}}if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function db(f,d,b){b=b!=null?b.concat([f]):null,Ph(4,4,rf.bind(null,d,f),b)}function Ih(){}function Pp(f,d){var b=st();d=d===void 0?null:d;var E=b.memoizedState;return d!==null&&Tt(d,E[1])?E[0]:(b.memoizedState=[f,d],f)}function af(f,d){var b=st();d=d===void 0?null:d;var E=b.memoizedState;if(d!==null&&Tt(d,E[1]))return E[0];if(E=f(),zn){J(!0);try{f()}finally{J(!1)}}return b.memoizedState=[E,d],E}function sf(f,d,b){return b===void 0||(vl&1073741824)!==0&&(Dn&261930)===0?f.memoizedState=d:(f.memoizedState=b,f=sl(),gn.lanes|=f,yl|=f,b)}function xv(f,d,b,E){return Qi(b,d)?b:pc.current!==null?(f=sf(f,b,E),Qi(f,d)||(xi=!0),f):(vl&42)===0||(vl&1073741824)!==0&&(Dn&261930)===0?(xi=!0,f.memoizedState=b):(f=sl(),gn.lanes|=f,yl|=f,d)}function pb(f,d,b,E,O){var N=Cs();Pn(N!==0&&8>N?N:8);var X=Qt.T,le={};Qt.T=le,Dp(f,!1,d,b);try{var Le=O(),it=Qt.S;if(it!==null&&it(le,Le),Le!==null&&typeof Le=="object"&&typeof Le.then=="function"){var _t=Te(Le,E);Nh(f,d,_t,Si(f))}else Nh(f,d,E,Si(f))}catch(ct){Nh(f,d,{then:function(){},status:"rejected",reason:ct},Si())}finally{Pn(N),X!==null&&le.types!==null&&(X.types=le.types),Qt.T=X}}function mb(f){var d=f.memoizedState;if(d!==null)return d;d={memoizedState:sc,baseState:sc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:sc},next:null};var b={};return d.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:b},next:null},f.memoizedState=d,f=f.alternate,f!==null&&(f.memoizedState=d),d}function bv(){return Q(oc)}function Op(){return st().memoizedState}function gb(){return st().memoizedState}function aA(f){for(var d=f.return;d!==null;){switch(d.tag){case 24:case 3:var b=Si();f=ae(b);var E=we(d,f,b);E!==null&&(Pi(E,d,b),ze(E,d,b)),d={cache:Ie()},f.payload=d;return}d=d.return}}function sA(f,d,b){var E=Si();b={lane:E,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},Ip(f)?yb(d,b):(b=Ar(f,d,b,E),b!==null&&(Pi(b,f,E),xb(b,d,E)))}function vb(f,d,b){var E=Si();Nh(f,d,b,E)}function Nh(f,d,b,E){var O={lane:E,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null};if(Ip(f))yb(d,O);else{var N=f.alternate;if(f.lanes===0&&(N===null||N.lanes===0)&&(N=d.lastRenderedReducer,N!==null))try{var X=d.lastRenderedState,le=N(X,b);if(O.hasEagerState=!0,O.eagerState=le,Qi(le,X))return fa(f,d,O,0),Mn===null&&$s(),!1}catch{}finally{}if(b=Ar(f,d,O,E),b!==null)return Pi(b,f,E),xb(b,d,E),!0}return!1}function Dp(f,d,b,E){if(E={lane:2,revertLane:St(),gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null},Ip(f)){if(d)throw Error(r(479))}else d=Ar(f,b,E,2),d!==null&&Pi(d,f,2)}function Ip(f){var d=f.alternate;return f===gn||d!==null&&d===gn}function yb(f,d){xn=Sn=!0;var b=f.pending;b===null?d.next=d:(d.next=b.next,b.next=d),f.pending=d}function xb(f,d,b){if((b&4194048)!==0){var E=d.lanes;E&=f.pendingLanes,b|=E,d.lanes=b,z(f,b)}}function _v(f,d,b,E){d=f.memoizedState,b=b(E,d),b=b==null?d:Jp({},d,b),f.memoizedState=b,f.lanes===0&&(f.updateQueue.baseState=b)}function Np(f,d,b,E,O,N,X){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(E,N,X):d.prototype&&d.prototype.isPureReactComponent?!Fe(b,E)||!Fe(O,N):!0}function bb(f,d,b,E){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(b,E),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(b,E),d.state!==f&&ld.enqueueReplaceState(d,d.state,null)}function Xu(f,d){var b=d;if("ref"in d){b={};for(var E in d)E!=="ref"&&(b[E]=d[E])}if(f=f.defaultProps){b===d&&(b=Jp({},b));for(var O in f)b[O]===void 0&&(b[O]=f[O])}return b}function Lp(f,d){try{var b=f.onUncaughtError;b(d.value,{componentStack:d.stack})}catch(E){setTimeout(function(){throw E})}}function Sv(f,d,b){try{var E=f.onCaughtError;E(b.value,{componentStack:b.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function Mv(f,d,b){return b=ae(b),b.tag=3,b.payload={element:null},b.callback=function(){Lp(f,d)},b}function _b(f){return f=ae(f),f.tag=3,f}function Sb(f,d,b,E){var O=b.type.getDerivedStateFromError;if(typeof O=="function"){var N=E.value;f.payload=function(){return O(N)},f.callback=function(){Sv(d,b,E)}}var X=b.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(f.callback=function(){Sv(d,b,E),typeof O!="function"&&(xl===null?xl=new Set([this]):xl.add(this));var le=E.stack;this.componentDidCatch(E.value,{componentStack:le!==null?le:""})})}function oA(f,d,b,E,O){if(b.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(d=b.alternate,d!==null&&Mt(d,b,O,!0),b=Ba.current,b!==null){switch(b.tag){case 31:case 13:return ka===null?vf():b.alternate===null&&Ni===0&&(Ni=3),b.flags&=-257,b.flags|=65536,b.lanes=O,E===Io?b.flags|=16384:(d=b.updateQueue,d===null?b.updateQueue=new Set([E]):d.add(E),bf(f,E,O)),!1;case 22:return b.flags|=65536,E===Io?b.flags|=16384:(d=b.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([E])},b.updateQueue=d):(b=d.retryQueue,b===null?d.retryQueue=new Set([E]):b.add(E)),bf(f,E,O)),!1}throw Error(r(435,b.tag))}return bf(f,E,O),vf(),!1}if(On)return d=Ba.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=O,E!==Sm&&(f=Error(r(422),{cause:E}),qe(de(f,b)))):(E!==Sm&&(d=Error(r(423),{cause:E}),qe(de(d,b))),f=f.current.alternate,f.flags|=65536,O&=-O,f.lanes|=O,E=de(E,b),O=Mv(f.stateNode,E,O),Ve(f,O),Ni!==4&&(Ni=2)),!1;var N=Error(r(520),{cause:E});if(N=de(N,b),cd===null?cd=[N]:cd.push(N),Ni!==4&&(Ni=2),d===null)return!0;E=de(E,b),b=d;do{switch(b.tag){case 3:return b.flags|=65536,f=O&-O,b.lanes|=f,f=Mv(b.stateNode,E,f),Ve(b,f),!1;case 1:if(d=b.type,N=b.stateNode,(b.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(xl===null||!xl.has(N))))return b.flags|=65536,O&=-O,b.lanes|=O,O=_b(O),Sb(O,f,b,E),Ve(b,O),!1}b=b.return}while(b!==null);return!1}function Ur(f,d,b,E){d.child=f===null?T0(d,null,b,E):kr(d,f.child,b,E)}function Mb(f,d,b,E,O){b=b.render;var N=d.ref;if("ref"in E){var X={};for(var le in E)le!=="ref"&&(X[le]=E[le])}else X=E;return ht(d),E=Rt(f,d,b,X,N,O),le=Nn(),f!==null&&!xi?(Wn(f,d,O),vo(f,d,O)):(On&&le&&re(d),d.flags|=1,Ur(f,d,E,O),d.child)}function wb(f,d,b,E,O){if(f===null){var N=b.type;return typeof N=="function"&&!Qu(N)&&N.defaultProps===void 0&&b.compare===null?(d.tag=15,d.type=N,Eb(f,d,N,E,O)):(f=ul(b.type,null,E,d,d.mode,O),f.ref=d.ref,f.return=d,d.child=f)}if(N=f.child,!Uh(f,O)){var X=N.memoizedProps;if(b=b.compare,b=b!==null?b:Fe,b(X,E)&&f.ref===d.ref)return vo(f,d,O)}return d.flags|=1,f=Ja(N,E),f.ref=d.ref,f.return=d,d.child=f}function Eb(f,d,b,E,O){if(f!==null){var N=f.memoizedProps;if(Fe(N,E)&&f.ref===d.ref)if(xi=!1,d.pendingProps=E=N,Uh(f,O))(f.flags&131072)!==0&&(xi=!0);else return d.lanes=f.lanes,vo(f,d,O)}return zp(f,d,b,E,O)}function Ab(f,d,b,E){var O=E.children,N=f!==null?f.memoizedState:null;if(f===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),E.mode==="hidden"){if((d.flags&128)!==0){if(N=N!==null?N.baseLanes|b:b,f!==null){for(E=d.child=f.child,O=0;E!==null;)O=O|E.lanes|E.childLanes,E=E.sibling;E=O&~N}else E=0,d.child=null;return of(f,d,N,b,E)}if((b&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},f!==null&&Pt(d,N!==null?N.cachePool:null),N!==null?bt(d,N):H(),fe(d);else return E=d.lanes=536870912,of(f,d,N!==null?N.baseLanes|b:b,b,E)}else N!==null?(Pt(d,N.cachePool),bt(d,N),Ge(),d.memoizedState=null):(f!==null&&Pt(d,null),H(),Ge());return Ur(f,d,O,b),d.child}function $u(f,d){return f!==null&&f.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function of(f,d,b,E,O){var N=ut();return N=N===null?null:{parent:Zi?Ei._currentValue:Ei._currentValue2,pool:N},d.memoizedState={baseLanes:b,cachePool:N},f!==null&&Pt(d,null),H(),fe(d),f!==null&&Mt(f,d,E,!0),d.childLanes=O,null}function Up(f,d){return d=$l({mode:d.mode,children:d.children},f.mode),d.ref=f.ref,f.child=d,d.return=f,d}function wv(f,d,b){return kr(d,f.child,null,b),f=Up(d,d.pendingProps),f.flags|=2,et(d),d.memoizedState=null,f}function Tb(f,d,b){var E=d.pendingProps,O=(d.flags&128)!==0;if(d.flags&=-129,f===null){if(On){if(E.mode==="hidden")return f=Up(d,E),d.lanes=536870912,$u(null,f);if(ue(d),(f=wi)?(f=f0(f,ya),f!==null&&(d.memoizedState={dehydrated:f,treeContext:Os!==null?{id:zr,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},b=Vv(f),b.return=d,d.child=b,vr=d,wi=null)):f=null,f===null)throw xe(d);return d.lanes=536870912,null}return Up(d,E)}var N=f.memoizedState;if(N!==null){var X=N.dehydrated;if(ue(d),O)if(d.flags&256)d.flags&=-257,d=wv(f,d,b);else if(d.memoizedState!==null)d.child=f.child,d.flags|=128,d=null;else throw Error(r(558));else if(xi||Mt(f,d,b,!1),O=(b&f.childLanes)!==0,xi||O){if(E=Mn,E!==null&&(X=W(E,b),X!==0&&X!==N.retryLane))throw N.retryLane=X,ln(f,X),Pi(E,f,X),ba;vf(),d=wv(f,d,b)}else f=N.treeContext,Mi&&(wi=c_(X),vr=d,On=!0,Do=null,ya=!1,f!==null&&ke(d,f)),d=Up(d,E),d.flags|=4096;return d}return f=Ja(f.child,{mode:E.mode,children:E.children}),f.ref=d.ref,d.child=f,f.return=d,f}function Lh(f,d){var b=d.ref;if(b===null)f!==null&&f.ref!==null&&(d.flags|=4194816);else{if(typeof b!="function"&&typeof b!="object")throw Error(r(284));(f===null||f.ref!==b)&&(d.flags|=4194816)}}function zp(f,d,b,E,O){return ht(d),b=Rt(f,d,b,E,void 0,O),E=Nn(),f!==null&&!xi?(Wn(f,d,O),vo(f,d,O)):(On&&E&&re(d),d.flags|=1,Ur(f,d,b,O),d.child)}function Ev(f,d,b,E,O,N){return ht(d),d.updateQueue=null,b=pt(d,E,b,O),Zt(f),E=Nn(),f!==null&&!xi?(Wn(f,d,N),vo(f,d,N)):(On&&E&&re(d),d.flags|=1,Ur(f,d,b,N),d.child)}function Yu(f,d,b,E,O){if(ht(d),d.stateNode===null){var N=Ro,X=b.contextType;typeof X=="object"&&X!==null&&(N=Q(X)),N=new b(E,N),d.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=ld,d.stateNode=N,N._reactInternals=d,N=d.stateNode,N.props=E,N.state=d.memoizedState,N.refs={},V(d),X=b.contextType,N.context=typeof X=="object"&&X!==null?Q(X):Ro,N.state=d.memoizedState,X=b.getDerivedStateFromProps,typeof X=="function"&&(_v(d,b,X,E),N.state=d.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(X=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),X!==N.state&&ld.enqueueReplaceState(N,N.state,null),nt(d,E,N,O),lt(),N.state=d.memoizedState),typeof N.componentDidMount=="function"&&(d.flags|=4194308),E=!0}else if(f===null){N=d.stateNode;var le=d.memoizedProps,Le=Xu(b,le);N.props=Le;var it=N.context,_t=b.contextType;X=Ro,typeof _t=="object"&&_t!==null&&(X=Q(_t));var ct=b.getDerivedStateFromProps;_t=typeof ct=="function"||typeof N.getSnapshotBeforeUpdate=="function",le=d.pendingProps!==le,_t||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(le||it!==X)&&bb(d,N,E,X),ns=!1;var It=d.memoizedState;N.state=It,nt(d,E,N,O),lt(),it=d.memoizedState,le||It!==it||ns?(typeof ct=="function"&&(_v(d,b,ct,E),it=d.memoizedState),(Le=ns||Np(d,b,Le,E,It,it,X))?(_t||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(d.flags|=4194308)):(typeof N.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=E,d.memoizedState=it),N.props=E,N.state=it,N.context=X,E=Le):(typeof N.componentDidMount=="function"&&(d.flags|=4194308),E=!1)}else{N=d.stateNode,Z(f,d),X=d.memoizedProps,_t=Xu(b,X),N.props=_t,ct=d.pendingProps,It=N.context,it=b.contextType,Le=Ro,typeof it=="object"&&it!==null&&(Le=Q(it)),le=b.getDerivedStateFromProps,(it=typeof le=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(X!==ct||It!==Le)&&bb(d,N,E,Le),ns=!1,It=d.memoizedState,N.state=It,nt(d,E,N,O),lt();var pn=d.memoizedState;X!==ct||It!==pn||ns||f!==null&&f.dependencies!==null&&Gt(f.dependencies)?(typeof le=="function"&&(_v(d,b,le,E),pn=d.memoizedState),(_t=ns||Np(d,b,_t,E,It,pn,Le)||f!==null&&f.dependencies!==null&&Gt(f.dependencies))?(it||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(E,pn,Le),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(E,pn,Le)),typeof N.componentDidUpdate=="function"&&(d.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof N.componentDidUpdate!="function"||X===f.memoizedProps&&It===f.memoizedState||(d.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||X===f.memoizedProps&&It===f.memoizedState||(d.flags|=1024),d.memoizedProps=E,d.memoizedState=pn),N.props=E,N.state=pn,N.context=Le,E=_t):(typeof N.componentDidUpdate!="function"||X===f.memoizedProps&&It===f.memoizedState||(d.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||X===f.memoizedProps&&It===f.memoizedState||(d.flags|=1024),E=!1)}return N=E,Lh(f,d),E=(d.flags&128)!==0,N||E?(N=d.stateNode,b=E&&typeof b.getDerivedStateFromError!="function"?null:N.render(),d.flags|=1,f!==null&&E?(d.child=kr(d,f.child,null,O),d.child=kr(d,null,b,O)):Ur(f,d,b,O),d.memoizedState=N.state,f=d.child):f=vo(f,d,O),f}function Cb(f,d,b,E){return Nt(),d.flags|=256,Ur(f,d,b,E),d.child}function Av(f){return{baseLanes:f,cachePool:at()}}function Tv(f,d,b){return f=f!==null?f.childLanes&~b:0,d&&(f|=_a),f}function Cv(f,d,b){var E=d.pendingProps,O=!1,N=(d.flags&128)!==0,X;if((X=N)||(X=f!==null&&f.memoizedState===null?!1:(Hi.current&2)!==0),X&&(O=!0,d.flags&=-129),X=(d.flags&32)!==0,d.flags&=-33,f===null){if(On){if(O?ce(d):Ge(),(f=wi)?(f=p_(f,ya),f!==null&&(d.memoizedState={dehydrated:f,treeContext:Os!==null?{id:zr,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},b=Vv(f),b.return=d,d.child=b,vr=d,wi=null)):f=null,f===null)throw xe(d);return om(f)?d.lanes=32:d.lanes=536870912,null}var le=E.children;return E=E.fallback,O?(Ge(),O=d.mode,le=$l({mode:"hidden",children:le},O),E=As(E,O,b,null),le.return=d,E.return=d,le.sibling=E,d.child=le,E=d.child,E.memoizedState=Av(b),E.childLanes=Tv(f,X,b),d.memoizedState=mc,$u(null,E)):(ce(d),Bp(d,le))}var Le=f.memoizedState;if(Le!==null&&(le=Le.dehydrated,le!==null)){if(N)d.flags&256?(ce(d),d.flags&=-257,d=Zu(f,d,b)):d.memoizedState!==null?(Ge(),d.child=f.child,d.flags|=128,d=null):(Ge(),le=E.fallback,O=d.mode,E=$l({mode:"visible",children:E.children},O),le=As(le,O,b,null),le.flags|=2,E.return=d,le.return=d,E.sibling=le,d.child=E,kr(d,f.child,null,b),E=d.child,E.memoizedState=Av(b),E.childLanes=Tv(f,X,b),d.memoizedState=mc,d=$u(null,E));else if(ce(d),om(le))X=lm(le).digest,E=Error(r(419)),E.stack="",E.digest=X,qe({value:E,source:null,stack:null}),d=Zu(f,d,b);else if(xi||Mt(f,d,b,!1),X=(b&f.childLanes)!==0,xi||X){if(X=Mn,X!==null&&(E=W(X,b),E!==0&&E!==Le.retryLane))throw Le.retryLane=E,ln(f,E),Pi(X,f,E),ba;ou(le)||vf(),d=Zu(f,d,b)}else ou(le)?(d.flags|=192,d.child=f.child,d=null):(f=Le.treeContext,Mi&&(wi=f_(le),vr=d,On=!0,Do=null,ya=!1,f!==null&&ke(d,f)),d=Bp(d,E.children),d.flags|=4096);return d}return O?(Ge(),le=E.fallback,O=d.mode,Le=f.child,N=Le.sibling,E=Ja(Le,{mode:"hidden",children:E.children}),E.subtreeFlags=Le.subtreeFlags&65011712,N!==null?le=Ja(N,le):(le=As(le,O,b,null),le.flags|=2),le.return=d,E.return=d,E.sibling=le,d.child=E,$u(null,E),E=d.child,le=f.child.memoizedState,le===null?le=Av(b):(O=le.cachePool,O!==null?(Le=Zi?Ei._currentValue:Ei._currentValue2,O=O.parent!==Le?{parent:Le,pool:Le}:O):O=at(),le={baseLanes:le.baseLanes|b,cachePool:O}),E.memoizedState=le,E.childLanes=Tv(f,X,b),d.memoizedState=mc,$u(f.child,E)):(ce(d),b=f.child,f=b.sibling,b=Ja(b,{mode:"visible",children:E.children}),b.return=d,b.sibling=null,f!==null&&(X=d.deletions,X===null?(d.deletions=[f],d.flags|=16):X.push(f)),d.child=b,d.memoizedState=null,b)}function Bp(f,d){return d=$l({mode:"visible",children:d},f.mode),d.return=f,f.child=d}function $l(f,d){return f=n(22,f,null,d),f.lanes=0,f}function Zu(f,d,b){return kr(d,f.child,null,b),f=Bp(d,d.pendingProps.children),f.flags|=2,d.memoizedState=null,f}function Rb(f,d,b){f.lanes|=d;var E=f.alternate;E!==null&&(E.lanes|=d),ne(f.return,d,b)}function lf(f,d,b,E,O,N){var X=f.memoizedState;X===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:E,tail:b,tailMode:O,treeForkCount:N}:(X.isBackwards=d,X.rendering=null,X.renderingStartTime=0,X.last=E,X.tail=b,X.tailMode=O,X.treeForkCount=N)}function Rv(f,d,b){var E=d.pendingProps,O=E.revealOrder,N=E.tail;E=E.children;var X=Hi.current,le=(X&2)!==0;if(le?(X=X&1|2,d.flags|=128):X&=1,_(Hi,X),Ur(f,d,E,b),E=On?ad:0,!le&&f!==null&&(f.flags&128)!==0)e:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Rb(f,b,d);else if(f.tag===19)Rb(f,b,d);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(O){case"forwards":for(b=d.child,O=null;b!==null;)f=b.alternate,f!==null&&tt(f)===null&&(O=b),b=b.sibling;b=O,b===null?(O=d.child,d.child=null):(O=b.sibling,b.sibling=null),lf(d,!1,O,b,N,E);break;case"backwards":case"unstable_legacy-backwards":for(b=null,O=d.child,d.child=null;O!==null;){if(f=O.alternate,f!==null&&tt(f)===null){d.child=O;break}f=O.sibling,O.sibling=b,b=O,O=f}lf(d,!0,b,null,N,E);break;case"together":lf(d,!1,null,null,void 0,E);break;default:d.memoizedState=null}return d.child}function vo(f,d,b){if(f!==null&&(d.dependencies=f.dependencies),yl|=d.lanes,(b&d.childLanes)===0)if(f!==null){if(Mt(f,d,b,!1),(b&d.childLanes)===0)return null}else return null;if(f!==null&&d.child!==f.child)throw Error(r(153));if(d.child!==null){for(f=d.child,b=Ja(f,f.pendingProps),d.child=b,b.return=d;f.sibling!==null;)f=f.sibling,b=b.sibling=Ja(f,f.pendingProps),b.return=d;b.sibling=null}return d.child}function Uh(f,d){return(f.lanes&d)!==0?!0:(f=f.dependencies,!!(f!==null&&Gt(f)))}function Pv(f,d,b){switch(d.tag){case 3:mt(d,d.stateNode.containerInfo),He(d,Ei,f.memoizedState.cache),Nt();break;case 27:case 5:De(d);break;case 4:mt(d,d.stateNode.containerInfo);break;case 10:He(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,ue(d),null;break;case 13:var E=d.memoizedState;if(E!==null)return E.dehydrated!==null?(ce(d),d.flags|=128,null):(b&d.child.childLanes)!==0?Cv(f,d,b):(ce(d),f=vo(f,d,b),f!==null?f.sibling:null);ce(d);break;case 19:var O=(f.flags&128)!==0;if(E=(b&d.childLanes)!==0,E||(Mt(f,d,b,!1),E=(b&d.childLanes)!==0),O){if(E)return Rv(f,d,b);d.flags|=128}if(O=d.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),_(Hi,Hi.current),E)break;return null;case 22:return d.lanes=0,Ab(f,d,b,d.pendingProps);case 24:He(d,Ei,f.memoizedState.cache)}return vo(f,d,b)}function Ov(f,d,b){if(f!==null)if(f.memoizedProps!==d.pendingProps)xi=!0;else{if(!Uh(f,b)&&(d.flags&128)===0)return xi=!1,Pv(f,d,b);xi=(f.flags&131072)!==0}else xi=!1,On&&(d.flags&1048576)!==0&&Y(d,ad,d.index);switch(d.lanes=0,d.tag){case 16:e:{var E=d.pendingProps;if(f=Rn(d.elementType),d.type=f,typeof f=="function")Qu(f)?(E=Xu(f,E),d.tag=1,d=Yu(null,d,f,E,b)):(d.tag=0,d=zp(null,d,f,E,b));else{if(f!=null){var O=f.$$typeof;if(O===_f){d.tag=11,d=Mb(null,d,f,E,b);break e}else if(O===tm){d.tag=14,d=wb(null,d,f,E,b);break e}}throw d=g(f)||f,Error(r(306,d,""))}}return d;case 0:return zp(f,d,d.type,d.pendingProps,b);case 1:return E=d.type,O=Xu(E,d.pendingProps),Yu(f,d,E,O,b);case 3:e:{if(mt(d,d.stateNode.containerInfo),f===null)throw Error(r(387));var N=d.pendingProps;O=d.memoizedState,E=O.element,Z(f,d),nt(d,N,null,b);var X=d.memoizedState;if(N=X.cache,He(d,Ei,N),N!==O.cache&&Vt(d,[Ei],b,!0),lt(),N=X.element,Mi&&O.isDehydrated)if(O={element:N,isDehydrated:!1,cache:X.cache},d.updateQueue.baseState=O,d.memoizedState=O,d.flags&256){d=Cb(f,d,N,b);break e}else if(N!==E){E=de(Error(r(424)),d),qe(E),d=Cb(f,d,N,b);break e}else for(Mi&&(wi=u_(d.stateNode.containerInfo),vr=d,On=!0,Do=null,ya=!0),b=T0(d,null,N,b),d.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Nt(),N===E){d=vo(f,d,b);break e}Ur(f,d,N,b)}d=d.child}return d;case 26:if(Rs)return Lh(f,d),f===null?(b=g0(d.type,null,d.pendingProps,null))?d.memoizedState=b:On||(d.stateNode=hm(d.type,d.pendingProps,Br.current,d)):d.memoizedState=g0(d.type,f.memoizedProps,d.pendingProps,f.memoizedState),null;case 27:if(gr)return De(d),f===null&&gr&&On&&(E=d.stateNode=dm(d.type,d.pendingProps,Br.current,Pr.current,!1),vr=d,ya=!0,wi=c0(d.type,E,wi)),Ur(f,d,d.pendingProps.children,b),Lh(f,d),f===null&&(d.flags|=4194304),d.child;case 5:return f===null&&On&&(M_(d.type,d.pendingProps,Pr.current),(O=E=wi)&&(E=h_(E,d.type,d.pendingProps,ya),E!==null?(d.stateNode=E,vr=d,wi=l_(E),ya=!1,O=!0):O=!1),O||xe(d)),De(d),O=d.type,N=d.pendingProps,X=f!==null?f.memoizedProps:null,E=N.children,va(O,N)?E=null:X!==null&&va(O,X)&&(d.flags|=32),d.memoizedState!==null&&(O=Rt(f,d,Wt,null,null,b),Zi?oc._currentValue=O:oc._currentValue2=O),Lh(f,d),Ur(f,d,E,b),d.child;case 6:return f===null&&On&&(m0(d.pendingProps,Pr.current),(f=b=wi)&&(b=d_(b,d.pendingProps,ya),b!==null?(d.stateNode=b,vr=d,wi=null,f=!0):f=!1),f||xe(d)),null;case 13:return Cv(f,d,b);case 4:return mt(d,d.stateNode.containerInfo),E=d.pendingProps,f===null?d.child=kr(d,null,E,b):Ur(f,d,E,b),d.child;case 11:return Mb(f,d,d.type,d.pendingProps,b);case 7:return Ur(f,d,d.pendingProps,b),d.child;case 8:return Ur(f,d,d.pendingProps.children,b),d.child;case 12:return Ur(f,d,d.pendingProps.children,b),d.child;case 10:return E=d.pendingProps,He(d,d.type,E.value),Ur(f,d,E.children,b),d.child;case 9:return O=d.type._context,E=d.pendingProps.children,ht(d),O=Q(O),E=E(O),d.flags|=1,Ur(f,d,E,b),d.child;case 14:return wb(f,d,d.type,d.pendingProps,b);case 15:return Eb(f,d,d.type,d.pendingProps,b);case 19:return Rv(f,d,b);case 31:return Tb(f,d,b);case 22:return Ab(f,d,b,d.pendingProps);case 24:return ht(d),E=Q(Ei),f===null?(O=ut(),O===null&&(O=Mn,N=Ie(),O.pooledCache=N,N.refCount++,N!==null&&(O.pooledCacheLanes|=b),O=N),d.memoizedState={parent:E,cache:O},V(d),He(d,Ei,O)):((f.lanes&b)!==0&&(Z(f,d),nt(d,null,null,b),lt()),O=f.memoizedState,N=d.memoizedState,O.parent!==E?(O={parent:E,cache:E},d.memoizedState=O,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=O),He(d,Ei,E)):(E=N.cache,He(d,Ei,E),E!==O.cache&&Vt(d,[Ei],b,!0))),Ur(f,d,d.pendingProps.children,b),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function _s(f){f.flags|=4}function zh(f){es&&(f.flags|=8)}function Pb(f,d){if(f!==null&&f.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(f=d.child;f!==null;){if((f.flags&8218)!==0||(f.subtreeFlags&8218)!==0)return!0;f=f.sibling}return!1}function Dv(f,d,b,E){if(Un)for(b=d.child;b!==null;){if(b.tag===5||b.tag===6)Kh(f,b.stateNode);else if(!(b.tag===4||gr&&b.tag===27)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===d)break;for(;b.sibling===null;){if(b.return===null||b.return===d)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else if(es)for(var O=d.child;O!==null;){if(O.tag===5){var N=O.stateNode;b&&E&&(N=r_(N,O.type,O.memoizedProps)),Kh(f,N)}else if(O.tag===6)N=O.stateNode,b&&E&&(N=l0(N,O.memoizedProps)),Kh(f,N);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)N=O.child,N!==null&&(N.return=O),Dv(f,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===d)break;for(;O.sibling===null;){if(O.return===null||O.return===d)return;O=O.return}O.sibling.return=O.return,O=O.sibling}}function Ob(f,d,b,E){var O=!1;if(es)for(var N=d.child;N!==null;){if(N.tag===5){var X=N.stateNode;b&&E&&(X=r_(X,N.type,N.memoizedProps)),s0(f,X)}else if(N.tag===6)X=N.stateNode,b&&E&&(X=l0(X,N.memoizedProps)),s0(f,X);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)O=N.child,O!==null&&(O.return=N),Ob(f,N,!0,!0),O=!0;else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===d)break;for(;N.sibling===null;){if(N.return===null||N.return===d)return O;N=N.return}N.sibling.return=N.return,N=N.sibling}return O}function Db(f,d){if(es&&Pb(f,d)){f=d.stateNode;var b=f.containerInfo,E=a0();Ob(E,d,!1,!1),f.pendingChildren=E,_s(d),i_(b,E)}}function Iv(f,d,b,E){if(Un)f.memoizedProps!==E&&_s(d);else if(es){var O=f.stateNode,N=f.memoizedProps;if((f=Pb(f,d))||N!==E){var X=Pr.current;N=n_(O,b,N,E,!f,null),N===O?d.stateNode=O:(zh(d),Na(N,b,E,X)&&_s(d),d.stateNode=N,f&&Dv(N,d,!1,!1))}else d.stateNode=O}}function pa(f,d,b,E,O){if((f.mode&32)!==0&&(b===null?Qh(d,E):Af(d,b,E))){if(f.flags|=16777216,(O&335544128)===O||$v(d,E))if(Oi(f.stateNode,d,E))f.flags|=8192;else if(Ln())f.flags|=8192;else throw xa=Io,wm}else f.flags&=-16777217}function uf(f,d){if(b0(d)){if(f.flags|=16777216,!_0(d))if(Ln())f.flags|=8192;else throw xa=Io,wm}else f.flags&=-16777217}function Bh(f,d){d!==null&&(f.flags|=4),f.flags&16384&&(d=f.tag!==22?P():536870912,f.lanes|=d,Lf|=d)}function cf(f,d){if(!On)switch(f.tailMode){case"hidden":d=f.tail;for(var b=null;d!==null;)d.alternate!==null&&(b=d),d=d.sibling;b===null?f.tail=null:b.sibling=null;break;case"collapsed":b=f.tail;for(var E=null;b!==null;)b.alternate!==null&&(E=b),b=b.sibling;E===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:E.sibling=null}}function ui(f){var d=f.alternate!==null&&f.alternate.child===f.child,b=0,E=0;if(d)for(var O=f.child;O!==null;)b|=O.lanes|O.childLanes,E|=O.subtreeFlags&65011712,E|=O.flags&65011712,O.return=f,O=O.sibling;else for(O=f.child;O!==null;)b|=O.lanes|O.childLanes,E|=O.subtreeFlags,E|=O.flags,O.return=f,O=O.sibling;return f.subtreeFlags|=E,f.childLanes=b,d}function Ib(f,d,b){var E=d.pendingProps;switch(Me(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(d),null;case 1:return ui(d),null;case 3:return b=d.stateNode,E=null,f!==null&&(E=f.memoizedState.cache),d.memoizedState.cache!==E&&(d.flags|=2048),ft(Ei),me(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(f===null||f.child===null)&&(je(d)?_s(d):f===null||f.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Pe())),Db(f,d),ui(d),null;case 26:if(Rs){var O=d.type,N=d.memoizedState;return f===null?(_s(d),N!==null?(ui(d),uf(d,N)):(ui(d),pa(d,O,null,E,b))):N?N!==f.memoizedState?(_s(d),ui(d),uf(d,N)):(ui(d),d.flags&=-16777217):(N=f.memoizedProps,Un?N!==E&&_s(d):Iv(f,d,O,E),ui(d),pa(d,O,N,E,b)),null}case 27:if(gr){if(Ye(d),b=Br.current,O=d.type,f!==null&&d.stateNode!=null)Un?f.memoizedProps!==E&&_s(d):Iv(f,d,O,E);else{if(!E){if(d.stateNode===null)throw Error(r(166));return ui(d),null}f=Pr.current,je(d)?ot(d,f):(f=dm(O,E,b,f,!0),d.stateNode=f,_s(d))}return ui(d),null}case 5:if(Ye(d),O=d.type,f!==null&&d.stateNode!=null)Iv(f,d,O,E);else{if(!E){if(d.stateNode===null)throw Error(r(166));return ui(d),null}if(N=Pr.current,je(d))ot(d,N),b_(d.stateNode,O,E,N)&&(d.flags|=64);else{var X=qv(O,E,Br.current,N,d);zh(d),Dv(X,d,!1,!1),d.stateNode=X,Na(X,O,E,N)&&_s(d)}}return ui(d),pa(d,d.type,f===null?null:f.memoizedProps,d.pendingProps,b),null;case 6:if(f&&d.stateNode!=null)b=f.memoizedProps,Un?b!==E&&_s(d):es&&(b!==E?(f=Br.current,b=Pr.current,zh(d),d.stateNode=hl(E,f,b,d)):d.stateNode=f.stateNode);else{if(typeof E!="string"&&d.stateNode===null)throw Error(r(166));if(f=Br.current,b=Pr.current,je(d)){if(!Mi)throw Error(r(176));if(f=d.stateNode,b=d.memoizedProps,E=null,O=vr,O!==null)switch(O.tag){case 27:case 5:E=O.memoizedProps}hA(f,b,d,E)||xe(d,!0)}else zh(d),d.stateNode=hl(E,f,b,d)}return ui(d),null;case 31:if(b=d.memoizedState,f===null||f.memoizedState!==null){if(E=je(d),b!==null){if(f===null){if(!E)throw Error(r(318));if(!Mi)throw Error(r(556));if(f=d.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(557));h0(f,d)}else Nt(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;ui(d),f=!1}else b=Pe(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=b),f=!0;if(!f)return d.flags&256?(et(d),d):(et(d),null);if((d.flags&128)!==0)throw Error(r(558))}return ui(d),null;case 13:if(E=d.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(O=je(d),E!==null&&E.dehydrated!==null){if(f===null){if(!O)throw Error(r(318));if(!Mi)throw Error(r(344));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));g_(O,d)}else Nt(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;ui(d),O=!1}else O=Pe(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=O),O=!0;if(!O)return d.flags&256?(et(d),d):(et(d),null)}return et(d),(d.flags&128)!==0?(d.lanes=b,d):(b=E!==null,f=f!==null&&f.memoizedState!==null,b&&(E=d.child,O=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(O=E.alternate.memoizedState.cachePool.pool),N=null,E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(N=E.memoizedState.cachePool.pool),N!==O&&(E.flags|=2048)),b!==f&&b&&(d.child.flags|=8192),Bh(d,d.updateQueue),ui(d),null);case 4:return me(),Db(f,d),f===null&&ai(d.stateNode.containerInfo),ui(d),null;case 10:return ft(d.type),ui(d),null;case 19:if(x(Hi),E=d.memoizedState,E===null)return ui(d),null;if(O=(d.flags&128)!==0,N=E.rendering,N===null)if(O)cf(E,!1);else{if(Ni!==0||f!==null&&(f.flags&128)!==0)for(f=d.child;f!==null;){if(N=tt(f),N!==null){for(d.flags|=128,cf(E,!1),f=N.updateQueue,d.updateQueue=f,Bh(d,f),d.subtreeFlags=0,f=b,b=d.child;b!==null;)Zp(b,f),b=b.sibling;return _(Hi,Hi.current&1|2),On&&_e(d,E.treeForkCount),d.child}f=f.sibling}E.tail!==null&&Kr()>yu&&(d.flags|=128,O=!0,cf(E,!1),d.lanes=4194304)}else{if(!O)if(f=tt(N),f!==null){if(d.flags|=128,O=!0,f=f.updateQueue,d.updateQueue=f,Bh(d,f),cf(E,!0),E.tail===null&&E.tailMode==="hidden"&&!N.alternate&&!On)return ui(d),null}else 2*Kr()-E.renderingStartTime>yu&&b!==536870912&&(d.flags|=128,O=!0,cf(E,!1),d.lanes=4194304);E.isBackwards?(N.sibling=d.child,d.child=N):(f=E.last,f!==null?f.sibling=N:d.child=N,E.last=N)}return E.tail!==null?(f=E.tail,E.rendering=f,E.tail=f.sibling,E.renderingStartTime=Kr(),f.sibling=null,b=Hi.current,_(Hi,O?b&1|2:b&1),On&&_e(d,E.treeForkCount),f):(ui(d),null);case 22:case 23:return et(d),oe(),E=d.memoizedState!==null,f!==null?f.memoizedState!==null!==E&&(d.flags|=8192):E&&(d.flags|=8192),E?(b&536870912)!==0&&(d.flags&128)===0&&(ui(d),d.subtreeFlags&6&&(d.flags|=8192)):ui(d),b=d.updateQueue,b!==null&&Bh(d,b.retryQueue),b=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),E=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(E=d.memoizedState.cachePool.pool),E!==b&&(d.flags|=2048),f!==null&&x(cu),null;case 24:return b=null,f!==null&&(b=f.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),ft(Ei),ui(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function Nv(f,d){switch(Me(d),d.tag){case 1:return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 3:return ft(Ei),me(),f=d.flags,(f&65536)!==0&&(f&128)===0?(d.flags=f&-65537|128,d):null;case 26:case 27:case 5:return Ye(d),null;case 31:if(d.memoizedState!==null){if(et(d),d.alternate===null)throw Error(r(340));Nt()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 13:if(et(d),f=d.memoizedState,f!==null&&f.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Nt()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 19:return x(Hi),null;case 4:return me(),null;case 10:return ft(d.type),null;case 22:case 23:return et(d),oe(),f!==null&&x(cu),f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 24:return ft(Ei),null;case 25:return null;default:return null}}function Nb(f,d){switch(Me(d),d.tag){case 3:ft(Ei),me();break;case 26:case 27:case 5:Ye(d);break;case 4:me();break;case 31:d.memoizedState!==null&&et(d);break;case 13:et(d);break;case 19:x(Hi);break;case 10:ft(d.type);break;case 22:case 23:et(d),oe(),f!==null&&x(cu);break;case 24:ft(Ei)}}function yo(f,d){try{var b=d.updateQueue,E=b!==null?b.lastEffect:null;if(E!==null){var O=E.next;b=O;do{if((b.tag&f)===f){E=void 0;var N=b.create,X=b.inst;E=N(),X.destroy=E}b=b.next}while(b!==O)}}catch(le){un(d,d.return,le)}}function xo(f,d,b){try{var E=d.updateQueue,O=E!==null?E.lastEffect:null;if(O!==null){var N=O.next;E=N;do{if((E.tag&f)===f){var X=E.inst,le=X.destroy;if(le!==void 0){X.destroy=void 0,O=d;var Le=b,it=le;try{it()}catch(_t){un(O,Le,_t)}}}E=E.next}while(E!==N)}}catch(_t){un(d,d.return,_t)}}function ff(f){var d=f.updateQueue;if(d!==null){var b=f.stateNode;try{gt(d,b)}catch(E){un(f,f.return,E)}}}function kp(f,d,b){b.props=Xu(f.type,f.memoizedProps),b.state=f.memoizedState;try{b.componentWillUnmount()}catch(E){un(f,d,E)}}function hf(f,d){try{var b=f.ref;if(b!==null){switch(f.tag){case 26:case 27:case 5:var E=Mf(f.stateNode);break;case 30:E=f.stateNode;break;default:E=f.stateNode}typeof b=="function"?f.refCleanup=b(E):b.current=E}}catch(O){un(f,d,O)}}function Zr(f,d){var b=f.ref,E=f.refCleanup;if(b!==null)if(typeof E=="function")try{E()}catch(O){un(f,d,O)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(O){un(f,d,O)}else b.current=null}function Ku(f){var d=f.type,b=f.memoizedProps,E=f.stateNode;try{$b(E,d,b,f)}catch(O){un(f,f.return,O)}}function kh(f,d,b){try{Yb(f.stateNode,f.type,b,d,f)}catch(E){un(f,f.return,E)}}function Lv(f){return f.tag===5||f.tag===3||(Rs?f.tag===26:!1)||(gr?f.tag===27&&lc(f.type):!1)||f.tag===4}function rl(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Lv(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(gr&&f.tag===27&&lc(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Fp(f,d,b){var E=f.tag;if(E===5||E===6)f=f.stateNode,d?Kb(b,f,d):t0(b,f);else if(E!==4&&(gr&&E===27&&lc(f.type)&&(b=f.stateNode,d=null),f=f.child,f!==null))for(Fp(f,d,b),f=f.sibling;f!==null;)Fp(f,d,b),f=f.sibling}function Fh(f,d,b){var E=f.tag;if(E===5||E===6)f=f.stateNode,d?Zb(b,f,d):e0(b,f);else if(E!==4&&(gr&&E===27&&lc(f.type)&&(b=f.stateNode),f=f.child,f!==null))for(Fh(f,d,b),f=f.sibling;f!==null;)Fh(f,d,b),f=f.sibling}function Uv(f,d,b){f=f.containerInfo;try{o0(f,b)}catch(E){un(d,d.return,E)}}function Lb(f){var d=f.stateNode,b=f.memoizedProps;try{or(f.type,b,d,f)}catch(E){un(f,f.return,E)}}function lA(f,d){for(nm(f.containerInfo),Ji=d;Ji!==null;)if(f=Ji,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,Ji=d;else for(;Ji!==null;){f=Ji;var b=f.alternate;switch(d=f.flags,f.tag){case 0:if((d&4)!==0&&(d=f.updateQueue,d=d!==null?d.events:null,d!==null))for(var E=0;E<d.length;E++){var O=d[E];O.ref.impl=O.nextImpl}break;case 11:case 15:break;case 1:if((d&1024)!==0&&b!==null){d=void 0,E=f,O=b.memoizedProps,b=b.memoizedState;var N=E.stateNode;try{var X=Xu(E.type,O);d=N.getSnapshotBeforeUpdate(X,b),N.__reactInternalSnapshotBeforeUpdate=d}catch(le){un(E,E.return,le)}}break;case 3:(d&1024)!==0&&Un&&r0(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=f.sibling,d!==null){d.return=f.return,Ji=d;break}Ji=f.return}}function Ub(f,d,b){var E=b.flags;switch(b.tag){case 0:case 11:case 15:ma(f,b),E&4&&yo(5,b);break;case 1:if(ma(f,b),E&4)if(f=b.stateNode,d===null)try{f.componentDidMount()}catch(X){un(b,b.return,X)}else{var O=Xu(b.type,d.memoizedProps);d=d.memoizedState;try{f.componentDidUpdate(O,d,f.__reactInternalSnapshotBeforeUpdate)}catch(X){un(b,b.return,X)}}E&64&&ff(b),E&512&&hf(b,b.return);break;case 3:if(ma(f,b),E&64&&(E=b.updateQueue,E!==null)){if(f=null,b.child!==null)switch(b.child.tag){case 27:case 5:f=Mf(b.child.stateNode);break;case 1:f=b.child.stateNode}try{gt(E,f)}catch(X){un(b,b.return,X)}}break;case 27:gr&&d===null&&E&4&&Lb(b);case 26:case 5:if(ma(f,b),d===null){if(E&4)Ku(b);else if(E&64){f=b.type,d=b.memoizedProps,O=b.stateNode;try{y_(O,f,d,b)}catch(X){un(b,b.return,X)}}}E&512&&hf(b,b.return);break;case 12:ma(f,b);break;case 31:ma(f,b),E&4&&Ms(f,b);break;case 13:ma(f,b),E&4&&Hh(f,b),E&64&&(E=b.memoizedState,E!==null&&(E=E.dehydrated,E!==null&&(b=uA.bind(null,b),um(E,b))));break;case 22:if(E=b.memoizedState!==null||ji,!E){d=d!==null&&d.memoizedState!==null||Gi,O=ji;var N=Gi;ji=E,(Gi=d)&&!N?Es(f,b,(b.subtreeFlags&8772)!==0):ma(f,b),ji=O,Gi=N}break;case 30:break;default:ma(f,b)}}function zv(f){var d=f.alternate;d!==null&&(f.alternate=null,zv(d)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(d=f.stateNode,d!==null&&im(d)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Ss(f,d,b){for(b=b.child;b!==null;)Vh(f,d,b),b=b.sibling}function Vh(f,d,b){if(za&&typeof za.onCommitFiberUnmount=="function")try{za.onCommitFiberUnmount(fc,b)}catch{}switch(b.tag){case 26:if(Rs){Gi||Zr(b,d),Ss(f,d,b),b.memoizedState?lu(b.memoizedState):b.stateNode&&x0(b.stateNode);break}case 27:if(gr){Gi||Zr(b,d);var E=Ii,O=er;lc(b.type)&&(Ii=b.stateNode,er=!1),Ss(f,d,b),Rr(b.stateNode),Ii=E,er=O;break}case 5:Gi||Zr(b,d);case 6:if(Un){if(E=Ii,O=er,Ii=null,Ss(f,d,b),Ii=E,er=O,Ii!==null)if(er)try{n0(Ii,b.stateNode)}catch(N){un(b,d,N)}else try{Qb(Ii,b.stateNode)}catch(N){un(b,d,N)}}else Ss(f,d,b);break;case 18:Un&&Ii!==null&&(er?cm(Ii,b.stateNode):p0(Ii,b.stateNode));break;case 4:Un?(E=Ii,O=er,Ii=b.stateNode.containerInfo,er=!0,Ss(f,d,b),Ii=E,er=O):(es&&Uv(b.stateNode,b,a0()),Ss(f,d,b));break;case 0:case 11:case 14:case 15:xo(2,b,d),Gi||xo(4,b,d),Ss(f,d,b);break;case 1:Gi||(Zr(b,d),E=b.stateNode,typeof E.componentWillUnmount=="function"&&kp(b,d,E)),Ss(f,d,b);break;case 21:Ss(f,d,b);break;case 22:Gi=(E=Gi)||b.memoizedState!==null,Ss(f,d,b),Gi=E;break;default:Ss(f,d,b)}}function Ms(f,d){if(Mi&&d.memoizedState===null&&(f=d.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{dA(f)}catch(b){un(d,d.return,b)}}}function Hh(f,d){if(Mi&&d.memoizedState===null&&(f=d.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{pA(f)}catch(b){un(d,d.return,b)}}function ws(f){switch(f.tag){case 31:case 13:case 19:var d=f.stateNode;return d===null&&(d=f.stateNode=new R0),d;case 22:return f=f.stateNode,d=f._retryCache,d===null&&(d=f._retryCache=new R0),d;default:throw Error(r(435,f.tag))}}function al(f,d){var b=ws(f);d.forEach(function(E){if(!b.has(E)){b.add(E);var O=cA.bind(null,f,E);E.then(O,O)}})}function Tr(f,d){var b=d.deletions;if(b!==null)for(var E=0;E<b.length;E++){var O=b[E],N=f,X=d;if(Un){var le=X;e:for(;le!==null;){switch(le.tag){case 27:if(gr){if(lc(le.type)){Ii=le.stateNode,er=!1;break e}break}case 5:Ii=le.stateNode,er=!1;break e;case 3:case 4:Ii=le.stateNode.containerInfo,er=!0;break e}le=le.return}if(Ii===null)throw Error(r(160));Vh(N,X,O),Ii=null,er=!1}else Vh(N,X,O);N=O.alternate,N!==null&&(N.return=null),O.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)jh(d,f),d=d.sibling}function jh(f,d){var b=f.alternate,E=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Tr(d,f),Cr(f),E&4&&(xo(3,f,f.return),yo(3,f),xo(5,f,f.return));break;case 1:Tr(d,f),Cr(f),E&512&&(Gi||b===null||Zr(b,b.return)),E&64&&ji&&(f=f.updateQueue,f!==null&&(E=f.callbacks,E!==null&&(b=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=b===null?E:b.concat(E))));break;case 26:if(Rs){var O=ti;if(Tr(d,f),Cr(f),E&512&&(Gi||b===null||Zr(b,b.return)),E&4){E=b!==null?b.memoizedState:null;var N=f.memoizedState;b===null?N===null?f.stateNode===null?f.stateNode=w_(O,f.type,f.memoizedProps,f):y0(O,f.type,f.stateNode):f.stateNode=v0(O,N,f.memoizedProps):E!==N?(E===null?b.stateNode!==null&&x0(b.stateNode):lu(E),N===null?y0(O,f.type,f.stateNode):v0(O,N,f.memoizedProps)):N===null&&f.stateNode!==null&&kh(f,f.memoizedProps,b.memoizedProps)}break}case 27:if(gr){Tr(d,f),Cr(f),E&512&&(Gi||b===null||Zr(b,b.return)),b!==null&&E&4&&kh(f,f.memoizedProps,b.memoizedProps);break}case 5:if(Tr(d,f),Cr(f),E&512&&(Gi||b===null||Zr(b,b.return)),Un){if(f.flags&32){O=f.stateNode;try{i0(O)}catch(ct){un(f,f.return,ct)}}E&4&&f.stateNode!=null&&(O=f.memoizedProps,kh(f,O,b!==null?b.memoizedProps:O)),E&1024&&(Pf=!0)}else es&&f.alternate!==null&&(f.alternate.stateNode=f.stateNode);break;case 6:if(Tr(d,f),Cr(f),E&4&&Un){if(f.stateNode===null)throw Error(r(162));E=f.memoizedProps,b=b!==null?b.memoizedProps:E,O=f.stateNode;try{Xb(O,b,E)}catch(ct){un(f,f.return,ct)}}break;case 3:if(Rs?(E_(),O=ti,ti=td(d.containerInfo),Tr(d,f),ti=O):Tr(d,f),Cr(f),E&4){if(Un&&Mi&&b!==null&&b.memoizedState.isDehydrated)try{x_(d.containerInfo)}catch(ct){un(f,f.return,ct)}if(es){E=d.containerInfo,b=d.pendingChildren;try{o0(E,b)}catch(ct){un(f,f.return,ct)}}}Pf&&(Pf=!1,Vp(f));break;case 4:Rs?(b=ti,ti=td(f.stateNode.containerInfo),Tr(d,f),Cr(f),ti=b):(Tr(d,f),Cr(f)),E&4&&es&&Uv(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:Tr(d,f),Cr(f);break;case 31:Tr(d,f),Cr(f),E&4&&(E=f.updateQueue,E!==null&&(f.updateQueue=null,al(f,E)));break;case 13:Tr(d,f),Cr(f),f.child.flags&8192&&f.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(fd=Kr()),E&4&&(E=f.updateQueue,E!==null&&(f.updateQueue=null,al(f,E)));break;case 22:O=f.memoizedState!==null;var X=b!==null&&b.memoizedState!==null,le=ji,Le=Gi;if(ji=le||O,Gi=Le||X,Tr(d,f),Gi=Le,ji=le,Cr(f),E&8192&&(d=f.stateNode,d._visibility=O?d._visibility&-2:d._visibility|1,O&&(b===null||X||ji||Gi||Yl(f)),Un)){e:if(b=null,Un)for(d=f;;){if(d.tag===5||Rs&&d.tag===26){if(b===null){X=b=d;try{N=X.stateNode,O?fA(N):e_(X.stateNode,X.memoizedProps)}catch(ct){un(X,X.return,ct)}}}else if(d.tag===6){if(b===null){X=d;try{var it=X.stateNode;O?Jb(it):t_(it,X.memoizedProps)}catch(ct){un(X,X.return,ct)}}}else if(d.tag===18){if(b===null){X=d;try{var _t=X.stateNode;O?__(_t):S_(X.stateNode)}catch(ct){un(X,X.return,ct)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===f)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;b===d&&(b=null),d=d.return}b===d&&(b=null),d.sibling.return=d.return,d=d.sibling}}E&4&&(E=f.updateQueue,E!==null&&(b=E.retryQueue,b!==null&&(E.retryQueue=null,al(f,b))));break;case 19:Tr(d,f),Cr(f),E&4&&(E=f.updateQueue,E!==null&&(f.updateQueue=null,al(f,E)));break;case 30:break;case 21:break;default:Tr(d,f),Cr(f)}}function Cr(f){var d=f.flags;if(d&2){try{for(var b,E=f.return;E!==null;){if(Lv(E)){b=E;break}E=E.return}if(Un){if(b==null)throw Error(r(160));switch(b.tag){case 27:if(gr){var O=b.stateNode,N=rl(f);Fh(f,N,O);break}case 5:var X=b.stateNode;b.flags&32&&(i0(X),b.flags&=-33);var le=rl(f);Fh(f,le,X);break;case 3:case 4:var Le=b.stateNode.containerInfo,it=rl(f);Fp(f,it,Le);break;default:throw Error(r(161))}}}catch(_t){un(f,f.return,_t)}f.flags&=-3}d&4096&&(f.flags&=-4097)}function Vp(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var d=f;Vp(d),d.tag===5&&d.flags&1024&&Zv(d.stateNode),f=f.sibling}}function ma(f,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)Ub(f,d.alternate,d),d=d.sibling}function Yl(f){for(f=f.child;f!==null;){var d=f;switch(d.tag){case 0:case 11:case 14:case 15:xo(4,d,d.return),Yl(d);break;case 1:Zr(d,d.return);var b=d.stateNode;typeof b.componentWillUnmount=="function"&&kp(d,d.return,b),Yl(d);break;case 27:gr&&Rr(d.stateNode);case 26:case 5:Zr(d,d.return),Yl(d);break;case 22:d.memoizedState===null&&Yl(d);break;case 30:Yl(d);break;default:Yl(d)}f=f.sibling}}function Es(f,d,b){for(b=b&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var E=d.alternate,O=f,N=d,X=N.flags;switch(N.tag){case 0:case 11:case 15:Es(O,N,b),yo(4,N);break;case 1:if(Es(O,N,b),E=N,O=E.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(it){un(E,E.return,it)}if(E=N,O=E.updateQueue,O!==null){var le=E.stateNode;try{var Le=O.shared.hiddenCallbacks;if(Le!==null)for(O.shared.hiddenCallbacks=null,O=0;O<Le.length;O++)vt(Le[O],le)}catch(it){un(E,E.return,it)}}b&&X&64&&ff(N),hf(N,N.return);break;case 27:gr&&Lb(N);case 26:case 5:Es(O,N,b),b&&E===null&&X&4&&Ku(N),hf(N,N.return);break;case 12:Es(O,N,b);break;case 31:Es(O,N,b),b&&X&4&&Ms(O,N);break;case 13:Es(O,N,b),b&&X&4&&Hh(O,N);break;case 22:N.memoizedState===null&&Es(O,N,b),hf(N,N.return);break;case 30:break;default:Es(O,N,b)}d=d.sibling}}function Zl(f,d){var b=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),f=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(f=d.memoizedState.cachePool.pool),f!==b&&(f!=null&&f.refCount++,b!=null&&Xe(b))}function Bv(f,d){f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&Xe(f))}function Ri(f,d,b,E){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Hp(f,d,b,E),d=d.sibling}function Hp(f,d,b,E){var O=d.flags;switch(d.tag){case 0:case 11:case 15:Ri(f,d,b,E),O&2048&&yo(9,d);break;case 1:Ri(f,d,b,E);break;case 3:Ri(f,d,b,E),O&2048&&(f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&Xe(f)));break;case 12:if(O&2048){Ri(f,d,b,E),f=d.stateNode;try{var N=d.memoizedProps,X=N.id,le=N.onPostCommit;typeof le=="function"&&le(X,d.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Le){un(d,d.return,Le)}}else Ri(f,d,b,E);break;case 31:Ri(f,d,b,E);break;case 13:Ri(f,d,b,E);break;case 23:break;case 22:N=d.stateNode,X=d.alternate,d.memoizedState!==null?N._visibility&2?Ri(f,d,b,E):df(f,d):N._visibility&2?Ri(f,d,b,E):(N._visibility|=2,Oa(f,d,b,E,(d.subtreeFlags&10256)!==0||!1)),O&2048&&Zl(X,d);break;case 24:Ri(f,d,b,E),O&2048&&Bv(d.alternate,d);break;default:Ri(f,d,b,E)}}function Oa(f,d,b,E,O){for(O=O&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var N=f,X=d,le=b,Le=E,it=X.flags;switch(X.tag){case 0:case 11:case 15:Oa(N,X,le,Le,O),yo(8,X);break;case 23:break;case 22:var _t=X.stateNode;X.memoizedState!==null?_t._visibility&2?Oa(N,X,le,Le,O):df(N,X):(_t._visibility|=2,Oa(N,X,le,Le,O)),O&&it&2048&&Zl(X.alternate,X);break;case 24:Oa(N,X,le,Le,O),O&&it&2048&&Bv(X.alternate,X);break;default:Oa(N,X,le,Le,O)}d=d.sibling}}function df(f,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var b=f,E=d,O=E.flags;switch(E.tag){case 22:df(b,E),O&2048&&Zl(E.alternate,E);break;case 24:df(b,E),O&2048&&Bv(E.alternate,E);break;default:df(b,E)}d=d.sibling}}function bo(f,d,b){if(f.subtreeFlags&rs)for(f=f.child;f!==null;)Kl(f,d,b),f=f.sibling}function Kl(f,d,b){switch(f.tag){case 26:if(bo(f,d,b),f.flags&rs)if(f.memoizedState!==null)A_(b,ti,f.memoizedState,f.memoizedProps);else{var E=f.stateNode,O=f.type;f=f.memoizedProps,((d&335544128)===d||$v(O,f))&&rm(b,E,O,f)}break;case 5:bo(f,d,b),f.flags&rs&&(E=f.stateNode,O=f.type,f=f.memoizedProps,((d&335544128)===d||$v(O,f))&&rm(b,E,O,f));break;case 3:case 4:Rs?(E=ti,ti=td(f.stateNode.containerInfo),bo(f,d,b),ti=E):bo(f,d,b);break;case 22:f.memoizedState===null&&(E=f.alternate,E!==null&&E.memoizedState!==null?(E=rs,rs=16777216,bo(f,d,b),rs=E):bo(f,d,b));break;default:bo(f,d,b)}}function jp(f){var d=f.alternate;if(d!==null&&(f=d.child,f!==null)){d.child=null;do d=f.sibling,f.sibling=null,f=d;while(f!==null)}}function pf(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var b=0;b<d.length;b++){var E=d[b];Ji=E,Ka(E,f)}jp(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Gp(f),f=f.sibling}function Gp(f){switch(f.tag){case 0:case 11:case 15:pf(f),f.flags&2048&&xo(9,f,f.return);break;case 3:pf(f);break;case 12:pf(f);break;case 22:var d=f.stateNode;f.memoizedState!==null&&d._visibility&2&&(f.return===null||f.return.tag!==13)?(d._visibility&=-3,Gh(f)):pf(f);break;default:pf(f)}}function Gh(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var b=0;b<d.length;b++){var E=d[b];Ji=E,Ka(E,f)}jp(f)}for(f=f.child;f!==null;){switch(d=f,d.tag){case 0:case 11:case 15:xo(8,d,d.return),Gh(d);break;case 22:b=d.stateNode,b._visibility&2&&(b._visibility&=-3,Gh(d));break;default:Gh(d)}f=f.sibling}}function Ka(f,d){for(;Ji!==null;){var b=Ji;switch(b.tag){case 0:case 11:case 15:xo(8,b,d);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var E=b.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:Xe(b.memoizedState.cache)}if(E=b.child,E!==null)E.return=b,Ji=E;else e:for(b=f;Ji!==null;){E=Ji;var O=E.sibling,N=E.return;if(zv(E),E===b){Ji=null;break e}if(O!==null){O.return=N,Ji=O;break e}Ji=N}}}function Ql(f){var d=mn(f);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(r(364));return d}if(f=Ki(f),f===null)throw Error(r(362));return f.stateNode.current}function Jl(f,d){var b=f.tag;switch(d.$$typeof){case zs:if(f.type===d.value)return!0;break;case Df:e:{for(d=d.value,f=[f,0],b=0;b<f.length;){var E=f[b++],O=E.tag,N=f[b++],X=d[N];if(O!==5&&O!==26&&O!==27||!su(E)){for(;X!=null&&Jl(E,X);)N++,X=d[N];if(N===d.length){d=!0;break e}else for(E=E.child;E!==null;)f.push(E,N),E=E.sibling}}d=!1}return d;case If:if((b===5||b===26||b===27)&&Jv(f.stateNode,d.value))return!0;break;case pu:if((b===5||b===6||b===26||b===27)&&(f=Jh(f),f!==null&&0<=f.indexOf(d.value)))return!0;break;case ud:if((b===5||b===26||b===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function mf(f){switch(f.$$typeof){case zs:return"<"+(g(f.value)||"Unknown")+">";case Df:return":has("+(mf(f)||"")+")";case If:return'[role="'+f.value+'"]';case pu:return'"'+f.value+'"';case ud:return'[data-testname="'+f.value+'"]';default:throw Error(r(365))}}function gf(f,d){var b=[];f=[f,0];for(var E=0;E<f.length;){var O=f[E++],N=O.tag,X=f[E++],le=d[X];if(N!==5&&N!==26&&N!==27||!su(O)){for(;le!=null&&Jl(O,le);)X++,le=d[X];if(X===d.length)b.push(O);else for(O=O.child;O!==null;)f.push(O,X),O=O.sibling}}return b}function Da(f,d){if(!mr)throw Error(r(363));f=Ql(f),f=gf(f,d),d=[],f=Array.from(f);for(var b=0;b<f.length;){var E=f[b++],O=E.tag;if(O===5||O===26||O===27)su(E)||d.push(E.stateNode);else for(E=E.child;E!==null;)f.push(E),E=E.sibling}return d}function Si(){return(Tn&2)!==0&&Dn!==0?Dn&-Dn:Qt.T!==null?St():Ef()}function sl(){if(_a===0)if((Dn&536870912)===0||On){var f=cc;cc<<=1,(cc&3932160)===0&&(cc=262144),_a=f}else _a=536870912;return f=Ba.current,f!==null&&(f.flags|=32),_a}function Pi(f,d,b){(f===Mn&&(ni===2||ni===9)||f.cancelPendingCommit!==null)&&(Vi(f,0),So(f,Dn,_a,!1)),I(f,b),((Tn&2)===0||f!==Mn)&&(f===Mn&&((Tn&2)===0&&(vu|=b),Ni===4&&So(f,Dn,_a,!1)),Et(f))}function Ys(f,d,b){if((Tn&6)!==0)throw Error(r(327));var E=!b&&(d&127)===0&&(d&f.expiredLanes)===0||T(f,d),O=E?kb(f,d):Mo(f,d,!0),N=E;do{if(O===0){mu&&!E&&So(f,d,0,!1);break}else{if(b=f.current.alternate,N&&!zb(b)){O=Mo(f,d,!1),N=!1;continue}if(O===2){if(N=d,f.errorRecoveryDisabledLanes&N)var X=0;else X=f.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){d=X;e:{var le=f;O=cd;var Le=Mi&&le.current.memoizedState.isDehydrated;if(Le&&(Vi(le,X).flags|=256),X=Mo(le,X,!1),X!==2){if(gu&&!Le){le.errorRecoveryDisabledLanes|=N,vu|=N,O=4;break e}N=Fa,Fa=O,N!==null&&(Fa===null?Fa=N:Fa.push.apply(Fa,N))}O=X}if(N=!1,O!==2)continue}}if(O===1){Vi(f,0),So(f,d,0,!0);break}e:{switch(E=f,N=O,N){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:So(E,d,_a,!Js);break e;case 2:Fa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(O=fd+300-Kr(),10<O)){if(So(E,d,_a,!Js),M(E,0,!0)!==0)break e;zo=d,E.timeoutHandle=Xv(_o.bind(null,E,b,Fa,hd,Am,d,_a,vu,Lf,Js,N,"Throttled",-0,0),O);break e}_o(E,b,Fa,hd,Am,d,_a,vu,Lf,Js,N,null,-0,0)}}break}while(!0);Et(f)}function _o(f,d,b,E,O,N,X,le,Le,it,_t,ct,It,pn){if(f.timeoutHandle=La,ct=d.subtreeFlags,ct&8192||(ct&16785408)===16785408){ct=Yv(),Kl(d,N,ct);var tr=(N&62914560)===N?fd-Kr():(N&4194048)===N?vc-Kr():0;if(tr=qb(ct,tr),tr!==null){zo=N,f.cancelPendingCommit=tr(Eo.bind(null,f,d,N,b,E,O,X,le,Le,_t,ct,null,It,pn)),So(f,N,X,!it);return}}Eo(f,d,N,b,E,O,X,le,Le)}function zb(f){for(var d=f;;){var b=d.tag;if((b===0||b===11||b===15)&&d.flags&16384&&(b=d.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var E=0;E<b.length;E++){var O=b[E],N=O.getSnapshot;O=O.value;try{if(!Qi(N(),O))return!1}catch{return!1}}if(b=d.child,d.subtreeFlags&16384&&b!==null)b.return=d,d=b;else{if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function So(f,d,b,E){d&=~Nf,d&=~vu,f.suspendedLanes|=d,f.pingedLanes&=~d,E&&(f.warmLanes|=d),E=f.expirationTimes;for(var O=d;0<O;){var N=31-Ua(O),X=1<<N;E[N]=-1,O&=~X}b!==0&&D(f,b,d)}function Wp(){return(Tn&6)===0?(dt(0),!1):!0}function qp(){if(Cn!==null){if(ni===0)var f=Cn.return;else f=Cn,Ks=fi=null,cn(f),fu=null,hc=0,f=Cn;for(;f!==null;)Nb(f.alternate,f),f=f.return;Cn=null}}function Vi(f,d){var b=f.timeoutHandle;b!==La&&(f.timeoutHandle=La,Wb(b)),b=f.cancelPendingCommit,b!==null&&(f.cancelPendingCommit=null,b()),zo=0,qp(),Mn=f,Cn=b=Ja(f.current,null),Dn=d,ni=0,lr=null,Js=!1,mu=T(f,d),gu=!1,Lf=_a=Nf=vu=yl=Ni=0,Fa=cd=null,Am=!1,(d&8)!==0&&(d|=d&32);var E=f.entangledLanes;if(E!==0)for(f=f.entanglements,E&=d;0<E;){var O=31-Ua(E),N=1<<O;d|=f[O],E&=~N}return Uo=d,$s(),b}function ci(f,d){gn=null,Qt.H=is,d===xr||d===Ls?(d=In(),ni=3):d===wm?(d=In(),ni=4):ni=d===ba?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,lr=d,Cn===null&&(Ni=1,Lp(f,de(d,f.current)))}function Ln(){var f=Ba.current;return f===null?!0:(Dn&4194048)===Dn?ka===null:(Dn&62914560)===Dn||(Dn&536870912)!==0?f===ka:!1}function ol(){var f=Qt.H;return Qt.H=is,f===null?is:f}function Qa(){var f=Qt.A;return Qt.A=Of,f}function vf(){Ni=4,Js||(Dn&4194048)!==Dn&&Ba.current!==null||(mu=!0),(yl&134217727)===0&&(vu&134217727)===0||Mn===null||So(Mn,Dn,_a,!1)}function Mo(f,d,b){var E=Tn;Tn|=2;var O=ol(),N=Qa();(Mn!==f||Dn!==d)&&(hd=null,Vi(f,d)),d=!1;var X=Ni;e:do try{if(ni!==0&&Cn!==null){var le=Cn,Le=lr;switch(ni){case 8:qp(),X=6;break e;case 3:case 2:case 9:case 6:Ba.current===null&&(d=!0);var it=ni;if(ni=0,lr=null,wo(f,le,Le,it),b&&mu){X=0;break e}break;default:it=ni,ni=0,lr=null,wo(f,le,Le,it)}}Bb(),X=Ni;break}catch(_t){ci(f,_t)}while(!0);return d&&f.shellSuspendCounter++,Ks=fi=null,Tn=E,Qt.H=O,Qt.A=N,Cn===null&&(Mn=null,Dn=0,$s()),X}function Bb(){for(;Cn!==null;)eu(Cn)}function kb(f,d){var b=Tn;Tn|=2;var E=ol(),O=Qa();Mn!==f||Dn!==d?(hd=null,yu=Kr()+500,Vi(f,d)):mu=T(f,d);e:do try{if(ni!==0&&Cn!==null){d=Cn;var N=lr;t:switch(ni){case 1:ni=0,lr=null,wo(f,d,N,1);break;case 2:case 9:if(Lt(N)){ni=0,lr=null,Xp(d);break}d=function(){ni!==2&&ni!==9||Mn!==f||(ni=7),Et(f)},N.then(d,d);break e;case 3:ni=7;break e;case 4:ni=5;break e;case 7:Lt(N)?(ni=0,lr=null,Xp(d)):(ni=0,lr=null,wo(f,d,N,7));break;case 5:var X=null;switch(Cn.tag){case 26:X=Cn.memoizedState;case 5:case 27:var le=Cn,Le=le.type,it=le.pendingProps;if(X?_0(X):Oi(le.stateNode,Le,it)){ni=0,lr=null;var _t=le.sibling;if(_t!==null)Cn=_t;else{var ct=le.return;ct!==null?(Cn=ct,xf(ct)):Cn=null}break t}}ni=0,lr=null,wo(f,d,N,5);break;case 6:ni=0,lr=null,wo(f,d,N,6);break;case 8:qp(),Ni=6;break e;default:throw Error(r(462))}}yf();break}catch(It){ci(f,It)}while(!0);return Ks=fi=null,Qt.H=E,Qt.A=O,Tn=b,Cn!==null?0:(Mn=null,Dn=0,$s(),Ni)}function yf(){for(;Cn!==null&&!C_();)eu(Cn)}function eu(f){var d=Ov(f.alternate,f,Uo);f.memoizedProps=f.pendingProps,d===null?xf(f):Cn=d}function Xp(f){var d=f,b=d.alternate;switch(d.tag){case 15:case 0:d=Ev(b,d,d.pendingProps,d.type,void 0,Dn);break;case 11:d=Ev(b,d,d.pendingProps,d.type.render,d.ref,Dn);break;case 5:cn(d);default:Nb(b,d),d=Cn=Zp(d,Uo),d=Ov(b,d,Uo)}f.memoizedProps=f.pendingProps,d===null?xf(f):Cn=d}function wo(f,d,b,E){Ks=fi=null,cn(d),fu=null,hc=0;var O=d.return;try{if(oA(f,O,d,b,Dn)){Ni=1,Lp(f,de(b,f.current)),Cn=null;return}}catch(N){if(O!==null)throw Cn=O,N;Ni=1,Lp(f,de(b,f.current)),Cn=null;return}d.flags&32768?(On||E===1?f=!0:mu||(Dn&536870912)!==0?f=!1:(Js=f=!0,(E===2||E===9||E===3||E===6)&&(E=Ba.current,E!==null&&E.tag===13&&(E.flags|=16384))),tu(d,f)):xf(d)}function xf(f){var d=f;do{if((d.flags&32768)!==0){tu(d,Js);return}f=d.return;var b=Ib(d.alternate,d,Uo);if(b!==null){Cn=b;return}if(d=d.sibling,d!==null){Cn=d;return}Cn=d=f}while(d!==null);Ni===0&&(Ni=5)}function tu(f,d){do{var b=Nv(f.alternate,f);if(b!==null){b.flags&=32767,Cn=b;return}if(b=f.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!d&&(f=f.sibling,f!==null)){Cn=f;return}Cn=f=b}while(f!==null);Ni=6,Cn=null}function Eo(f,d,b,E,O,N,X,le,Le){f.cancelPendingCommit=null;do To();while(ur!==0);if((Tn&6)!==0)throw Error(r(327));if(d!==null){if(d===f.current)throw Error(r(177));if(N=d.lanes|d.childLanes,N|=dc,B(f,b,N,X,le,Le),f===Mn&&(Cn=Mn=null,Dn=0),yc=d,bl=f,zo=b,Uf=N,Tm=O,P0=E,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,sr(id,function(){return Wh(),null})):(f.callbackNode=null,f.callbackPriority=0),E=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||E){E=Qt.T,Qt.T=null,O=Cs(),Pn(2),X=Tn,Tn|=4;try{lA(f,d,b)}finally{Tn=X,Pn(O),Qt.T=E}}ur=1,ll(),Ao(),$p()}}function ll(){if(ur===1){ur=0;var f=bl,d=yc,b=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||b){b=Qt.T,Qt.T=null;var E=Cs();Pn(2);var O=Tn;Tn|=4;try{jh(d,f),Gb(f.containerInfo)}finally{Tn=O,Pn(E),Qt.T=b}}f.current=d,ur=2}}function Ao(){if(ur===2){ur=0;var f=bl,d=yc,b=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||b){b=Qt.T,Qt.T=null;var E=Cs();Pn(2);var O=Tn;Tn|=4;try{Ub(f,d.alternate,d)}finally{Tn=O,Pn(E),Qt.T=b}}ur=3}}function $p(){if(ur===4||ur===3){ur=0,M0();var f=bl,d=yc,b=zo,E=P0;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?ur=5:(ur=0,yc=bl=null,Yp(f,f.pendingLanes));var O=f.pendingLanes;if(O===0&&(xl=null),G(b),d=d.stateNode,za&&typeof za.onCommitFiberRoot=="function")try{za.onCommitFiberRoot(fc,d,void 0,(d.current.flags&128)===128)}catch{}if(E!==null){d=Qt.T,O=Cs(),Pn(2),Qt.T=null;try{for(var N=f.onRecoverableError,X=0;X<E.length;X++){var le=E[X];N(le.value,{componentStack:le.stack})}}finally{Qt.T=d,Pn(O)}}(zo&3)!==0&&To(),Et(f),O=f.pendingLanes,(b&261930)!==0&&(O&42)!==0?f===dd?Gn++:(Gn=0,dd=f):Gn=0,Mi&&ed(),dt(0)}}function Yp(f,d){(f.pooledCacheLanes&=d)===0&&(d=f.pooledCache,d!=null&&(f.pooledCache=null,Xe(d)))}function To(){return ll(),Ao(),$p(),Wh()}function Wh(){if(ur!==5)return!1;var f=bl,d=Uf;Uf=0;var b=G(zo),E=32>b?32:b;b=Qt.T;var O=Cs();try{Pn(E),Qt.T=null,E=Tm,Tm=null;var N=bl,X=zo;if(ur=0,yc=bl=null,zo=0,(Tn&6)!==0)throw Error(r(331));var le=Tn;if(Tn|=4,Gp(N.current),Hp(N,N.current,X,E),Tn=le,dt(0,!1),za&&typeof za.onPostCommitFiberRoot=="function")try{za.onPostCommitFiberRoot(fc,N)}catch{}return!0}finally{Pn(O),Qt.T=b,Yp(f,d)}}function nu(f,d,b){d=de(b,d),d=Mv(f.stateNode,d,2),f=we(f,d,2),f!==null&&(I(f,2),Et(f))}function un(f,d,b){if(f.tag===3)nu(f,f,b);else for(;d!==null;){if(d.tag===3){nu(d,f,b);break}else if(d.tag===1){var E=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(xl===null||!xl.has(E))){f=de(b,f),b=_b(2),E=we(d,b,2),E!==null&&(Sb(b,E,d,f),I(E,2),Et(E));break}}d=d.return}}function bf(f,d,b){var E=f.pingCache;if(E===null){E=f.pingCache=new as;var O=new Set;E.set(d,O)}else O=E.get(d),O===void 0&&(O=new Set,E.set(d,O));O.has(b)||(gu=!0,O.add(b),f=Fb.bind(null,f,d,b),d.then(f,f))}function Fb(f,d,b){var E=f.pingCache;E!==null&&E.delete(d),f.pingedLanes|=f.suspendedLanes&b,f.warmLanes&=~b,Mn===f&&(Dn&b)===b&&(Ni===4||Ni===3&&(Dn&62914560)===Dn&&300>Kr()-fd?(Tn&2)===0&&Vi(f,0):Nf|=b,Lf===Dn&&(Lf=0)),Et(f)}function Vb(f,d){d===0&&(d=P()),f=ln(f,d),f!==null&&(I(f,d),Et(f))}function uA(f){var d=f.memoizedState,b=0;d!==null&&(b=d.retryLane),Vb(f,b)}function cA(f,d){var b=0;switch(f.tag){case 31:case 13:var E=f.stateNode,O=f.memoizedState;O!==null&&(b=O.retryLane);break;case 19:E=f.stateNode;break;case 22:E=f.stateNode._retryCache;break;default:throw Error(r(314))}E!==null&&E.delete(d),Vb(f,b)}function sr(f,d){return nd(f,d)}function kv(f,d,b,E){this.tag=f,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qu(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Ja(f,d){var b=f.alternate;return b===null?(b=n(f.tag,d,f.key,f.mode),b.elementType=f.elementType,b.type=f.type,b.stateNode=f.stateNode,b.alternate=f,f.alternate=b):(b.pendingProps=d,b.type=f.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=f.flags&65011712,b.childLanes=f.childLanes,b.lanes=f.lanes,b.child=f.child,b.memoizedProps=f.memoizedProps,b.memoizedState=f.memoizedState,b.updateQueue=f.updateQueue,d=f.dependencies,b.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},b.sibling=f.sibling,b.index=f.index,b.ref=f.ref,b.refCleanup=f.refCleanup,b}function Zp(f,d){f.flags&=65011714;var b=f.alternate;return b===null?(f.childLanes=0,f.lanes=d,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=b.childLanes,f.lanes=b.lanes,f.child=b.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=b.memoizedProps,f.memoizedState=b.memoizedState,f.updateQueue=b.updateQueue,f.type=b.type,d=b.dependencies,f.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),f}function ul(f,d,b,E,O,N){var X=0;if(E=f,typeof f=="function")Qu(f)&&(X=1);else if(typeof f=="string")X=Rs&&gr?fm(f,b,Pr.current)?26:S0(f)?27:5:Rs?fm(f,b,Pr.current)?26:5:gr&&S0(f)?27:5;else e:switch(f){case Yh:return f=n(31,b,d,O),f.elementType=Yh,f.lanes=N,f;case nc:return As(b.children,O,N,d);case ic:X=8,O|=24;break;case rc:return f=n(12,b,d,O|2),f.elementType=rc,f.lanes=N,f;case em:return f=n(13,b,d,O),f.elementType=em,f.lanes=N,f;case cl:return f=n(19,b,d,O),f.elementType=cl,f.lanes=N,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case Ts:X=10;break e;case $h:X=9;break e;case _f:X=11;break e;case tm:X=14;break e;case ga:X=16,E=null;break e}X=29,b=Error(r(130,f===null?"null":typeof f,"")),E=null}return d=n(X,b,d,O),d.elementType=f,d.type=E,d.lanes=N,d}function As(f,d,b,E){return f=n(7,f,E,d),f.lanes=b,f}function Fv(f,d,b){return f=n(6,f,null,d),f.lanes=b,f}function Vv(f){var d=n(18,null,null,0);return d.stateNode=f,d}function Hv(f,d,b){return d=n(4,f.children!==null?f.children:[],f.key,d),d.lanes=b,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}function Hb(f,d,b,E,O,N,X,le,Le){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=La,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=E,this.onUncaughtError=O,this.onCaughtError=N,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Le,this.incompleteTransitions=new Map}function iu(f,d,b,E,O,N,X,le,Le,it,_t,ct){return f=new Hb(f,d,b,X,Le,it,_t,ct,le),d=1,N===!0&&(d|=24),N=n(3,null,null,d),f.current=N,N.stateNode=f,d=Ie(),d.refCount++,f.pooledCache=d,d.refCount++,N.memoizedState={element:E,isDehydrated:b,cache:d},V(N),f}function Kp(f){return f?(f=Ro,f):Ro}function qh(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=l(d),f=f!==null?c(f):null,f===null?null:Mf(f.stateNode)}function jv(f,d,b,E,O,N){O=Kp(O),E.context===null?E.context=O:E.pendingContext=O,E=ae(d),E.payload={element:b},N=N===void 0?null:N,N!==null&&(E.callback=N),b=we(f,E,d),b!==null&&(Pi(b,f,d),ze(b,f,d))}function Ju(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var b=f.retryLane;f.retryLane=b!==0&&b<d?b:d}}function Xh(f,d){Ju(f,d),(f=f.alternate)&&Ju(f,d)}var _n={},Qp=BO,Ia=yte,Jp=Object.assign,ec=Symbol.for("react.element"),Co=Symbol.for("react.transitional.element"),tc=Symbol.for("react.portal"),nc=Symbol.for("react.fragment"),ic=Symbol.for("react.strict_mode"),rc=Symbol.for("react.profiler"),$h=Symbol.for("react.consumer"),Ts=Symbol.for("react.context"),_f=Symbol.for("react.forward_ref"),em=Symbol.for("react.suspense"),cl=Symbol.for("react.suspense_list"),tm=Symbol.for("react.memo"),ga=Symbol.for("react.lazy"),Yh=Symbol.for("react.activity"),Gv=Symbol.for("react.memo_cache_sentinel"),fl=Symbol.iterator,ru=Symbol.for("react.client.reference"),au=Array.isArray,Qt=Qp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Wv=e.rendererVersion,Zh=e.rendererPackageName,Sf=e.extraDevToolsConfig,Mf=e.getPublicInstance,jb=e.getRootHostContext,wf=e.getChildHostContext,nm=e.prepareForCommit,Gb=e.resetAfterCommit,qv=e.createInstance;e.cloneMutableInstance;var Kh=e.appendInitialChild,Na=e.finalizeInitialChildren,va=e.shouldSetTextContent,hl=e.createTextInstance;e.cloneMutableTextInstance;var Xv=e.scheduleTimeout,Wb=e.cancelTimeout,La=e.noTimeout,Zi=e.isPrimaryRenderer;e.warnsIfNotActing;var Un=e.supportsMutation,es=e.supportsPersistence,Mi=e.supportsHydration,mn=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var ai=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Pn=e.setCurrentUpdatePriority,Cs=e.getCurrentUpdatePriority,Ef=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var ac=e.shouldAttemptEagerTransition,im=e.detachDeletedInstance;e.requestPostPaintCallback;var Qh=e.maySuspendCommit,Af=e.maySuspendCommitOnUpdate,$v=e.maySuspendCommitInSyncRender,Oi=e.preloadInstance,Yv=e.startSuspendingCommit,rm=e.suspendInstance;e.suspendOnActiveViewTransition;var qb=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var sc=e.NotPendingTransition,oc=e.HostTransitionContext,Zv=e.resetFormInstance;e.bindToConsole;var Kv=e.supportsMicrotasks,Qv=e.scheduleMicrotask,mr=e.supportsTestSelectors,Ki=e.findFiberRoot,am=e.getBoundingRect,Jh=e.getTextContent,su=e.isHiddenSubtree,Jv=e.matchAccessibilityRole,dl=e.setFocusIfFocusable,sm=e.setupIntersectionObserver,e0=e.appendChild,t0=e.appendChildToContainer,Xb=e.commitTextUpdate,$b=e.commitMount,Yb=e.commitUpdate,Zb=e.insertBefore,Kb=e.insertInContainerBefore,Qb=e.removeChild,n0=e.removeChildFromContainer,i0=e.resetTextContent,fA=e.hideInstance,Jb=e.hideTextInstance,e_=e.unhideInstance,t_=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var r0=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var n_=e.cloneInstance,a0=e.createContainerChildSet,s0=e.appendChildToContainerChildSet,i_=e.finalizeContainerChildren,o0=e.replaceContainerChildren,r_=e.cloneHiddenInstance,l0=e.cloneHiddenTextInstance,ou=e.isSuspenseInstancePending,om=e.isSuspenseInstanceFallback,lm=e.getSuspenseInstanceFallbackErrorDetails,um=e.registerSuspenseInstanceRetry,a_=e.canHydrateFormStateMarker,u0=e.isFormStateMarkerMatching,s_=e.getNextHydratableSibling,o_=e.getNextHydratableSiblingAfterSingleton,l_=e.getFirstHydratableChild,u_=e.getFirstHydratableChildWithinContainer,c_=e.getFirstHydratableChildWithinActivityInstance,f_=e.getFirstHydratableChildWithinSuspenseInstance,c0=e.getFirstHydratableChildWithinSingleton,h_=e.canHydrateInstance,d_=e.canHydrateTextInstance,f0=e.canHydrateActivityInstance,p_=e.canHydrateSuspenseInstance,m_=e.hydrateInstance,hA=e.hydrateTextInstance,h0=e.hydrateActivityInstance,g_=e.hydrateSuspenseInstance,v_=e.getNextHydratableInstanceAfterActivityInstance,d0=e.getNextHydratableInstanceAfterSuspenseInstance,y_=e.commitHydratedInstance,x_=e.commitHydratedContainer,dA=e.commitHydratedActivityInstance,pA=e.commitHydratedSuspenseInstance,b_=e.finalizeHydratedChildren,ed=e.flushHydrationEvents;e.clearActivityBoundary;var p0=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var cm=e.clearSuspenseBoundaryFromContainer,__=e.hideDehydratedBoundary,S_=e.unhideDehydratedBoundary,Tf=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var M_=e.validateHydratableInstance,m0=e.validateHydratableTextInstance,Rs=e.supportsResources,fm=e.isHostHoistableType,td=e.getHoistableRoot,g0=e.getResource,v0=e.acquireResource,lu=e.releaseResource,w_=e.hydrateHoistable,y0=e.mountHoistable,x0=e.unmountHoistable,hm=e.createHoistableInstance,E_=e.prepareToCommitHoistables,b0=e.mayResourceSuspendCommit,_0=e.preloadResource,A_=e.suspendResource,gr=e.supportsSingletons,dm=e.resolveSingletonInstance,or=e.acquireSingletonInstance,Rr=e.releaseSingletonInstance,S0=e.isHostSingletonType,lc=e.isSingletonScope,pm=[],uc=-1,Ro={},Ua=Math.clz32?Math.clz32:w,mm=Math.log,T_=Math.LN2,gm=256,cc=262144,Cf=4194304,nd=Ia.unstable_scheduleCallback,vm=Ia.unstable_cancelCallback,C_=Ia.unstable_shouldYield,M0=Ia.unstable_requestPaint,Kr=Ia.unstable_now,ym=Ia.unstable_ImmediatePriority,R_=Ia.unstable_UserBlockingPriority,id=Ia.unstable_NormalPriority,xm=Ia.unstable_IdlePriority,w0=Ia.log,P_=Ia.unstable_setDisableYieldValue,fc=null,za=null,Qi=typeof Object.is=="function"?Object.is:te,bm=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},mA=Object.prototype.hasOwnProperty,_m,Po,rd=!1,E0=new WeakMap,pl=[],Oo=0,si=null,ad=0,Ps=[],ts=0,Os=null,zr=1,Zs="",Pr=v(null),ml=v(null),Br=v(null),sd=v(null),vr=null,wi=null,On=!1,Do=null,ya=!1,Sm=Error(r(519)),Ds=v(null),fi=null,Ks=null,O_=typeof AbortController<"u"?AbortController:function(){var f=[],d=this.signal={aborted:!1,addEventListener:function(b,E){f.push(E)}};this.abort=function(){d.aborted=!0,f.forEach(function(b){return b()})}},Or=Ia.unstable_scheduleCallback,gA=Ia.unstable_NormalPriority,Ei={$$typeof:Ts,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},od=null,ei=null,Qr=!1,Is=!1,Mm=!1,uu=0,Rf=null,A0=0,gl=0,yr=null,Ns=Qt.S;Qt.S=function(f,d){vc=Kr(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&Xt(f,d),Ns!==null&&Ns(f,d)};var cu=v(null),xr=Error(r(460)),wm=Error(r(474)),Ls=Error(r(542)),Io={then:function(){}},xa=null,fu=null,hc=0,kr=po(!0),T0=po(!1),Fr=[],No=0,dc=0,ns=!1,Em=!1,pc=v(null),hu=v(0),Ba=v(null),ka=null,Hi=v(0),vl=0,gn=null,$t=null,hn=null,Sn=!1,xn=!1,zn=!1,Jr=0,Us=0,Qs=null,C0=0,is={readContext:Q,use:$n,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt};is.useEffectEvent=rt;var Di={readContext:Q,use:$n,useCallback:function(f,d){return jt().memoizedState=[f,d===void 0?null:d],f},useContext:Q,useEffect:Oh,useImperativeHandle:function(f,d,b){b=b!=null?b.concat([f]):null,qu(4194308,4,rf.bind(null,d,f),b)},useLayoutEffect:function(f,d){return qu(4194308,4,f,d)},useInsertionEffect:function(f,d){qu(4,2,f,d)},useMemo:function(f,d){var b=jt();d=d===void 0?null:d;var E=f();if(zn){J(!0);try{f()}finally{J(!1)}}return b.memoizedState=[E,d],E},useReducer:function(f,d,b){var E=jt();if(b!==void 0){var O=b(d);if(zn){J(!0);try{b(d)}finally{J(!1)}}}else O=d;return E.memoizedState=E.baseState=O,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:O},E.queue=f,f=f.dispatch=sA.bind(null,gn,f),[E.memoizedState,f]},useRef:function(f){var d=jt();return f={current:f},d.memoizedState=f},useState:function(f){f=mv(f);var d=f.queue,b=vb.bind(null,gn,d);return d.dispatch=b,[f.memoizedState,b]},useDebugValue:Ih,useDeferredValue:function(f,d){var b=jt();return sf(b,f,d)},useTransition:function(){var f=mv(!1);return f=pb.bind(null,gn,f.queue,!0,!1),jt().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,d,b){var E=gn,O=jt();if(On){if(b===void 0)throw Error(r(407));b=b()}else{if(b=d(),Mn===null)throw Error(r(349));(Dn&127)!==0||Yi(E,d,b)}O.memoizedState=b;var N={value:b,getSnapshot:d};return O.queue=N,Oh(mo.bind(null,E,N,f),[f]),E.flags|=2048,Za(9,{destroy:void 0},bs.bind(null,E,N,b,d),null),b},useId:function(){var f=jt(),d=Mn.identifierPrefix;if(On){var b=Zs,E=zr;b=(E&~(1<<32-Ua(E)-1)).toString(32)+b,d="_"+d+"R_"+b,b=Jr++,0<b&&(d+="H"+b.toString(32)),d+="_"}else b=C0++,d="_"+d+"r_"+b.toString(32)+"_";return f.memoizedState=d},useHostTransitionStatus:bv,useFormState:vv,useActionState:vv,useOptimistic:function(f){var d=jt();d.memoizedState=d.baseState=f;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=b,d=Dp.bind(null,gn,!0,b),b.dispatch=d,[f,d]},useMemoCache:Ci,useCacheRefresh:function(){return jt().memoizedState=aA.bind(null,gn)},useEffectEvent:function(f){var d=jt(),b={impl:f};return d.memoizedState=b,function(){if((Tn&2)!==0)throw Error(r(440));return b.impl.apply(void 0,arguments)}}},Lo={readContext:Q,use:$n,useCallback:Pp,useContext:Q,useEffect:nf,useImperativeHandle:db,useInsertionEffect:Xl,useLayoutEffect:Dh,useMemo:af,useReducer:yi,useRef:Rp,useState:function(){return yi(jn)},useDebugValue:Ih,useDeferredValue:function(f,d){var b=st();return xv(b,$t.memoizedState,f,d)},useTransition:function(){var f=yi(jn)[0],d=st().memoizedState;return[typeof f=="boolean"?f:At(f),d]},useSyncExternalStore:Yr,useId:Op,useHostTransitionStatus:bv,useFormState:ef,useActionState:ef,useOptimistic:function(f,d){var b=st();return Rh(b,$t,f,d)},useMemoCache:Ci,useCacheRefresh:gb};Lo.useEffectEvent=da;var du={readContext:Q,use:$n,useCallback:Pp,useContext:Q,useEffect:nf,useImperativeHandle:db,useInsertionEffect:Xl,useLayoutEffect:Dh,useMemo:af,useReducer:Fi,useRef:Rp,useState:function(){return Fi(jn)},useDebugValue:Ih,useDeferredValue:function(f,d){var b=st();return $t===null?sf(b,f,d):xv(b,$t.memoizedState,f,d)},useTransition:function(){var f=Fi(jn)[0],d=st().memoizedState;return[typeof f=="boolean"?f:At(f),d]},useSyncExternalStore:Yr,useId:Op,useHostTransitionStatus:bv,useFormState:tf,useActionState:tf,useOptimistic:function(f,d){var b=st();return $t!==null?Rh(b,$t,f,d):(b.baseState=f,[f,b.queue.dispatch])},useMemoCache:Ci,useCacheRefresh:gb};du.useEffectEvent=da;var ld={enqueueSetState:function(f,d,b){f=f._reactInternals;var E=Si(),O=ae(E);O.payload=d,b!=null&&(O.callback=b),d=we(f,O,E),d!==null&&(Pi(d,f,E),ze(d,f,E))},enqueueReplaceState:function(f,d,b){f=f._reactInternals;var E=Si(),O=ae(E);O.tag=1,O.payload=d,b!=null&&(O.callback=b),d=we(f,O,E),d!==null&&(Pi(d,f,E),ze(d,f,E))},enqueueForceUpdate:function(f,d){f=f._reactInternals;var b=Si(),E=ae(b);E.tag=2,d!=null&&(E.callback=d),d=we(f,E,b),d!==null&&(Pi(d,f,b),ze(d,f,b))}},ba=Error(r(461)),xi=!1,mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},ji=!1,Gi=!1,Pf=!1,R0=typeof WeakSet=="function"?WeakSet:Set,Ji=null,Ii=null,er=!1,ti=null,rs=8192,Of={getCacheForType:function(f){var d=Q(Ei),b=d.data.get(f);return b===void 0&&(b=f(),d.data.set(f,b)),b},cacheSignal:function(){return Q(Ei).controller.signal}},zs=0,Df=1,If=2,ud=3,pu=4;if(typeof Symbol=="function"&&Symbol.for){var gc=Symbol.for;zs=gc("selector.component"),Df=gc("selector.has_pseudo_class"),If=gc("selector.role"),ud=gc("selector.test_id"),pu=gc("selector.text")}var as=typeof WeakMap=="function"?WeakMap:Map,Tn=0,Mn=null,Cn=null,Dn=0,ni=0,lr=null,Js=!1,mu=!1,gu=!1,Uo=0,Ni=0,yl=0,vu=0,Nf=0,_a=0,Lf=0,cd=null,Fa=null,Am=!1,fd=0,vc=0,yu=1/0,hd=null,xl=null,ur=0,bl=null,yc=null,zo=0,Uf=0,Tm=null,P0=null,Gn=0,dd=null;return _n.attemptContinuousHydration=function(f){if(f.tag===13||f.tag===31){var d=ln(f,67108864);d!==null&&Pi(d,f,67108864),Xh(f,67108864)}},_n.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13||f.tag===31){var d=Si();d=j(d);var b=ln(f,d);b!==null&&Pi(b,f,d),Xh(f,d)}},_n.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var d=S(f.pendingLanes);if(d!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;d;){var b=1<<31-Ua(d);f.entanglements[1]|=b,d&=~b}Et(f),(Tn&6)===0&&(yu=Kr()+500,dt(0))}}break;case 31:case 13:d=ln(f,2),d!==null&&Pi(d,f,2),Wp(),Xh(f,2)}},_n.batchedUpdates=function(f,d){return f(d)},_n.createComponentSelector=function(f){return{$$typeof:zs,value:f}},_n.createContainer=function(f,d,b,E,O,N,X,le,Le,it){return iu(f,d,!1,null,b,E,N,null,X,le,Le,it)},_n.createHasPseudoClassSelector=function(f){return{$$typeof:Df,value:f}},_n.createHydrationContainer=function(f,d,b,E,O,N,X,le,Le,it,_t,ct,It,pn){var tr;return f=iu(b,E,!0,f,O,N,le,pn,Le,it,_t,ct),f.context=Kp(null),b=f.current,E=Si(),E=j(E),O=ae(E),O.callback=(tr=d)!=null?tr:null,we(b,O,E),d=E,f.current.lanes=d,I(f,d),Et(f),f},_n.createPortal=function(f,d,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tc,key:E==null?null:""+E,children:f,containerInfo:d,implementation:b}},_n.createRoleSelector=function(f){return{$$typeof:If,value:f}},_n.createTestNameSelector=function(f){return{$$typeof:ud,value:f}},_n.createTextSelector=function(f){return{$$typeof:pu,value:f}},_n.defaultOnCaughtError=function(f){console.error(f)},_n.defaultOnRecoverableError=function(f){bm(f)},_n.defaultOnUncaughtError=function(f){bm(f)},_n.deferredUpdates=function(f){var d=Qt.T,b=Cs();try{return Pn(32),Qt.T=null,f()}finally{Pn(b),Qt.T=d}},_n.discreteUpdates=function(f,d,b,E,O){var N=Qt.T,X=Cs();try{return Pn(2),Qt.T=null,f(d,b,E,O)}finally{Pn(X),Qt.T=N,Tn===0&&(yu=Kr()+500)}},_n.findAllNodes=Da,_n.findBoundingRects=function(f,d){if(!mr)throw Error(r(363));d=Da(f,d),f=[];for(var b=0;b<d.length;b++)f.push(am(d[b]));for(d=f.length-1;0<d;d--){b=f[d];for(var E=b.x,O=E+b.width,N=b.y,X=N+b.height,le=d-1;0<=le;le--)if(d!==le){var Le=f[le],it=Le.x,_t=it+Le.width,ct=Le.y,It=ct+Le.height;if(E>=it&&N>=ct&&O<=_t&&X<=It){f.splice(d,1);break}else if(E!==it||b.width!==Le.width||It<N||ct>X){if(!(N!==ct||b.height!==Le.height||_t<E||it>O)){it>E&&(Le.width+=it-E,Le.x=E),_t<O&&(Le.width=O-it),f.splice(d,1);break}}else{ct>N&&(Le.height+=ct-N,Le.y=N),It<X&&(Le.height=X-ct),f.splice(d,1);break}}}return f},_n.findHostInstance=qh,_n.findHostInstanceWithNoPortals=function(f){return f=l(f),f=f!==null?h(f):null,f===null?null:Mf(f.stateNode)},_n.findHostInstanceWithWarning=function(f){return qh(f)},_n.flushPassiveEffects=To,_n.flushSyncFromReconciler=function(f){var d=Tn;Tn|=1;var b=Qt.T,E=Cs();try{if(Pn(2),Qt.T=null,f)return f()}finally{Pn(E),Qt.T=b,Tn=d,(Tn&6)===0&&dt(0)}},_n.flushSyncWork=Wp,_n.focusWithin=function(f,d){if(!mr)throw Error(r(363));for(f=Ql(f),d=gf(f,d),d=Array.from(d),f=0;f<d.length;){var b=d[f++],E=b.tag;if(!su(b)){if((E===5||E===26||E===27)&&dl(b.stateNode))return!0;for(b=b.child;b!==null;)d.push(b),b=b.sibling}}return!1},_n.getFindAllNodesFailureDescription=function(f,d){if(!mr)throw Error(r(363));var b=0,E=[];f=[Ql(f),0];for(var O=0;O<f.length;){var N=f[O++],X=N.tag,le=f[O++],Le=d[le];if((X!==5&&X!==26&&X!==27||!su(N))&&(Jl(N,Le)&&(E.push(mf(Le)),le++,le>b&&(b=le)),le<d.length))for(N=N.child;N!==null;)f.push(N,le),N=N.sibling}if(b<d.length){for(f=[];b<d.length;b++)f.push(mf(d[b]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},_n.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return Mf(f.child.stateNode);default:return f.child.stateNode}},_n.injectIntoDevTools=function(){var f={bundleType:0,version:Wv,rendererPackageName:Zh,currentDispatcherRef:Qt,reconcilerVersion:"19.2.0"};if(Sf!==null&&(f.rendererConfig=Sf),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)f=!0;else{try{fc=d.inject(f),za=d}catch{}f=!!d.checkDCE}}return f},_n.isAlreadyRendering=function(){return(Tn&6)!==0},_n.observeVisibleRects=function(f,d,b,E){if(!mr)throw Error(r(363));f=Da(f,d);var O=sm(f,b,E).disconnect;return{disconnect:function(){O()}}},_n.shouldError=function(){return null},_n.shouldSuspend=function(){return!1},_n.startHostTransition=function(f,d,b,E){if(f.tag!==5)throw Error(r(476));var O=mb(f).queue;pb(f,O,d,sc,b===null?i:function(){var N=mb(f);return N.next===null&&(N=f.alternate.memoizedState),Nh(f,N.next.queue,{},Si()),b(E)})},_n.updateContainer=function(f,d,b,E){var O=d.current,N=Si();return jv(O,N,f,d,b,E),N},_n.updateContainerSync=function(f,d,b,E){return jv(d.current,2,f,d,b,E),2},_n},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(RU)),RU.exports}var OU;function qte(){return OU||(OU=1,CU.exports=Wte()),CU.exports}var Xte=qte();const $te=Gte(Xte);function Yte(t){const e=$te(t);return e.injectIntoDevTools(),e}const I8=0,Ug={},Zte=/^three(?=[A-Z])/,hE=t=>`${t[0].toUpperCase()}${t.slice(1)}`;let Kte=0;const Qte=t=>typeof t=="function";function N8(t){if(Qte(t)){const e=`${Kte++}`;return Ug[e]=t,e}else Object.assign(Ug,t)}function L8(t,e){const n=hE(t),i=Ug[n];if(t!=="primitive"&&!i)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(t==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Jte(t,e,n){var i;return t=hE(t)in Ug?t:t.replace(Zte,""),L8(t,e),t==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,MM(e.object,n,t,e)}function ene(t){if(!t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?EM(t.parent,t):ls(t.object)&&(t.object.visible=!1),t.isHidden=!0,ev(t)}}function U8(t){if(t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?wM(t.parent,t):ls(t.object)&&t.props.visible!==!1&&(t.object.visible=!0),t.isHidden=!1,ev(t)}}function O3(t,e,n){const i=e.root.getState();if(!(!t.parent&&t.object!==i.scene)){if(!e.object){var r,a;const s=Ug[hE(e.type)];e.object=(r=e.props.object)!=null?r:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Ru(e.object,e.props),e.props.attach)wM(t,e);else if(ls(e.object)&&ls(t.object)){const s=t.object.children.indexOf(n==null?void 0:n.object);if(n&&s!==-1){const l=t.object.children.indexOf(e.object);if(l!==-1){t.object.children.splice(l,1);const c=l<s?s-1:s;t.object.children.splice(c,0,e.object)}else e.object.parent=t.object,t.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),t.object.dispatchEvent({type:"childadded",child:e.object})}else t.object.add(e.object)}for(const s of e.children)O3(e,s);ev(e)}}function BT(t,e){e&&(e.parent=t,t.children.push(e),O3(t,e))}function DU(t,e,n){if(!e||!n)return;e.parent=t;const i=t.children.indexOf(n);i!==-1?t.children.splice(i,0,e):t.children.push(e),O3(t,e,n)}function z8(t){if(typeof t.dispose=="function"){const e=()=>{try{t.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():sP.unstable_scheduleCallback(sP.unstable_IdlePriority,e)}}function lP(t,e,n){if(!e)return;e.parent=null;const i=t.children.indexOf(e);i!==-1&&t.children.splice(i,1),e.props.attach?EM(t,e):ls(e.object)&&ls(t.object)&&(t.object.remove(e.object),Lte(A8(e),e.object));const r=e.props.dispose!==null&&n!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];lP(e,s,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&z8(e.object),n===void 0&&ev(e)}function tne(t,e){for(const n of[t,t.alternate])if(n!==null)if(typeof n.ref=="function"){n.refCleanup==null||n.refCleanup();const i=n.ref(e);typeof i=="function"&&(n.refCleanup=i)}else n.ref&&(n.ref.current=e)}const v1=[];function nne(){for(const[n]of v1){const i=n.parent;if(i){n.props.attach?EM(i,n):ls(n.object)&&ls(i.object)&&i.object.remove(n.object);for(const r of n.children)r.props.attach?EM(n,r):ls(r.object)&&ls(n.object)&&n.object.remove(r.object)}n.isHidden&&U8(n),n.object.__r3f&&delete n.object.__r3f,n.type!=="primitive"&&z8(n.object)}for(const[n,i,r]of v1){n.props=i;const a=n.parent;if(a){var t,e;const s=Ug[hE(n.type)];n.object=(t=n.props.object)!=null?t:new s(...(e=n.props.args)!=null?e:[]),n.object.__r3f=n,tne(r,n.object),Ru(n.object,n.props),n.props.attach?wM(a,n):ls(n.object)&&ls(a.object)&&a.object.add(n.object);for(const l of n.children)l.props.attach?wM(n,l):ls(l.object)&&ls(n.object)&&n.object.add(l.object);ev(n)}}v1.length=0}const kT=()=>{},IU={};let VS=I8;const ine=0,rne=4,AM=Yte({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Jte,removeChild:lP,appendChild:BT,appendInitialChild:BT,insertBefore:DU,appendChildToContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||BT(n,e)},removeChildFromContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||lP(n,e)},insertInContainerBefore(t,e,n){const i=t.getState().scene.__r3f;!e||!n||!i||DU(i,e,n)},getRootHostContext:()=>IU,getChildHostContext:()=>IU,commitUpdate(t,e,n,i,r){var a,s,l;L8(e,i);let c=!1;if((t.type==="primitive"&&n.object!==i.object||((a=i.args)==null?void 0:a.length)!==((s=n.args)==null?void 0:s.length)||(l=i.args)!=null&&l.some((p,g)=>{var v;return p!==((v=n.args)==null?void 0:v[g])}))&&(c=!0),c)v1.push([t,{...i},r]);else{const p=Dte(t,i);Object.keys(p).length&&(Object.assign(t.props,p),Ru(t.object,p))}(r.sibling===null||(r.flags&rne)===ine)&&nne()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:t=>t==null?void 0:t.object,prepareForCommit:()=>null,preparePortalMount:t=>MM(t.getState().scene,t,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:ene,unhideInstance:U8,createTextInstance:kT,hideTextInstance:kT,unhideTextInstance:kT,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:U.createContext(null),setCurrentUpdatePriority(t){VS=t},getCurrentUpdatePriority(){return VS},resolveUpdatePriority(){var t;if(VS!==I8)return VS;switch(typeof window<"u"&&((t=window.event)==null?void 0:t.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Hte;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Fte;default:return Vte}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:jte.version,applyViewTransitionName(t,e,n){},restoreViewTransitionName(t,e){},cancelViewTransitionName(t,e,n){},cancelRootViewTransitionName(t){},restoreRootViewTransitionName(t){},InstanceMeasurement:null,measureInstance:t=>null,wasInstanceInViewport:t=>!0,hasInstanceChanged:(t,e)=>!1,hasInstanceAffectedParent:(t,e)=>!1,suspendOnActiveViewTransition(t,e){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(t){},createViewTransitionInstance:t=>null,getCurrentGestureOffset(t){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(t,e){return t},cloneMutableTextInstance(t){return t},cloneRootViewTransitionContainer(t){throw new Error("Not implemented.")},removeRootViewTransitionClone(t,e){throw new Error("Not implemented.")},createFragmentInstance:t=>null,updateFragmentInstanceFiber(t,e){},commitNewChildToFragmentInstance(t,e){},deleteChildFromFragmentInstance(t,e){},measureClonedInstance:t=>null,maySuspendCommitOnUpdate:(t,e,n)=>!1,maySuspendCommitInSyncRender:(t,e)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(t,e)=>null}),cp=new Map,eg={objects:"shallow",strict:!1};function ane(t,e){if(!e&&typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:i,top:r,left:a}=t.parentElement.getBoundingClientRect();return{width:n,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function sne(t){const e=cp.get(t),n=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||zte(fP,LU),s=n||AM.createContainer(a,kte,null,!1,null,"",r,r,r,null);e||cp.set(t,{fiber:s,store:a});let l,c,h=!1,p=null;return{async configure(g={}){let v;p=new Promise(Y=>v=Y);let{gl:x,size:_,scene:w,events:S,onCreated:M,shadows:T=!1,linear:R=!1,flat:P=!1,legacy:L=!1,orthographic:I=!1,frameloop:B="always",dpr:D=[1,2],performance:z,raycaster:W,camera:j,onPointerMissed:G}=g,J=a.getState(),te=J.gl;if(!J.gl){const Y={canvas:t,powerPreference:"high-performance",antialias:!0,alpha:!0},re=typeof x=="function"?await x(Y):x;AU(re)?te=re:te=new A3({...Y,...x}),J.set({gl:te})}let ie=J.raycaster;ie||J.set({raycaster:ie=new w3});const{params:q,...K}=W||{};if(qi.equ(K,ie,eg)||Ru(ie,{...K}),qi.equ(q,ie.params,eg)||Ru(ie,{params:{...ie.params,...q}}),!J.camera||J.camera===c&&!qi.equ(c,j,eg)){c=j;const Y=j==null?void 0:j.isCamera,re=Y?j:I?new _p(0,0,0,0,.1,1e3):new ra(75,0,.1,1e3);Y||(re.position.z=5,j&&(Ru(re,j),re.manual||("aspect"in j||"left"in j||"right"in j||"bottom"in j||"top"in j)&&(re.manual=!0,re.updateProjectionMatrix())),!J.camera&&!(j!=null&&j.rotation)&&re.lookAt(0,0,0)),J.set({camera:re}),ie.camera=re}if(!J.scene){let Y;w!=null&&w.isScene?(Y=w,MM(Y,a,"",{})):(Y=new Nx,MM(Y,a,"",{}),w&&Ru(Y,w)),J.set({scene:Y})}S&&!J.events.handlers&&J.set({events:S(a)});const pe=ane(t,_);if(qi.equ(pe,J.size,eg)||J.setSize(pe.width,pe.height,pe.top,pe.left),D&&J.viewport.dpr!==C8(D)&&J.setDpr(D),J.frameloop!==B&&J.setFrameloop(B),J.onPointerMissed||J.set({onPointerMissed:G}),z&&!qi.equ(z,J.performance,eg)&&J.set(Y=>({performance:{...Y.performance,...z}})),!J.xr){var de;const Y=(ke,mt)=>{const me=a.getState();me.frameloop!=="never"&&LU(ke,!0,me,mt)},re=()=>{const ke=a.getState();ke.gl.xr.enabled=ke.gl.xr.isPresenting,ke.gl.xr.setAnimationLoop(ke.gl.xr.isPresenting?Y:null),ke.gl.xr.isPresenting||fP(ke)},Me={connect(){const ke=a.getState().gl;ke.xr.addEventListener("sessionstart",re),ke.xr.addEventListener("sessionend",re)},disconnect(){const ke=a.getState().gl;ke.xr.removeEventListener("sessionstart",re),ke.xr.removeEventListener("sessionend",re)}};typeof((de=te.xr)==null?void 0:de.addEventListener)=="function"&&Me.connect(),J.set({xr:Me})}if(te.shadowMap){const Y=te.shadowMap.enabled,re=te.shadowMap.type;if(te.shadowMap.enabled=!!T,qi.boo(T))te.shadowMap.type=Ty;else if(qi.str(T)){var _e;const Me={basic:TV,percentage:bg,soft:Ty,variance:Bd};te.shadowMap.type=(_e=Me[T])!=null?_e:Ty}else qi.obj(T)&&Object.assign(te.shadowMap,T);(Y!==te.shadowMap.enabled||re!==te.shadowMap.type)&&(te.shadowMap.needsUpdate=!0)}return Hn.enabled=!L,h||(te.outputColorSpace=R?kl:Ta,te.toneMapping=P?$o:Rw),J.legacy!==L&&J.set(()=>({legacy:L})),J.linear!==R&&J.set(()=>({linear:R})),J.flat!==P&&J.set(()=>({flat:P})),x&&!qi.fun(x)&&!AU(x)&&!qi.equ(x,te,eg)&&Ru(te,x),l=M,h=!0,v(),this},render(g){return!h&&!p&&this.configure(),p.then(()=>{AM.updateContainer(ye.jsx(one,{store:a,children:g,onCreated:l,rootElement:t}),s,null,()=>{})}),a},unmount(){B8(t)}}}function one({store:t,children:e,onCreated:n,rootElement:i}){return Hx(()=>{const r=t.getState();r.set(a=>({internal:{...a.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),ye.jsx(lx.Provider,{value:t,children:e})}function B8(t,e){const n=cp.get(t),i=n==null?void 0:n.fiber;if(i){const r=n==null?void 0:n.store.getState();r&&(r.internal.active=!1),AM.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,s,l,c;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(c=r.gl)!=null&&c.xr&&r.xr.disconnect(),Rte(r.scene),cp.delete(t)}catch{}},500)})}}function lne(t,e,n){return ye.jsx(une,{children:t,container:e,state:n})}function une({state:t={},children:e,container:n}){const{events:i,size:r,...a}=t,s=P3(),[l]=U.useState(()=>new w3),[c]=U.useState(()=>new Qe),h=R3((g,v)=>{let x;if(v.camera&&r){const _=v.camera;x=g.viewport.getCurrentViewport(_,new ee,r),_!==g.camera&&P8(_,r)}return{...g,...v,scene:n,raycaster:l,pointer:c,mouse:c,previousRoot:s,events:{...g.events,...v.events,...i},size:{...g.size,...r},viewport:{...g.viewport,...x},setEvents:_=>v.set(w=>({...w,events:{...w.events,..._}}))}}),p=U.useMemo(()=>{const g=b8((x,_)=>({...a,set:x,get:_})),v=x=>g.setState(_=>h.current(x,_));return v(s.getState()),s.subscribe(v),g},[s,n]);return ye.jsx(ye.Fragment,{children:AM.createPortal(ye.jsx(lx.Provider,{value:p,children:e}),p,null)})}const cne=new Set,fne=new Set,hne=new Set;function FT(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function zy(t,e){switch(t){case"before":return FT(cne,e);case"after":return FT(fne,e);case"tail":return FT(hne,e)}}let VT,HT;function uP(t,e,n){let i=e.clock.getDelta();e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),VT=e.internal.subscribers;for(let r=0;r<VT.length;r++)HT=VT[r],HT.ref.current(HT.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let TM=!1,cP=!1,jT,NU,tg;function k8(t){NU=requestAnimationFrame(k8),TM=!0,jT=0,zy("before",t),cP=!0;for(const n of cp.values()){var e;tg=n.store.getState(),tg.internal.active&&(tg.frameloop==="always"||tg.internal.frames>0)&&!((e=tg.gl.xr)!=null&&e.isPresenting)&&(jT+=uP(t,tg))}if(cP=!1,zy("after",t),jT===0)return zy("tail",t),TM=!1,cancelAnimationFrame(NU)}function fP(t,e=1){var n;if(!t)return cp.forEach(i=>fP(i.store.getState(),e));(n=t.gl.xr)!=null&&n.isPresenting||!t.internal.active||t.frameloop==="never"||(e>1?t.internal.frames=Math.min(60,t.internal.frames+e):cP?t.internal.frames=2:t.internal.frames=1,TM||(TM=!0,requestAnimationFrame(k8)))}function LU(t,e=!0,n,i){if(e&&zy("before",t),n)uP(t,n,i);else for(const r of cp.values())uP(t,r.store.getState());e&&zy("after",t)}const GT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function dne(t){const{handlePointer:e}=Ute(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(GT).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{const{set:i,events:r}=t.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:n}})),r.handlers)for(const a in r.handlers){const s=r.handlers[a],[l,c]=GT[a];n.addEventListener(l,s,{passive:c})}},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[s]=GT[r];i.connected.removeEventListener(s,a)}n(r=>({events:{...r.events,connected:void 0}}))}}}}function UU(t,e){let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...i),e)}}function pne({debounce:t,scroll:e,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=U.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=U.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),c=t?typeof t=="number"?t:t.scroll:null,h=t?typeof t=="number"?t:t.resize:null,p=U.useRef(!1);U.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[g,v,x]=U.useMemo(()=>{const M=()=>{if(!l.current.element)return;const{left:T,top:R,width:P,height:L,bottom:I,right:B,x:D,y:z}=l.current.element.getBoundingClientRect(),W={left:T,top:R,width:P,height:L,bottom:I,right:B,x:D,y:z};l.current.element instanceof HTMLElement&&i&&(W.height=l.current.element.offsetHeight,W.width=l.current.element.offsetWidth),Object.freeze(W),p.current&&!yne(l.current.lastBounds,W)&&s(l.current.lastBounds=W)};return[M,h?UU(M,h):M,c?UU(M,c):M]},[s,i,c,h]);function _(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",x,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function w(){l.current.element&&(l.current.resizeObserver=new r(x),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(M=>M.addEventListener("scroll",x,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{x()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const S=M=>{!M||M===l.current.element||(_(),l.current.element=M,l.current.scrollContainers=F8(M),w())};return gne(x,!!e),mne(v),U.useEffect(()=>{_(),w()},[e,x,v]),U.useEffect(()=>_,[]),[S,a,g]}function mne(t){U.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function gne(t,e){U.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function F8(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...F8(t.parentElement)]}const vne=["x","y","top","bottom","left","right","width","height"],yne=(t,e)=>vne.every(n=>t[n]===e[n]);function xne({ref:t,children:e,fallback:n,resize:i,style:r,gl:a,events:s=dne,eventSource:l,eventPrefix:c,shadows:h,linear:p,flat:g,legacy:v,orthographic:x,frameloop:_,dpr:w,performance:S,raycaster:M,camera:T,scene:R,onPointerMissed:P,onCreated:L,...I}){U.useMemo(()=>N8(rte),[]);const B=Ete(),[D,z]=pne({scroll:!0,debounce:{scroll:50,resize:0},...i}),W=U.useRef(null),j=U.useRef(null);U.useImperativeHandle(t,()=>W.current);const G=R3(P),[J,te]=U.useState(!1),[ie,q]=U.useState(!1);if(J)throw J;if(ie)throw ie;const K=U.useRef(null);Hx(()=>{const de=W.current;if(z.width>0&&z.height>0&&de){K.current||(K.current=sne(de));async function _e(){await K.current.configure({gl:a,scene:R,events:s,shadows:h,linear:p,flat:g,legacy:v,orthographic:x,frameloop:_,dpr:w,performance:S,raycaster:M,camera:T,size:z,onPointerMissed:(...Y)=>G.current==null?void 0:G.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(l?Mte(l)?l.current:l:j.current),c&&Y.setEvents({compute:(re,Me)=>{const ke=re[c+"X"],mt=re[c+"Y"];Me.pointer.set(ke/Me.size.width*2-1,-(mt/Me.size.height)*2+1),Me.raycaster.setFromCamera(Me.pointer,Me.camera)}}),L==null||L(Y)}}),K.current.render(ye.jsx(B,{children:ye.jsx(Tte,{set:q,children:ye.jsx(U.Suspense,{fallback:ye.jsx(Ate,{set:te}),children:e??null})})}))}_e()}}),U.useEffect(()=>{const de=W.current;if(de)return()=>B8(de)},[]);const pe=l?"none":"auto";return ye.jsx("div",{ref:j,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:pe,...r},...I,children:ye.jsx("div",{ref:D,style:{width:"100%",height:"100%"},children:ye.jsx("canvas",{ref:W,style:{display:"block"},children:n})})})}function bne(t){return ye.jsx(w8,{children:ye.jsx(xne,{...t})})}function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fl.apply(null,arguments)}function By(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _ne(t,e){if(t){if(typeof t=="string")return hP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hP(t,e)}}function Sne(t){if(Array.isArray(t))return hP(t)}function Mne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ene(t){return Sne(t)||Mne(t)||_ne(t)||wne()}new Qe;new Qe;function Ane(t,e,n){return Math.max(e,Math.min(n,t))}function Tne(t,e){return Ane(t-Math.floor(t/e)*e,0,e)}function Cne(t,e){var n=Tne(e-t,Math.PI*2);return n>Math.PI&&(n-=Math.PI*2),n}function V8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Vo=function t(e,n,i){var r=this;V8(this,t),By(this,"dot2",function(a,s){return r.x*a+r.y*s}),By(this,"dot3",function(a,s,l){return r.x*a+r.y*s+r.z*l}),this.x=e,this.y=n,this.z=i},Rne=[new Vo(1,1,0),new Vo(-1,1,0),new Vo(1,-1,0),new Vo(-1,-1,0),new Vo(1,0,1),new Vo(-1,0,1),new Vo(1,0,-1),new Vo(-1,0,-1),new Vo(0,1,1),new Vo(0,-1,1),new Vo(0,1,-1),new Vo(0,-1,-1)],zU=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],BU=new Array(512),kU=new Array(512),Pne=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var i;n&1?i=zU[n]^e&255:i=zU[n]^e>>8&255,BU[n]=BU[n+256]=i,kU[n]=kU[n+256]=Rne[i%12]}};Pne(0);function One(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function FU(t){var e=One(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var Dne=function t(e){var n=this;V8(this,t),By(this,"seed",0),By(this,"init",function(i){n.seed=i,n.value=FU(i)}),By(this,"value",FU(this.seed)),this.init(e)};new Dne(Math.random());var Ine=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return i/Math.atan(1/n)*Math.atan(Math.sin(2*Math.PI*e*r)/n)},H8=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},Nne=function(e){return e},Lne={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},Une={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},zne={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},Bne={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},kne={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},Fne={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function jr(t,e,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:H8,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,c="velocity_"+e;if(t.__damp===void 0&&(t.__damp={}),t.__damp[c]===void 0&&(t.__damp[c]=0),Math.abs(t[e]-n)<=l)return t[e]=n,!1;i=Math.max(1e-4,i);var h=2/i,p=s(h*r),g=t[e]-n,v=n,x=a*i;g=Math.min(Math.max(g,-x),x),n=t[e]-g;var _=(t.__damp[c]+h*g)*r;t.__damp[c]=(t.__damp[c]-h*_)*p;var w=n+(g+_)*p;return v-t[e]>0==w>v&&(w=v,t.__damp[c]=(w-v)/r),t[e]=w,!0}var Vne=function(e){return e&&e.isCamera},Hne=function(e){return e&&e.isLight},ey=new ee,VU=new Mr,HU=new Mr,ty=new on,WT=new ee;function jne(t,e,n,i,r,a,s){typeof e=="number"?ey.setScalar(e):Array.isArray(e)?ey.set(e[0],e[1],e[2]):ey.copy(e);var l=t.parent;t.updateWorldMatrix(!0,!1),WT.setFromMatrixPosition(t.matrixWorld),Vne(t)||Hne(t)?ty.lookAt(WT,ey,t.up):ty.lookAt(ey,WT,t.up),CM(t.quaternion,HU.setFromRotationMatrix(ty),n,i,r,a,s),l&&(ty.extractRotation(l.matrixWorld),VU.setFromRotationMatrix(ty),CM(t.quaternion,HU.copy(t.quaternion).premultiply(VU.invert()),n,i,r,a,s))}function Mg(t,e,n,i,r,a,s,l){return jr(t,e,t[e]+Cne(t[e],n),i,r,a,s,l)}var ny=new Qe,jU,GU;function Gne(t,e,n,i,r,a,s){return typeof e=="number"?ny.setScalar(e):Array.isArray(e)?ny.set(e[0],e[1]):ny.copy(e),jU=jr(t,"x",ny.x,n,i,r,a,s),GU=jr(t,"y",ny.y,n,i,r,a,s),jU||GU}var ng=new ee,WU,qU,XU;function dP(t,e,n,i,r,a,s){return typeof e=="number"?ng.setScalar(e):Array.isArray(e)?ng.set(e[0],e[1],e[2]):ng.copy(e),WU=jr(t,"x",ng.x,n,i,r,a,s),qU=jr(t,"y",ng.y,n,i,r,a,s),XU=jr(t,"z",ng.z,n,i,r,a,s),WU||qU||XU}var Cd=new ii,$U,YU,ZU,KU;function Wne(t,e,n,i,r,a,s){return typeof e=="number"?Cd.setScalar(e):Array.isArray(e)?Cd.set(e[0],e[1],e[2],e[3]):Cd.copy(e),$U=jr(t,"x",Cd.x,n,i,r,a,s),YU=jr(t,"y",Cd.y,n,i,r,a,s),ZU=jr(t,"z",Cd.z,n,i,r,a,s),KU=jr(t,"w",Cd.w,n,i,r,a,s),$U||YU||ZU||KU}var iy=new Gs,QU,JU,ez;function qne(t,e,n,i,r,a,s){return Array.isArray(e)?iy.set(e[0],e[1],e[2],e[3]):iy.copy(e),QU=Mg(t,"x",iy.x,n,i,r,a,s),JU=Mg(t,"y",iy.y,n,i,r,a,s),ez=Mg(t,"z",iy.z,n,i,r,a,s),QU||JU||ez}var ig=new Ut,tz,nz,iz;function Xne(t,e,n,i,r,a,s){return e instanceof Ut?ig.copy(e):Array.isArray(e)?ig.setRGB(e[0],e[1],e[2]):ig.set(e),tz=jr(t,"r",ig.r,n,i,r,a,s),nz=jr(t,"g",ig.g,n,i,r,a,s),iz=jr(t,"b",ig.b,n,i,r,a,s),tz||nz||iz}var wl=new Mr,Ac=new ii,rz=new ii,ry=new ii,az,sz,oz,lz;function CM(t,e,n,i,r,a,s){var l=t;Array.isArray(e)?wl.set(e[0],e[1],e[2],e[3]):wl.copy(e);var c=t.dot(wl)>0?1:-1;return wl.x*=c,wl.y*=c,wl.z*=c,wl.w*=c,az=jr(t,"x",wl.x,n,i,r,a,s),sz=jr(t,"y",wl.y,n,i,r,a,s),oz=jr(t,"z",wl.z,n,i,r,a,s),lz=jr(t,"w",wl.w,n,i,r,a,s),Ac.set(t.x,t.y,t.z,t.w).normalize(),rz.set(l.__damp.velocity_x,l.__damp.velocity_y,l.__damp.velocity_z,l.__damp.velocity_w),ry.copy(Ac).multiplyScalar(rz.dot(Ac)/Ac.dot(Ac)),l.__damp.velocity_x-=ry.x,l.__damp.velocity_y-=ry.y,l.__damp.velocity_z-=ry.z,l.__damp.velocity_w-=ry.w,t.set(Ac.x,Ac.y,Ac.z,Ac.w),az||sz||oz||lz}var ay=new f8,uz,cz,fz;function $ne(t,e,n,i,r,a,s){return Array.isArray(e)?ay.set(e[0],e[1],e[2]):ay.copy(e),uz=jr(t,"radius",ay.radius,n,i,r,a,s),cz=Mg(t,"phi",ay.phi,n,i,r,a,s),fz=Mg(t,"theta",ay.theta,n,i,r,a,s),uz||cz||fz}var HS=new on,hz=new ee,dz=new Mr,pz=new ee,mz,gz,vz;function Yne(t,e,n,i,r,a,s){var l=t;return l.__damp===void 0&&(l.__damp={position:new ee,rotation:new Mr,scale:new ee},t.decompose(l.__damp.position,l.__damp.rotation,l.__damp.scale)),Array.isArray(e)?HS.set.apply(HS,Ene(e)):HS.copy(e),HS.decompose(hz,dz,pz),mz=dP(l.__damp.position,hz,n,i,r,a,s),gz=CM(l.__damp.rotation,dz,n,i,r,a,s),vz=dP(l.__damp.scale,pz,n,i,r,a,s),t.compose(l.__damp.position,l.__damp.rotation,l.__damp.scale),mz||gz||vz}var yz=Object.freeze({__proto__:null,rsqw:Ine,exp:H8,linear:Nne,sine:Lne,cubic:Une,quint:zne,circ:Bne,quart:kne,expo:Fne,damp:jr,dampLookAt:jne,dampAngle:Mg,damp2:Gne,damp3:dP,damp4:Wne,dampE:qne,dampC:Xne,dampQ:CM,dampS:$ne,dampM:Yne});const D3=U.createContext(null);function dE(){return U.useContext(D3)}function Zne({eps:t=1e-5,enabled:e=!0,infinite:n,horizontal:i,pages:r=1,distance:a=1,damping:s=.25,maxSpeed:l=1/0,prepend:c=!1,style:h={},children:p}){const{get:g,setEvents:v,gl:x,size:_,invalidate:w,events:S}=lo(),[M]=U.useState(()=>document.createElement("div")),[T]=U.useState(()=>document.createElement("div")),[R]=U.useState(()=>document.createElement("div")),P=x.domElement.parentNode,L=U.useRef(0),I=U.useMemo(()=>({el:M,eps:t,fill:T,fixed:R,horizontal:i,damping:s,offset:0,delta:0,scroll:L,pages:r,range(z,W,j=0){const G=z-j,J=G+W+j*2;return this.offset<G?0:this.offset>J?1:(this.offset-G)/(J-G)},curve(z,W,j=0){return Math.sin(this.range(z,W,j)*Math.PI)},visible(z,W,j=0){const G=z-j,J=G+W+j*2;return this.offset>=G&&this.offset<=J}}),[t,s,i,r]);U.useEffect(()=>{M.style.position="absolute",M.style.width="100%",M.style.height="100%",M.style[i?"overflowX":"overflowY"]="auto",M.style[i?"overflowY":"overflowX"]="hidden",M.style.top="0px",M.style.left="0px";for(const W in h)M.style[W]=h[W];R.style.position="sticky",R.style.top="0px",R.style.left="0px",R.style.width="100%",R.style.height="100%",R.style.overflow="hidden",M.appendChild(R),T.style.height=i?"100%":`${r*a*100}%`,T.style.width=i?`${r*a*100}%`:"100%",T.style.pointerEvents="none",M.appendChild(T),c?P.prepend(M):P.appendChild(M),M[i?"scrollLeft":"scrollTop"]=1;const D=S.connected||x.domElement;requestAnimationFrame(()=>S.connect==null?void 0:S.connect(M));const z=g().events.compute;return v({compute(W,j){const{left:G,top:J}=P.getBoundingClientRect(),te=W.clientX-G,ie=W.clientY-J;j.pointer.set(te/j.size.width*2-1,-(ie/j.size.height)*2+1),j.raycaster.setFromCamera(j.pointer,j.camera)}}),()=>{P.removeChild(M),v({compute:z}),S.connect==null||S.connect(D)}},[r,a,i,M,T,R,P]),U.useEffect(()=>{if(S.connected===M){const D=_[i?"width":"height"],z=M[i?"scrollWidth":"scrollHeight"],W=z-D;let j=0,G=!0,J=!0;const te=()=>{if(!(!e||J)&&(w(),j=M[i?"scrollLeft":"scrollTop"],L.current=j/W,n)){if(!G){if(j>=W){const q=1-I.offset;M[i?"scrollLeft":"scrollTop"]=1,L.current=I.offset=-q,G=!0}else if(j<=0){const q=1+I.offset;M[i?"scrollLeft":"scrollTop"]=z,L.current=I.offset=q,G=!0}}G&&setTimeout(()=>G=!1,40)}};M.addEventListener("scroll",te,{passive:!0}),requestAnimationFrame(()=>J=!1);const ie=q=>M.scrollLeft+=q.deltaY/2;return i&&M.addEventListener("wheel",ie,{passive:!0}),()=>{M.removeEventListener("scroll",te),i&&M.removeEventListener("wheel",ie)}}},[M,S,_,n,I,w,i,e]);let B=0;return qc((D,z)=>{B=I.offset,yz.damp(I,"offset",L.current,s,z,l,void 0,t),yz.damp(I,"delta",Math.abs(B-I.offset),s,z,l,void 0,t),I.delta>t&&w()}),U.createElement(D3.Provider,{value:I},p)}const Kne=U.forwardRef(({children:t},e)=>{const n=U.useRef(null);U.useImperativeHandle(e,()=>n.current,[]);const i=dE(),{width:r,height:a}=lo(s=>s.viewport);return qc(()=>{n.current.position.x=i.horizontal?-r*(i.pages-1)*i.offset:0,n.current.position.y=i.horizontal?0:a*(i.pages-1)*i.offset}),U.createElement("group",{ref:n},t)}),Qne=U.forwardRef(({children:t,style:e,...n},i)=>{const r=dE(),a=U.useRef(null);U.useImperativeHandle(i,()=>a.current,[]);const{width:s,height:l}=lo(p=>p.size),c=U.useContext(lx),h=U.useMemo(()=>wV.createRoot(r.fixed),[r.fixed]);return qc(()=>{r.delta>r.eps&&(a.current.style.transform=`translate3d(${r.horizontal?-s*(r.pages-1)*r.offset:0}px,${r.horizontal?0:l*(r.pages-1)*-r.offset}px,0)`)}),h.render(U.createElement("div",Fl({ref:a,style:{...e,position:"absolute",top:0,left:0,willChange:"transform"}},n),U.createElement(D3.Provider,{value:r},U.createElement(lx.Provider,{value:c},t)))),null}),Jne=U.forwardRef(({html:t,...e},n)=>{const i=t?Qne:Kne;return U.createElement(i,Fl({ref:n},e))}),j8=parseInt($g.replace(/\D+/g,""));var Wo=Uint8Array,lh=Uint16Array,pP=Uint32Array,G8=new Wo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),W8=new Wo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),eie=new Wo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),q8=function(t,e){for(var n=new lh(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var r=new pP(n[30]),i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)r[a]=a-n[i]<<5|i;return[n,r]},X8=q8(G8,2),$8=X8[0],tie=X8[1];$8[28]=258,tie[258]=28;var nie=q8(W8,0),iie=nie[0],mP=new lh(32768);for(var zi=0;zi<32768;++zi){var Kf=(zi&43690)>>>1|(zi&21845)<<1;Kf=(Kf&52428)>>>2|(Kf&13107)<<2,Kf=(Kf&61680)>>>4|(Kf&3855)<<4,mP[zi]=((Kf&65280)>>>8|(Kf&255)<<8)>>>1}var ky=(function(t,e,n){for(var i=t.length,r=0,a=new lh(e);r<i;++r)++a[t[r]-1];var s=new lh(e);for(r=0;r<e;++r)s[r]=s[r-1]+a[r-1]<<1;var l;if(n){l=new lh(1<<e);var c=15-e;for(r=0;r<i;++r)if(t[r])for(var h=r<<4|t[r],p=e-t[r],g=s[t[r]-1]++<<p,v=g|(1<<p)-1;g<=v;++g)l[mP[g]>>>c]=h}else for(l=new lh(i),r=0;r<i;++r)t[r]&&(l[r]=mP[s[t[r]-1]++]>>>15-t[r]);return l}),jx=new Wo(288);for(var zi=0;zi<144;++zi)jx[zi]=8;for(var zi=144;zi<256;++zi)jx[zi]=9;for(var zi=256;zi<280;++zi)jx[zi]=7;for(var zi=280;zi<288;++zi)jx[zi]=8;var Y8=new Wo(32);for(var zi=0;zi<32;++zi)Y8[zi]=5;var rie=ky(jx,9,1),aie=ky(Y8,5,1),qT=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},El=function(t,e,n){var i=e/8|0;return(t[i]|t[i+1]<<8)>>(e&7)&n},XT=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},sie=function(t){return(t/8|0)+(t&7&&1)},oie=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var i=new(t instanceof lh?lh:t instanceof pP?pP:Wo)(n-e);return i.set(t.subarray(e,n)),i},lie=function(t,e,n){var i=t.length;if(!i||n&&!n.l&&i<5)return e||new Wo(0);var r=!e||n,a=!n||n.i;n||(n={}),e||(e=new Wo(i*3));var s=function(me){var De=e.length;if(me>De){var Ye=new Wo(Math.max(De*2,me));Ye.set(e),e=Ye}},l=n.f||0,c=n.p||0,h=n.b||0,p=n.l,g=n.d,v=n.m,x=n.n,_=i*8;do{if(!p){n.f=l=El(t,c,1);var w=El(t,c+1,3);if(c+=3,w)if(w==1)p=rie,g=aie,v=9,x=5;else if(w==2){var R=El(t,c,31)+257,P=El(t,c+10,15)+4,L=R+El(t,c+5,31)+1;c+=14;for(var I=new Wo(L),B=new Wo(19),D=0;D<P;++D)B[eie[D]]=El(t,c+D*3,7);c+=P*3;for(var z=qT(B),W=(1<<z)-1,j=ky(B,z,1),D=0;D<L;){var G=j[El(t,c,W)];c+=G&15;var S=G>>>4;if(S<16)I[D++]=S;else{var J=0,te=0;for(S==16?(te=3+El(t,c,3),c+=2,J=I[D-1]):S==17?(te=3+El(t,c,7),c+=3):S==18&&(te=11+El(t,c,127),c+=7);te--;)I[D++]=J}}var ie=I.subarray(0,R),q=I.subarray(R);v=qT(ie),x=qT(q),p=ky(ie,v,1),g=ky(q,x,1)}else throw"invalid block type";else{var S=sie(c)+4,M=t[S-4]|t[S-3]<<8,T=S+M;if(T>i){if(a)throw"unexpected EOF";break}r&&s(h+M),e.set(t.subarray(S,T),h),n.b=h+=M,n.p=c=T*8;continue}if(c>_){if(a)throw"unexpected EOF";break}}r&&s(h+131072);for(var K=(1<<v)-1,pe=(1<<x)-1,de=c;;de=c){var J=p[XT(t,c)&K],_e=J>>>4;if(c+=J&15,c>_){if(a)throw"unexpected EOF";break}if(!J)throw"invalid length/literal";if(_e<256)e[h++]=_e;else if(_e==256){de=c,p=null;break}else{var Y=_e-254;if(_e>264){var D=_e-257,re=G8[D];Y=El(t,c,(1<<re)-1)+$8[D],c+=re}var Me=g[XT(t,c)&pe],ke=Me>>>4;if(!Me)throw"invalid distance";c+=Me&15;var q=iie[ke];if(ke>3){var re=W8[ke];q+=XT(t,c)&(1<<re)-1,c+=re}if(c>_){if(a)throw"unexpected EOF";break}r&&s(h+131072);for(var mt=h+Y;h<mt;h+=4)e[h]=e[h-q],e[h+1]=e[h+1-q],e[h+2]=e[h+2-q],e[h+3]=e[h+3-q];h=mt}}n.l=p,n.p=de,n.b=h,p&&(l=1,n.m=v,n.d=g,n.n=x)}while(!l);return h==e.length?e:oie(e,0,h)},uie=new Wo(0),cie=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function jS(t,e){return lie((cie(t),t.subarray(2,-4)),e)}var fie=typeof TextDecoder<"u"&&new TextDecoder,hie=0;try{fie.decode(uie,{stream:!0}),hie=1}catch{}const die=t=>t&&t.isCubeTexture;class pie extends ar{constructor(e,n){var i,r;const a=die(e),l=((r=a?(i=e.image[0])==null?void 0:i.width:e.image.width)!=null?r:1024)/4,c=Math.floor(Math.log2(l)),h=Math.pow(2,c),p=3*Math.max(h,112),g=4*h,v=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/p}`,`#define CUBEUV_TEXEL_HEIGHT ${1/g}`,`#define CUBEUV_MAX_MIP ${c}.0`],x=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,_=v.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${j8>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,w={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},S=new Bx(1,16),M=new ms({uniforms:w,fragmentShader:_,vertexShader:x,side:Rl});super(S,M)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class mie extends v3{constructor(e){super(e),this.type=rr}parse(e){const s=function(D,z){switch(D){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(z||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(z||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(z||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(z||""))}},g=function(D,z,W){z=z||1024;let G=D.pos,J=-1,te=0,ie="",q=String.fromCharCode.apply(null,new Uint16Array(D.subarray(G,G+128)));for(;0>(J=q.indexOf(`
`))&&te<z&&G<D.byteLength;)ie+=q,te+=q.length,G+=128,q+=String.fromCharCode.apply(null,new Uint16Array(D.subarray(G,G+128)));return-1<J?(D.pos+=te+J+1,ie+q.slice(0,J)):!1},v=function(D){const z=/^#\?(\S+)/,W=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,j=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,G=/^\s*FORMAT=(\S+)\s*$/,J=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,te={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ie,q;for((D.pos>=D.byteLength||!(ie=g(D)))&&s(1,"no header found"),(q=ie.match(z))||s(3,"bad initial token"),te.valid|=1,te.programtype=q[1],te.string+=ie+`
`;ie=g(D),ie!==!1;){if(te.string+=ie+`
`,ie.charAt(0)==="#"){te.comments+=ie+`
`;continue}if((q=ie.match(W))&&(te.gamma=parseFloat(q[1])),(q=ie.match(j))&&(te.exposure=parseFloat(q[1])),(q=ie.match(G))&&(te.valid|=2,te.format=q[1]),(q=ie.match(J))&&(te.valid|=4,te.height=parseInt(q[1],10),te.width=parseInt(q[2],10)),te.valid&2&&te.valid&4)break}return te.valid&2||s(3,"missing format specifier"),te.valid&4||s(3,"missing image size specifier"),te},x=function(D,z,W){const j=z;if(j<8||j>32767||D[0]!==2||D[1]!==2||D[2]&128)return new Uint8Array(D);j!==(D[2]<<8|D[3])&&s(3,"wrong scanline width");const G=new Uint8Array(4*z*W);G.length||s(4,"unable to allocate buffer space");let J=0,te=0;const ie=4*j,q=new Uint8Array(4),K=new Uint8Array(ie);let pe=W;for(;pe>0&&te<D.byteLength;){te+4>D.byteLength&&s(1),q[0]=D[te++],q[1]=D[te++],q[2]=D[te++],q[3]=D[te++],(q[0]!=2||q[1]!=2||(q[2]<<8|q[3])!=j)&&s(3,"bad rgbe scanline format");let de=0,_e;for(;de<ie&&te<D.byteLength;){_e=D[te++];const re=_e>128;if(re&&(_e-=128),(_e===0||de+_e>ie)&&s(3,"bad scanline data"),re){const Me=D[te++];for(let ke=0;ke<_e;ke++)K[de++]=Me}else K.set(D.subarray(te,te+_e),de),de+=_e,te+=_e}const Y=j;for(let re=0;re<Y;re++){let Me=0;G[J]=K[re+Me],Me+=j,G[J+1]=K[re+Me],Me+=j,G[J+2]=K[re+Me],Me+=j,G[J+3]=K[re+Me],J+=4}pe--}return G},_=function(D,z,W,j){const G=D[z+3],J=Math.pow(2,G-128)/255;W[j+0]=D[z+0]*J,W[j+1]=D[z+1]*J,W[j+2]=D[z+2]*J,W[j+3]=1},w=function(D,z,W,j){const G=D[z+3],J=Math.pow(2,G-128)/255;W[j+0]=Vd.toHalfFloat(Math.min(D[z+0]*J,65504)),W[j+1]=Vd.toHalfFloat(Math.min(D[z+1]*J,65504)),W[j+2]=Vd.toHalfFloat(Math.min(D[z+2]*J,65504)),W[j+3]=Vd.toHalfFloat(1)},S=new Uint8Array(e);S.pos=0;const M=v(S),T=M.width,R=M.height,P=x(S.subarray(S.pos),T,R);let L,I,B;switch(this.type){case Bi:B=P.length/4;const D=new Float32Array(B*4);for(let W=0;W<B;W++)_(P,W*4,D,W*4);L=D,I=Bi;break;case rr:B=P.length/4;const z=new Uint16Array(B*4);for(let W=0;W<B;W++)w(P,W*4,z,W*4);L=z,I=rr;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:T,height:R,data:L,header:M.string,gamma:M.gamma,exposure:M.exposure,type:I}}setDataType(e){return this.type=e,this}load(e,n,i,r){function a(s,l){switch(s.type){case Bi:case rr:"colorSpace"in s?s.colorSpace="srgb-linear":s.encoding=3e3,s.minFilter=kn,s.magFilter=kn,s.generateMipmaps=!1,s.flipY=!0;break}n&&n(s,l)}return super.load(e,a,i,r)}}const sy=j8>=152;class gie extends v3{constructor(e){super(e),this.type=rr}parse(e){const z=Math.pow(2.7182818,2.2);function W(V,Z){for(var ae=0,we=0;we<65536;++we)(we==0||V[we>>3]&1<<(we&7))&&(Z[ae++]=we);for(var ze=ae-1;ae<65536;)Z[ae++]=0;return ze}function j(V){for(var Z=0;Z<16384;Z++)V[Z]={},V[Z].len=0,V[Z].lit=0,V[Z].p=null}const G={l:0,c:0,lc:0};function J(V,Z,ae,we,ze){for(;ae<V;)Z=Z<<8|Ot(we,ze),ae+=8;ae-=V,G.l=Z>>ae&(1<<V)-1,G.c=Z,G.lc=ae}const te=new Array(59);function ie(V){for(var Z=0;Z<=58;++Z)te[Z]=0;for(var Z=0;Z<65537;++Z)te[V[Z]]+=1;for(var ae=0,Z=58;Z>0;--Z){var we=ae+te[Z]>>1;te[Z]=ae,ae=we}for(var Z=0;Z<65537;++Z){var ze=V[Z];ze>0&&(V[Z]=ze|te[ze]++<<6)}}function q(V,Z,ae,we,ze,Ve,lt){for(var nt=ae,vt=0,gt=0;ze<=Ve;ze++){if(nt.value-ae.value>we)return!1;J(6,vt,gt,V,nt);var bt=G.l;if(vt=G.c,gt=G.lc,lt[ze]=bt,bt==63){if(nt.value-ae.value>we)throw"Something wrong with hufUnpackEncTable";J(8,vt,gt,V,nt);var H=G.l+6;if(vt=G.c,gt=G.lc,ze+H>Ve+1)throw"Something wrong with hufUnpackEncTable";for(;H--;)lt[ze++]=0;ze--}else if(bt>=59){var H=bt-59+2;if(ze+H>Ve+1)throw"Something wrong with hufUnpackEncTable";for(;H--;)lt[ze++]=0;ze--}}ie(lt)}function K(V){return V&63}function pe(V){return V>>6}function de(V,Z,ae,we){for(;Z<=ae;Z++){var ze=pe(V[Z]),Ve=K(V[Z]);if(ze>>Ve)throw"Invalid table entry";if(Ve>14){var lt=we[ze>>Ve-14];if(lt.len)throw"Invalid table entry";if(lt.lit++,lt.p){var nt=lt.p;lt.p=new Array(lt.lit);for(var vt=0;vt<lt.lit-1;++vt)lt.p[vt]=nt[vt]}else lt.p=new Array(1);lt.p[lt.lit-1]=Z}else if(Ve)for(var gt=0,vt=1<<14-Ve;vt>0;vt--){var lt=we[(ze<<14-Ve)+gt];if(lt.len||lt.p)throw"Invalid table entry";lt.len=Ve,lt.lit=Z,gt++}}return!0}const _e={c:0,lc:0};function Y(V,Z,ae,we){V=V<<8|Ot(ae,we),Z+=8,_e.c=V,_e.lc=Z}const re={c:0,lc:0};function Me(V,Z,ae,we,ze,Ve,lt,nt,vt,gt){if(V==Z){we<8&&(Y(ae,we,ze,lt),ae=_e.c,we=_e.lc),we-=8;var bt=ae>>we,bt=new Uint8Array([bt])[0];if(vt.value+bt>gt)return!1;for(var H=nt[vt.value-1];bt-- >0;)nt[vt.value++]=H}else if(vt.value<gt)nt[vt.value++]=V;else return!1;re.c=ae,re.lc=we}function ke(V){return V&65535}function mt(V){var Z=ke(V);return Z>32767?Z-65536:Z}const me={a:0,b:0};function De(V,Z){var ae=mt(V),we=mt(Z),ze=we,Ve=ae+(ze&1)+(ze>>1),lt=Ve,nt=Ve-ze;me.a=lt,me.b=nt}function Ye(V,Z){var ae=ke(V),we=ke(Z),ze=ae-(we>>1)&65535,Ve=we+ze-32768&65535;me.a=Ve,me.b=ze}function xe(V,Z,ae,we,ze,Ve,lt){for(var nt=lt<16384,vt=ae>ze?ze:ae,gt=1,bt;gt<=vt;)gt<<=1;for(gt>>=1,bt=gt,gt>>=1;gt>=1;){for(var H=0,oe=H+Ve*(ze-bt),ce=Ve*gt,ue=Ve*bt,fe=we*gt,Ge=we*bt,et,tt,rt,Tt;H<=oe;H+=ue){for(var Rt=H,Zt=H+we*(ae-bt);Rt<=Zt;Rt+=Ge){var pt=Rt+fe,Wt=Rt+ce,Nn=Wt+fe;nt?(De(V[Rt+Z],V[Wt+Z]),et=me.a,rt=me.b,De(V[pt+Z],V[Nn+Z]),tt=me.a,Tt=me.b,De(et,tt),V[Rt+Z]=me.a,V[pt+Z]=me.b,De(rt,Tt),V[Wt+Z]=me.a,V[Nn+Z]=me.b):(Ye(V[Rt+Z],V[Wt+Z]),et=me.a,rt=me.b,Ye(V[pt+Z],V[Nn+Z]),tt=me.a,Tt=me.b,Ye(et,tt),V[Rt+Z]=me.a,V[pt+Z]=me.b,Ye(rt,Tt),V[Wt+Z]=me.a,V[Nn+Z]=me.b)}if(ae&gt){var Wt=Rt+ce;nt?De(V[Rt+Z],V[Wt+Z]):Ye(V[Rt+Z],V[Wt+Z]),et=me.a,V[Wt+Z]=me.b,V[Rt+Z]=et}}if(ze&gt)for(var Rt=H,Zt=H+we*(ae-bt);Rt<=Zt;Rt+=Ge){var pt=Rt+fe;nt?De(V[Rt+Z],V[pt+Z]):Ye(V[Rt+Z],V[pt+Z]),et=me.a,V[pt+Z]=me.b,V[Rt+Z]=et}bt=gt,gt>>=1}return H}function ot(V,Z,ae,we,ze,Ve,lt,nt,vt,gt){for(var bt=0,H=0,oe=nt,ce=Math.trunc(ze.value+(Ve+7)/8);ze.value<ce;)for(Y(bt,H,ae,ze),bt=_e.c,H=_e.lc;H>=14;){var ue=bt>>H-14&16383,fe=Z[ue];if(fe.len)H-=fe.len,Me(fe.lit,lt,bt,H,ae,we,ze,vt,gt,oe),bt=re.c,H=re.lc;else{if(!fe.p)throw"hufDecode issues";var Ge;for(Ge=0;Ge<fe.lit;Ge++){for(var et=K(V[fe.p[Ge]]);H<et&&ze.value<ce;)Y(bt,H,ae,ze),bt=_e.c,H=_e.lc;if(H>=et&&pe(V[fe.p[Ge]])==(bt>>H-et&(1<<et)-1)){H-=et,Me(fe.p[Ge],lt,bt,H,ae,we,ze,vt,gt,oe),bt=re.c,H=re.lc;break}}if(Ge==fe.lit)throw"hufDecode issues"}}var tt=8-Ve&7;for(bt>>=tt,H-=tt;H>0;){var fe=Z[bt<<14-H&16383];if(fe.len)H-=fe.len,Me(fe.lit,lt,bt,H,ae,we,ze,vt,gt,oe),bt=re.c,H=re.lc;else throw"hufDecode issues"}return!0}function xt(V,Z,ae,we,ze,Ve){var lt={value:0},nt=ae.value,vt=Ze(Z,ae),gt=Ze(Z,ae);ae.value+=4;var bt=Ze(Z,ae);if(ae.value+=4,vt<0||vt>=65537||gt<0||gt>=65537)throw"Something wrong with HUF_ENCSIZE";var H=new Array(65537),oe=new Array(16384);j(oe);var ce=we-(ae.value-nt);if(q(V,Z,ae,ce,vt,gt,H),bt>8*(we-(ae.value-nt)))throw"Something wrong with hufUncompress";de(H,vt,gt,oe),ot(H,oe,V,Z,ae,bt,gt,Ve,ze,lt)}function je(V,Z,ae){for(var we=0;we<ae;++we)Z[we]=V[Z[we]]}function Nt(V){for(var Z=1;Z<V.length;Z++){var ae=V[Z-1]+V[Z]-128;V[Z]=ae}}function Pe(V,Z){for(var ae=0,we=Math.floor((V.length+1)/2),ze=0,Ve=V.length-1;!(ze>Ve||(Z[ze++]=V[ae++],ze>Ve));)Z[ze++]=V[we++]}function qe(V){for(var Z=V.byteLength,ae=new Array,we=0,ze=new DataView(V);Z>0;){var Ve=ze.getInt8(we++);if(Ve<0){var lt=-Ve;Z-=lt+1;for(var nt=0;nt<lt;nt++)ae.push(ze.getUint8(we++))}else{var lt=Ve;Z-=2;for(var vt=ze.getUint8(we++),nt=0;nt<lt+1;nt++)ae.push(vt)}}return ae}function He(V,Z,ae,we,ze,Ve){var pt=new DataView(Ve.buffer),lt=ae[V.idx[0]].width,nt=ae[V.idx[0]].height,vt=3,gt=Math.floor(lt/8),bt=Math.ceil(lt/8),H=Math.ceil(nt/8),oe=lt-(bt-1)*8,ce=nt-(H-1)*8,ue={value:0},fe=new Array(vt),Ge=new Array(vt),et=new Array(vt),tt=new Array(vt),rt=new Array(vt);for(let jt=0;jt<vt;++jt)rt[jt]=Z[V.idx[jt]],fe[jt]=jt<1?0:fe[jt-1]+bt*H,Ge[jt]=new Float32Array(64),et[jt]=new Uint16Array(64),tt[jt]=new Uint16Array(bt*64);for(let jt=0;jt<H;++jt){var Tt=8;jt==H-1&&(Tt=ce);var Rt=8;for(let dn=0;dn<bt;++dn){dn==bt-1&&(Rt=oe);for(let At=0;At<vt;++At)et[At].fill(0),et[At][0]=ze[fe[At]++],ft(ue,we,et[At]),ne(et[At],Ge[At]),Vt(Ge[At]);Mt(Ge);for(let At=0;At<vt;++At)Gt(Ge[At],tt[At],dn*64)}let st=0;for(let dn=0;dn<vt;++dn){const At=ae[V.idx[dn]].type;for(let $n=8*jt;$n<8*jt+Tt;++$n){st=rt[dn][$n];for(let Ci=0;Ci<gt;++Ci){const jn=Ci*64+($n&7)*8;pt.setUint16(st+0*At,tt[dn][jn+0],!0),pt.setUint16(st+2*At,tt[dn][jn+1],!0),pt.setUint16(st+4*At,tt[dn][jn+2],!0),pt.setUint16(st+6*At,tt[dn][jn+3],!0),pt.setUint16(st+8*At,tt[dn][jn+4],!0),pt.setUint16(st+10*At,tt[dn][jn+5],!0),pt.setUint16(st+12*At,tt[dn][jn+6],!0),pt.setUint16(st+14*At,tt[dn][jn+7],!0),st+=16*At}}if(gt!=bt)for(let $n=8*jt;$n<8*jt+Tt;++$n){const Ci=rt[dn][$n]+8*gt*2*At,jn=gt*64+($n&7)*8;for(let yi=0;yi<Rt;++yi)pt.setUint16(Ci+yi*2*At,tt[dn][jn+yi],!0)}}}for(var Zt=new Uint16Array(lt),pt=new DataView(Ve.buffer),Wt=0;Wt<vt;++Wt){ae[V.idx[Wt]].decoded=!0;var Nn=ae[V.idx[Wt]].type;if(ae[Wt].type==2)for(var Wn=0;Wn<nt;++Wn){const jt=rt[Wt][Wn];for(var cn=0;cn<lt;++cn)Zt[cn]=pt.getUint16(jt+cn*2*Nn,!0);for(var cn=0;cn<lt;++cn)pt.setFloat32(jt+cn*2*Nn,Te(Zt[cn]),!0)}}}function ft(V,Z,ae){for(var we,ze=1;ze<64;)we=Z[V.value],we==65280?ze=64:we>>8==255?ze+=we&255:(ae[ze]=we,ze++),V.value++}function ne(V,Z){Z[0]=Te(V[0]),Z[1]=Te(V[1]),Z[2]=Te(V[5]),Z[3]=Te(V[6]),Z[4]=Te(V[14]),Z[5]=Te(V[15]),Z[6]=Te(V[27]),Z[7]=Te(V[28]),Z[8]=Te(V[2]),Z[9]=Te(V[4]),Z[10]=Te(V[7]),Z[11]=Te(V[13]),Z[12]=Te(V[16]),Z[13]=Te(V[26]),Z[14]=Te(V[29]),Z[15]=Te(V[42]),Z[16]=Te(V[3]),Z[17]=Te(V[8]),Z[18]=Te(V[12]),Z[19]=Te(V[17]),Z[20]=Te(V[25]),Z[21]=Te(V[30]),Z[22]=Te(V[41]),Z[23]=Te(V[43]),Z[24]=Te(V[9]),Z[25]=Te(V[11]),Z[26]=Te(V[18]),Z[27]=Te(V[24]),Z[28]=Te(V[31]),Z[29]=Te(V[40]),Z[30]=Te(V[44]),Z[31]=Te(V[53]),Z[32]=Te(V[10]),Z[33]=Te(V[19]),Z[34]=Te(V[23]),Z[35]=Te(V[32]),Z[36]=Te(V[39]),Z[37]=Te(V[45]),Z[38]=Te(V[52]),Z[39]=Te(V[54]),Z[40]=Te(V[20]),Z[41]=Te(V[22]),Z[42]=Te(V[33]),Z[43]=Te(V[38]),Z[44]=Te(V[46]),Z[45]=Te(V[51]),Z[46]=Te(V[55]),Z[47]=Te(V[60]),Z[48]=Te(V[21]),Z[49]=Te(V[34]),Z[50]=Te(V[37]),Z[51]=Te(V[47]),Z[52]=Te(V[50]),Z[53]=Te(V[56]),Z[54]=Te(V[59]),Z[55]=Te(V[61]),Z[56]=Te(V[35]),Z[57]=Te(V[36]),Z[58]=Te(V[48]),Z[59]=Te(V[49]),Z[60]=Te(V[57]),Z[61]=Te(V[58]),Z[62]=Te(V[62]),Z[63]=Te(V[63])}function Vt(V){const Z=.5*Math.cos(.7853975),ae=.5*Math.cos(3.14159/16),we=.5*Math.cos(3.14159/8),ze=.5*Math.cos(3*3.14159/16),Ve=.5*Math.cos(5*3.14159/16),lt=.5*Math.cos(3*3.14159/8),nt=.5*Math.cos(7*3.14159/16);for(var vt=new Array(4),gt=new Array(4),bt=new Array(4),H=new Array(4),oe=0;oe<8;++oe){var ce=oe*8;vt[0]=we*V[ce+2],vt[1]=lt*V[ce+2],vt[2]=we*V[ce+6],vt[3]=lt*V[ce+6],gt[0]=ae*V[ce+1]+ze*V[ce+3]+Ve*V[ce+5]+nt*V[ce+7],gt[1]=ze*V[ce+1]-nt*V[ce+3]-ae*V[ce+5]-Ve*V[ce+7],gt[2]=Ve*V[ce+1]-ae*V[ce+3]+nt*V[ce+5]+ze*V[ce+7],gt[3]=nt*V[ce+1]-Ve*V[ce+3]+ze*V[ce+5]-ae*V[ce+7],bt[0]=Z*(V[ce+0]+V[ce+4]),bt[3]=Z*(V[ce+0]-V[ce+4]),bt[1]=vt[0]+vt[3],bt[2]=vt[1]-vt[2],H[0]=bt[0]+bt[1],H[1]=bt[3]+bt[2],H[2]=bt[3]-bt[2],H[3]=bt[0]-bt[1],V[ce+0]=H[0]+gt[0],V[ce+1]=H[1]+gt[1],V[ce+2]=H[2]+gt[2],V[ce+3]=H[3]+gt[3],V[ce+4]=H[3]-gt[3],V[ce+5]=H[2]-gt[2],V[ce+6]=H[1]-gt[1],V[ce+7]=H[0]-gt[0]}for(var ue=0;ue<8;++ue)vt[0]=we*V[16+ue],vt[1]=lt*V[16+ue],vt[2]=we*V[48+ue],vt[3]=lt*V[48+ue],gt[0]=ae*V[8+ue]+ze*V[24+ue]+Ve*V[40+ue]+nt*V[56+ue],gt[1]=ze*V[8+ue]-nt*V[24+ue]-ae*V[40+ue]-Ve*V[56+ue],gt[2]=Ve*V[8+ue]-ae*V[24+ue]+nt*V[40+ue]+ze*V[56+ue],gt[3]=nt*V[8+ue]-Ve*V[24+ue]+ze*V[40+ue]-ae*V[56+ue],bt[0]=Z*(V[ue]+V[32+ue]),bt[3]=Z*(V[ue]-V[32+ue]),bt[1]=vt[0]+vt[3],bt[2]=vt[1]-vt[2],H[0]=bt[0]+bt[1],H[1]=bt[3]+bt[2],H[2]=bt[3]-bt[2],H[3]=bt[0]-bt[1],V[0+ue]=H[0]+gt[0],V[8+ue]=H[1]+gt[1],V[16+ue]=H[2]+gt[2],V[24+ue]=H[3]+gt[3],V[32+ue]=H[3]-gt[3],V[40+ue]=H[2]-gt[2],V[48+ue]=H[1]-gt[1],V[56+ue]=H[0]-gt[0]}function Mt(V){for(var Z=0;Z<64;++Z){var ae=V[0][Z],we=V[1][Z],ze=V[2][Z];V[0][Z]=ae+1.5747*ze,V[1][Z]=ae-.1873*we-.4682*ze,V[2][Z]=ae+1.8556*we}}function Gt(V,Z,ae){for(var we=0;we<64;++we)Z[ae+we]=Vd.toHalfFloat(ht(V[we]))}function ht(V){return V<=1?Math.sign(V)*Math.pow(Math.abs(V),2.2):Math.sign(V)*Math.pow(z,Math.abs(V)-1)}function Q(V){return new DataView(V.array.buffer,V.offset.value,V.size)}function F(V){var Z=V.viewer.buffer.slice(V.offset.value,V.offset.value+V.size),ae=new Uint8Array(qe(Z)),we=new Uint8Array(ae.length);return Nt(ae),Pe(ae,we),new DataView(we.buffer)}function ge(V){var Z=V.array.slice(V.offset.value,V.offset.value+V.size),ae=jS(Z),we=new Uint8Array(ae.length);return Nt(ae),Pe(ae,we),new DataView(we.buffer)}function Ie(V){for(var Z=V.viewer,ae={value:V.offset.value},we=new Uint16Array(V.width*V.scanlineBlockSize*(V.channels*V.type)),ze=new Uint8Array(8192),Ve=0,lt=new Array(V.channels),nt=0;nt<V.channels;nt++)lt[nt]={},lt[nt].start=Ve,lt[nt].end=lt[nt].start,lt[nt].nx=V.width,lt[nt].ny=V.lines,lt[nt].size=V.type,Ve+=lt[nt].nx*lt[nt].ny*lt[nt].size;var vt=ut(Z,ae),gt=ut(Z,ae);if(gt>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(vt<=gt)for(var nt=0;nt<gt-vt+1;nt++)ze[nt+vt]=wt(Z,ae);var bt=new Uint16Array(65536),H=W(ze,bt),oe=Ze(Z,ae);xt(V.array,Z,ae,oe,we,Ve);for(var nt=0;nt<V.channels;++nt)for(var ce=lt[nt],ue=0;ue<lt[nt].size;++ue)xe(we,ce.start+ue,ce.nx,ce.size,ce.ny,ce.nx*ce.size,H);je(bt,we,Ve);for(var fe=0,Ge=new Uint8Array(we.buffer.byteLength),et=0;et<V.lines;et++)for(var tt=0;tt<V.channels;tt++){var ce=lt[tt],rt=ce.nx*ce.size,Tt=new Uint8Array(we.buffer,ce.end*2,rt*2);Ge.set(Tt,fe),fe+=rt*2,ce.end+=rt}return new DataView(Ge.buffer)}function Xe(V){var Z=V.array.slice(V.offset.value,V.offset.value+V.size),ae=jS(Z);const we=V.lines*V.channels*V.width,ze=V.type==1?new Uint16Array(we):new Uint32Array(we);let Ve=0,lt=0;const nt=new Array(4);for(let vt=0;vt<V.lines;vt++)for(let gt=0;gt<V.channels;gt++){let bt=0;switch(V.type){case 1:nt[0]=Ve,nt[1]=nt[0]+V.width,Ve=nt[1]+V.width;for(let H=0;H<V.width;++H){const oe=ae[nt[0]++]<<8|ae[nt[1]++];bt+=oe,ze[lt]=bt,lt++}break;case 2:nt[0]=Ve,nt[1]=nt[0]+V.width,nt[2]=nt[1]+V.width,Ve=nt[2]+V.width;for(let H=0;H<V.width;++H){const oe=ae[nt[0]++]<<24|ae[nt[1]++]<<16|ae[nt[2]++]<<8;bt+=oe,ze[lt]=bt,lt++}break}}return new DataView(ze.buffer)}function Ue(V){var Z=V.viewer,ae={value:V.offset.value},we=new Uint8Array(V.width*V.lines*(V.channels*V.type*2)),ze={version:St(Z,ae),unknownUncompressedSize:St(Z,ae),unknownCompressedSize:St(Z,ae),acCompressedSize:St(Z,ae),dcCompressedSize:St(Z,ae),rleCompressedSize:St(Z,ae),rleUncompressedSize:St(Z,ae),rleRawSize:St(Z,ae),totalAcUncompressedCount:St(Z,ae),totalDcUncompressedCount:St(Z,ae),acCompression:St(Z,ae)};if(ze.version<2)throw"EXRLoader.parse: "+Ar.compression+" version "+ze.version+" is unsupported";for(var Ve=new Array,lt=ut(Z,ae)-2;lt>0;){var nt=Et(Z.buffer,ae),vt=wt(Z,ae),gt=vt>>2&3,bt=(vt>>4)-1,H=new Int8Array([bt])[0],oe=wt(Z,ae);Ve.push({name:nt,index:H,type:oe,compression:gt}),lt-=nt.length+3}for(var ce=Ar.channels,ue=new Array(V.channels),fe=0;fe<V.channels;++fe){var Ge=ue[fe]={},et=ce[fe];Ge.name=et.name,Ge.compression=0,Ge.decoded=!1,Ge.type=et.pixelType,Ge.pLinear=et.pLinear,Ge.width=V.width,Ge.height=V.lines}for(var tt={idx:new Array(3)},rt=0;rt<V.channels;++rt)for(var Ge=ue[rt],fe=0;fe<Ve.length;++fe){var Tt=Ve[fe];Ge.name==Tt.name&&(Ge.compression=Tt.compression,Tt.index>=0&&(tt.idx[Tt.index]=rt),Ge.offset=rt)}if(ze.acCompressedSize>0)switch(ze.acCompression){case 0:var pt=new Uint16Array(ze.totalAcUncompressedCount);xt(V.array,Z,ae,ze.acCompressedSize,pt,ze.totalAcUncompressedCount);break;case 1:var Rt=V.array.slice(ae.value,ae.value+ze.totalAcUncompressedCount),Zt=jS(Rt),pt=new Uint16Array(Zt.buffer);ae.value+=ze.totalAcUncompressedCount;break}if(ze.dcCompressedSize>0){var Wt={array:V.array,offset:ae,size:ze.dcCompressedSize},Nn=new Uint16Array(ge(Wt).buffer);ae.value+=ze.dcCompressedSize}if(ze.rleRawSize>0){var Rt=V.array.slice(ae.value,ae.value+ze.rleCompressedSize),Zt=jS(Rt),Wn=qe(Zt.buffer);ae.value+=ze.rleCompressedSize}for(var cn=0,jt=new Array(ue.length),fe=0;fe<jt.length;++fe)jt[fe]=new Array;for(var st=0;st<V.lines;++st)for(var dn=0;dn<ue.length;++dn)jt[dn].push(cn),cn+=ue[dn].width*V.type*2;He(tt,jt,ue,pt,Nn,we);for(var fe=0;fe<ue.length;++fe){var Ge=ue[fe];if(!Ge.decoded)switch(Ge.compression){case 2:for(var At=0,$n=0,st=0;st<V.lines;++st){for(var Ci=jt[fe][At],jn=0;jn<Ge.width;++jn){for(var yi=0;yi<2*Ge.type;++yi)we[Ci++]=Wn[$n+yi*Ge.width*Ge.height];$n++}At++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(we.buffer)}function Et(V,Z){for(var ae=new Uint8Array(V),we=0;ae[Z.value+we]!=0;)we+=1;var ze=new TextDecoder().decode(ae.slice(Z.value,Z.value+we));return Z.value=Z.value+we+1,ze}function dt(V,Z,ae){var we=new TextDecoder().decode(new Uint8Array(V).slice(Z.value,Z.value+ae));return Z.value=Z.value+ae,we}function Ht(V,Z){var ae=Je(V,Z),we=Ze(V,Z);return[ae,we]}function Yt(V,Z){var ae=Ze(V,Z),we=Ze(V,Z);return[ae,we]}function Je(V,Z){var ae=V.getInt32(Z.value,!0);return Z.value=Z.value+4,ae}function Ze(V,Z){var ae=V.getUint32(Z.value,!0);return Z.value=Z.value+4,ae}function Ot(V,Z){var ae=V[Z.value];return Z.value=Z.value+1,ae}function wt(V,Z){var ae=V.getUint8(Z.value);return Z.value=Z.value+1,ae}const St=function(V,Z){let ae;return"getBigInt64"in DataView.prototype?ae=Number(V.getBigInt64(Z.value,!0)):ae=V.getUint32(Z.value+4,!0)+Number(V.getUint32(Z.value,!0)<<32),Z.value+=8,ae};function Xt(V,Z){var ae=V.getFloat32(Z.value,!0);return Z.value+=4,ae}function ve(V,Z){return Vd.toHalfFloat(Xt(V,Z))}function Te(V){var Z=(V&31744)>>10,ae=V&1023;return(V>>15?-1:1)*(Z?Z===31?ae?NaN:1/0:Math.pow(2,Z-15)*(1+ae/1024):6103515625e-14*(ae/1024))}function ut(V,Z){var ae=V.getUint16(Z.value,!0);return Z.value+=2,ae}function Pt(V,Z){return Te(ut(V,Z))}function at(V,Z,ae,we){for(var ze=ae.value,Ve=[];ae.value<ze+we-1;){var lt=Et(Z,ae),nt=Je(V,ae),vt=wt(V,ae);ae.value+=3;var gt=Je(V,ae),bt=Je(V,ae);Ve.push({name:lt,pixelType:nt,pLinear:vt,xSampling:gt,ySampling:bt})}return ae.value+=1,Ve}function Fe(V,Z){var ae=Xt(V,Z),we=Xt(V,Z),ze=Xt(V,Z),Ve=Xt(V,Z),lt=Xt(V,Z),nt=Xt(V,Z),vt=Xt(V,Z),gt=Xt(V,Z);return{redX:ae,redY:we,greenX:ze,greenY:Ve,blueX:lt,blueY:nt,whiteX:vt,whiteY:gt}}function Lt(V,Z){var ae=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],we=wt(V,Z);return ae[we]}function rn(V,Z){var ae=Ze(V,Z),we=Ze(V,Z),ze=Ze(V,Z),Ve=Ze(V,Z);return{xMin:ae,yMin:we,xMax:ze,yMax:Ve}}function Rn(V,Z){var ae=["INCREASING_Y"],we=wt(V,Z);return ae[we]}function In(V,Z){var ae=Xt(V,Z),we=Xt(V,Z);return[ae,we]}function Er(V,Z){var ae=Xt(V,Z),we=Xt(V,Z),ze=Xt(V,Z);return[ae,we,ze]}function $r(V,Z,ae,we,ze){if(we==="string"||we==="stringvector"||we==="iccProfile")return dt(Z,ae,ze);if(we==="chlist")return at(V,Z,ae,ze);if(we==="chromaticities")return Fe(V,ae);if(we==="compression")return Lt(V,ae);if(we==="box2i")return rn(V,ae);if(we==="lineOrder")return Rn(V,ae);if(we==="float")return Xt(V,ae);if(we==="v2f")return In(V,ae);if(we==="v3f")return Er(V,ae);if(we==="int")return Je(V,ae);if(we==="rational")return Ht(V,ae);if(we==="timecode")return Yt(V,ae);if(we==="preview")return ae.value+=ze,"skipped";ae.value+=ze}function qs(V,Z,ae){const we={};if(V.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";we.version=V.getUint8(4);const ze=V.getUint8(5);we.spec={singleTile:!!(ze&2),longName:!!(ze&4),deepFormat:!!(ze&8),multiPart:!!(ze&16)},ae.value=8;for(var Ve=!0;Ve;){var lt=Et(Z,ae);if(lt==0)Ve=!1;else{var nt=Et(Z,ae),vt=Ze(V,ae),gt=$r(V,Z,ae,nt,vt);gt===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${nt}'.`):we[lt]=gt}}if((ze&-5)!=0)throw console.error("EXRHeader:",we),"THREE.EXRLoader: provided file is currently unsupported.";return we}function Xs(V,Z,ae,we,ze){const Ve={size:0,viewer:Z,array:ae,offset:we,width:V.dataWindow.xMax-V.dataWindow.xMin+1,height:V.dataWindow.yMax-V.dataWindow.yMin+1,channels:V.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:V.channels[0].pixelType,uncompress:null,getter:null,format:null,[sy?"colorSpace":"encoding"]:null};switch(V.compression){case"NO_COMPRESSION":Ve.lines=1,Ve.uncompress=Q;break;case"RLE_COMPRESSION":Ve.lines=1,Ve.uncompress=F;break;case"ZIPS_COMPRESSION":Ve.lines=1,Ve.uncompress=ge;break;case"ZIP_COMPRESSION":Ve.lines=16,Ve.uncompress=ge;break;case"PIZ_COMPRESSION":Ve.lines=32,Ve.uncompress=Ie;break;case"PXR24_COMPRESSION":Ve.lines=16,Ve.uncompress=Xe;break;case"DWAA_COMPRESSION":Ve.lines=32,Ve.uncompress=Ue;break;case"DWAB_COMPRESSION":Ve.lines=256,Ve.uncompress=Ue;break;default:throw"EXRLoader.parse: "+V.compression+" is unsupported"}if(Ve.scanlineBlockSize=Ve.lines,Ve.type==1)switch(ze){case Bi:Ve.getter=Pt,Ve.inputSize=2;break;case rr:Ve.getter=ut,Ve.inputSize=2;break}else if(Ve.type==2)switch(ze){case Bi:Ve.getter=Xt,Ve.inputSize=4;break;case rr:Ve.getter=ve,Ve.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Ve.type+" for "+V.compression+".";Ve.blockCount=(V.dataWindow.yMax+1)/Ve.scanlineBlockSize;for(var lt=0;lt<Ve.blockCount;lt++)St(Z,we);Ve.outputChannels=Ve.channels==3?4:Ve.channels;const nt=Ve.width*Ve.height*Ve.outputChannels;switch(ze){case Bi:Ve.byteArray=new Float32Array(nt),Ve.channels<Ve.outputChannels&&Ve.byteArray.fill(1,0,nt);break;case rr:Ve.byteArray=new Uint16Array(nt),Ve.channels<Ve.outputChannels&&Ve.byteArray.fill(15360,0,nt);break;default:console.error("THREE.EXRLoader: unsupported type: ",ze);break}return Ve.bytesPerLine=Ve.width*Ve.inputSize*Ve.channels,Ve.outputChannels==4?Ve.format=Sr:Ve.format=Dx,sy?Ve.colorSpace="srgb-linear":Ve.encoding=3e3,Ve}const po=new DataView(e),$s=new Uint8Array(e),fa={value:0},Ar=qs(po,e,fa),ln=Xs(Ar,po,$s,fa,this.type),ha={value:0},vi={R:0,G:1,B:2,A:3,Y:0};for(let V=0;V<ln.height/ln.scanlineBlockSize;V++){const Z=Ze(po,fa);ln.size=Ze(po,fa),ln.lines=Z+ln.scanlineBlockSize>ln.height?ln.height-Z:ln.scanlineBlockSize;const we=ln.size<ln.lines*ln.bytesPerLine?ln.uncompress(ln):Q(ln);fa.value+=ln.size;for(let ze=0;ze<ln.scanlineBlockSize;ze++){const Ve=ze+V*ln.scanlineBlockSize;if(Ve>=ln.height)break;for(let lt=0;lt<ln.channels;lt++){const nt=vi[Ar.channels[lt].name];for(let vt=0;vt<ln.width;vt++){ha.value=(ze*(ln.channels*ln.width)+lt*ln.width+vt)*ln.inputSize;const gt=(ln.height-1-Ve)*(ln.width*ln.outputChannels)+vt*ln.outputChannels+nt;ln.byteArray[gt]=ln.getter(we,ha)}}}}return{header:Ar,width:ln.width,height:ln.height,data:ln.byteArray,format:ln.format,[sy?"colorSpace":"encoding"]:ln[sy?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,i,r){function a(s,l){sy?s.colorSpace=l.colorSpace:s.encoding=l.encoding,s.minFilter=kn,s.magFilter=kn,s.generateMipmaps=!1,s.flipY=!1,n&&n(s,l)}return super.load(e,a,i,r)}}const vie=()=>parseInt($g.replace(/\D+/g,"")),Z8=vie();function yie(t,e,n){const i=lo(x=>x.size),r=lo(x=>x.viewport),a=typeof t=="number"?t:i.width*r.dpr,s=i.height*r.dpr,l=(typeof t=="number"?n:t)||{},{samples:c=0,depth:h,...p}=l,g=h??l.depthBuffer,v=U.useMemo(()=>{const x=new Xa(a,s,{minFilter:kn,magFilter:kn,type:rr,...p});return g&&(x.depthTexture=new lp(a,s,Bi)),x.samples=c,x},[]);return U.useLayoutEffect(()=>{v.setSize(a,s),c&&(v.samples=c)},[c,v,a,s]),U.useEffect(()=>()=>v.dispose(),[]),v}const xie=t=>typeof t=="function",bie=U.forwardRef(({envMap:t,resolution:e=256,frames:n=1/0,makeDefault:i,children:r,...a},s)=>{const l=lo(({set:S})=>S),c=lo(({camera:S})=>S),h=lo(({size:S})=>S),p=U.useRef(null);U.useImperativeHandle(s,()=>p.current,[]);const g=U.useRef(null),v=yie(e);U.useLayoutEffect(()=>{a.manual||(p.current.aspect=h.width/h.height)},[h,a]),U.useLayoutEffect(()=>{p.current.updateProjectionMatrix()});let x=0,_=null;const w=xie(r);return qc(S=>{w&&(n===1/0||x<n)&&(g.current.visible=!1,S.gl.setRenderTarget(v),_=S.scene.background,t&&(S.scene.background=t),S.gl.render(S.scene,p.current),S.scene.background=_,S.gl.setRenderTarget(null),g.current.visible=!0,x++)}),U.useLayoutEffect(()=>{if(i){const S=c;return l(()=>({camera:p.current})),()=>l(()=>({camera:S}))}},[p,i,l]),U.createElement(U.Fragment,null,U.createElement("perspectiveCamera",Fl({ref:p},a),!w&&r),U.createElement("group",{ref:g},w&&r(v.texture)))}),$T=Z8>=154?"opaque_fragment":"output_fragment";class _ie extends qw{constructor(e){super(e),this.onBeforeCompile=(n,i)=>{const{isWebGL2:r}=i.capabilities;n.fragmentShader=n.fragmentShader.replace(`#include <${$T}>`,`
        ${r?`#include <${$T}>`:`#extension GL_OES_standard_derivatives : enable
#include <${$T}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${Z8>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const Sie=U.forwardRef((t,e)=>{const[n]=U.useState(()=>new _ie(null));return U.createElement("primitive",Fl({},t,{object:n,ref:e,attach:"material"}))}),K8=(t,e,n)=>{let i;switch(t){case aa:i=new Uint8ClampedArray(e*n*4);break;case rr:i=new Uint16Array(e*n*4);break;case co:i=new Uint32Array(e*n*4);break;case Pw:i=new Int8Array(e*n*4);break;case Ow:i=new Int16Array(e*n*4);break;case Ox:i=new Int32Array(e*n*4);break;case Bi:i=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return i};let GS;const Mie=(t,e,n,i)=>{if(GS!==void 0)return GS;const r=new Xa(1,1,i);e.setRenderTarget(r);const a=new ar(new Sh,new Wc({color:16777215}));e.render(a,n),e.setRenderTarget(null);const s=K8(t,r.width,r.height);return e.readRenderTargetPixels(r,0,0,r.width,r.height,s),r.dispose(),a.geometry.dispose(),a.material.dispose(),GS=s[0]!==0,GS};class I3{constructor(e){Wi(this,"_renderer");Wi(this,"_rendererIsDisposable",!1);Wi(this,"_material");Wi(this,"_scene");Wi(this,"_camera");Wi(this,"_quad");Wi(this,"_renderTarget");Wi(this,"_width");Wi(this,"_height");Wi(this,"_type");Wi(this,"_colorSpace");Wi(this,"_supportsReadPixels",!0);Wi(this,"render",()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(e){throw this._renderer.setRenderTarget(null),e}this._renderer.setRenderTarget(null)});var i,r,a,s,l,c,h,p,g,v,x,_,w,S,M,T;this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const n={format:Sr,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((i=e.renderTargetOptions)==null?void 0:i.anisotropy)!==void 0?(r=e.renderTargetOptions)==null?void 0:r.anisotropy:1,generateMipmaps:((a=e.renderTargetOptions)==null?void 0:a.generateMipmaps)!==void 0?(s=e.renderTargetOptions)==null?void 0:s.generateMipmaps:!1,magFilter:((l=e.renderTargetOptions)==null?void 0:l.magFilter)!==void 0?(c=e.renderTargetOptions)==null?void 0:c.magFilter:kn,minFilter:((h=e.renderTargetOptions)==null?void 0:h.minFilter)!==void 0?(p=e.renderTargetOptions)==null?void 0:p.minFilter:kn,samples:((g=e.renderTargetOptions)==null?void 0:g.samples)!==void 0?(v=e.renderTargetOptions)==null?void 0:v.samples:void 0,wrapS:((x=e.renderTargetOptions)==null?void 0:x.wrapS)!==void 0?(_=e.renderTargetOptions)==null?void 0:_.wrapS:pr,wrapT:((w=e.renderTargetOptions)==null?void 0:w.wrapT)!==void 0?(S=e.renderTargetOptions)==null?void 0:S.wrapT:pr};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=I3.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new Nx,this._camera=new _p,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Mie(this._type,this._renderer,this._camera,n)){let R;switch(this._type){case rr:R=this._renderer.extensions.has("EXT_color_buffer_float")?Bi:void 0;break}R!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Bi}`),this._type=R):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new ar(new Sh,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new Xa(this.width,this.height,n),this._renderTarget.texture.mapping=((M=e.renderTargetOptions)==null?void 0:M.mapping)!==void 0?(T=e.renderTargetOptions)==null?void 0:T.mapping:dh}static instantiateRenderer(){const e=new A3;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=K8(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new Yo(this.toArray(),this.width,this.height,Sr,this._type,(e==null?void 0:e.mapping)||dh,(e==null?void 0:e.wrapS)||pr,(e==null?void 0:e.wrapT)||pr,(e==null?void 0:e.magFilter)||kn,(e==null?void 0:e.minFilter)||kn,(e==null?void 0:e.anisotropy)||1,kl);return n.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof ms&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof mi&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof mi&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class Q8 extends Error{}class J8 extends Error{}const oy=(t,e,n)=>{const i=new RegExp(`${e}="([^"]*)"`,"i").exec(t);if(i)return i[1];const r=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(t);if(r){const a=r[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return a&&a.length===3?a.map(s=>s.replace(/<\/?rdf:li>/g,"")):r[1].trim()}if(n!==void 0)return n;throw new Error(`Can't find ${e} in gainmap metadata`)},wie=t=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(t):e=t.toString();let n=e.indexOf("<x:xmpmeta");for(;n!==-1;){const i=e.indexOf("x:xmpmeta>",n),r=e.slice(n,i+10);try{const a=oy(r,"hdrgm:GainMapMin","0"),s=oy(r,"hdrgm:GainMapMax"),l=oy(r,"hdrgm:Gamma","1"),c=oy(r,"hdrgm:OffsetSDR","0.015625"),h=oy(r,"hdrgm:OffsetHDR","0.015625"),p=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(r),g=p?p[1]:"0",v=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(r);if(!v)throw new Error("Incomplete gainmap metadata");const x=v[1];return{gainMapMin:Array.isArray(a)?a.map(_=>parseFloat(_)):[parseFloat(a),parseFloat(a),parseFloat(a)],gainMapMax:Array.isArray(s)?s.map(_=>parseFloat(_)):[parseFloat(s),parseFloat(s),parseFloat(s)],gamma:Array.isArray(l)?l.map(_=>parseFloat(_)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetSdr:Array.isArray(c)?c.map(_=>parseFloat(_)):[parseFloat(c),parseFloat(c),parseFloat(c)],offsetHdr:Array.isArray(h)?h.map(_=>parseFloat(_)):[parseFloat(h),parseFloat(h),parseFloat(h)],hdrCapacityMin:parseFloat(g),hdrCapacityMax:parseFloat(x)}}catch{}n=e.indexOf("<x:xmpmeta",i)}};class Eie{constructor(e){Wi(this,"options");this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,i)=>{const r=this.options.debug,a=new DataView(e.buffer);if(a.getUint16(0)!==65496){i(new Error("Not a valid jpeg"));return}const s=a.byteLength;let l=2,c=0,h;for(;l<s;){if(++c>250){i(new Error(`Found no marker after ${c} loops `));return}if(a.getUint8(l)!==255){i(new Error(`Not a valid marker at offset 0x${l.toString(16)}, found: 0x${a.getUint8(l).toString(16)}`));return}if(h=a.getUint8(l+1),r&&console.log(`Marker: ${h.toString(16)}`),h===226){r&&console.log("Found APP2 marker (0xffe2)");const p=l+4;if(a.getUint32(p)===1297106432){const g=p+4;let v;if(a.getUint16(g)===18761)v=!1;else if(a.getUint16(g)===19789)v=!0;else{i(new Error("No valid endianness marker found in TIFF header"));return}if(a.getUint16(g+2,!v)!==42){i(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const x=a.getUint32(g+4,!v);if(x<8){i(new Error("Not valid TIFF data! (First offset less than 8)"));return}const _=g+x,w=a.getUint16(_,!v),S=_+2;let M=0;for(let L=S;L<S+12*w;L+=12)a.getUint16(L,!v)===45057&&(M=a.getUint32(L+8,!v));const R=_+2+w*12+4,P=[];for(let L=R;L<R+M*16;L+=16){const I={MPType:a.getUint32(L,!v),size:a.getUint32(L+4,!v),dataOffset:a.getUint32(L+8,!v),dependantImages:a.getUint32(L+12,!v),start:-1,end:-1,isFII:!1};I.dataOffset?(I.start=g+I.dataOffset,I.isFII=!1):(I.start=0,I.isFII=!0),I.end=I.start+I.size,P.push(I)}if(this.options.extractNonFII&&P.length){const L=new Blob([a]),I=[];for(const B of P){if(B.isFII&&!this.options.extractFII)continue;const D=L.slice(B.start,B.end+1,"image/jpeg");I.push(D)}n(I)}}}l+=2+a.getUint16(l+2)}})}}const Aie=async t=>{const e=wie(t);if(!e)throw new J8("Gain map XMP metadata not found");const i=await new Eie({extractFII:!0,extractNonFII:!0}).extract(t);if(i.length!==2)throw new Q8("Gain map recovery image not found");return{sdr:new Uint8Array(await i[0].arrayBuffer()),gainMap:new Uint8Array(await i[1].arrayBuffer()),metadata:e}},xz=t=>new Promise((e,n)=>{const i=document.createElement("img");i.onload=()=>{e(i)},i.onerror=r=>{n(r)},i.src=URL.createObjectURL(t)});class Tie extends ys{constructor(n,i){super(i);Wi(this,"_renderer");Wi(this,"_renderTargetOptions");Wi(this,"_internalLoadingManager");Wi(this,"_config");this._config=n,n.renderer&&(this._renderer=n.renderer),this._internalLoadingManager=new sE}setRenderer(n){return this._renderer=n,this}setRenderTargetOptions(n){return this._renderTargetOptions=n,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const n=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new mi,sdr:new mi});return this._config.createQuadRenderer({width:16,height:16,type:rr,colorSpace:kl,material:n,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(n,i,r){const a=i?new Blob([i],{type:"image/jpeg"}):void 0,s=new Blob([n],{type:"image/jpeg"});let l,c,h=!1;if(typeof createImageBitmap>"u"){const p=await Promise.all([a?xz(a):Promise.resolve(void 0),xz(s)]);c=p[0],l=p[1],h=r==="flipY"}else{const p=await Promise.all([a?createImageBitmap(a,{imageOrientation:r||"flipY"}):Promise.resolve(void 0),createImageBitmap(s,{imageOrientation:r||"flipY"})]);c=p[0],l=p[1]}return{sdrImage:l,gainMapImage:c,needsFlip:h}}createTextures(n,i,r){const a=new mi(i||new ImageData(2,2),dh,pr,pr,kn,qR,Sr,aa,1,kl);a.flipY=r,a.needsUpdate=!0;const s=new mi(n,dh,pr,pr,kn,qR,Sr,aa,1,Ta);return s.flipY=r,s.needsUpdate=!0,{gainMap:a,sdr:s}}updateQuadRenderer(n,i,r,a,s){n.width=i.width,n.height=i.height,n.material.gainMap=r,n.material.sdr=a,n.material.gainMapMin=s.gainMapMin,n.material.gainMapMax=s.gainMapMax,n.material.offsetHdr=s.offsetHdr,n.material.offsetSdr=s.offsetSdr,n.material.gamma=s.gamma,n.material.hdrCapacityMin=s.hdrCapacityMin,n.material.hdrCapacityMax=s.hdrCapacityMax,n.material.maxDisplayBoost=Math.pow(2,s.hdrCapacityMax),n.material.needsUpdate=!0}}const Cie=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,Rie=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Pie extends ms{constructor({gamma:n,offsetHdr:i,offsetSdr:r,gainMapMin:a,gainMapMax:s,maxDisplayBoost:l,hdrCapacityMin:c,hdrCapacityMax:h,sdr:p,gainMap:g}){super({name:"GainMapDecoderMaterial",vertexShader:Cie,fragmentShader:Rie,uniforms:{sdr:{value:p},gainMap:{value:g},gamma:{value:new ee(1/n[0],1/n[1],1/n[2])},offsetHdr:{value:new ee().fromArray(i)},offsetSdr:{value:new ee().fromArray(r)},gainMapMin:{value:new ee().fromArray(a)},gainMapMax:{value:new ee().fromArray(s)},weightFactor:{value:(Math.log2(l)-c)/(h-c)}},blending:Nl,depthTest:!1,depthWrite:!1});Wi(this,"_maxDisplayBoost");Wi(this,"_hdrCapacityMin");Wi(this,"_hdrCapacityMax");this._maxDisplayBoost=l,this._hdrCapacityMin=c,this._hdrCapacityMax=h,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(n){this.uniforms.sdr.value=n}get gainMap(){return this.uniforms.gainMap.value}set gainMap(n){this.uniforms.gainMap.value=n}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(n){this.uniforms.offsetHdr.value.fromArray(n)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(n){this.uniforms.offsetSdr.value.fromArray(n)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(n){this.uniforms.gainMapMin.value.fromArray(n)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(n){this.uniforms.gainMapMax.value.fromArray(n)}get gamma(){const n=this.uniforms.gamma.value;return[1/n.x,1/n.y,1/n.z]}set gamma(n){const i=this.uniforms.gamma.value;i.x=1/n[0],i.y=1/n[1],i.z=1/n[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(n){this._hdrCapacityMin=n,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(n){this._hdrCapacityMax=n,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(n){this._maxDisplayBoost=Math.max(1,Math.min(65504,n)),this.calculateWeight()}calculateWeight(){const n=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,n))}}class eH extends Tie{constructor(e,n){super({renderer:e,createMaterial:i=>new Pie(i),createQuadRenderer:i=>new I3(i)},n)}async render(e,n,i,r){const{sdrImage:a,gainMapImage:s,needsFlip:l}=await this.processImages(i,r,"flipY"),{gainMap:c,sdr:h}=this.createTextures(a,s,l);this.updateQuadRenderer(e,a,c,h,n),e.render()}}class Oie extends eH{load([e,n,i],r,a,s){const l=this.prepareQuadRenderer();let c,h,p;const g=async()=>{if(c&&h&&p){try{await this.render(l,p,c,h)}catch(z){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(i),typeof s=="function"&&s(z),l.disposeOnDemandRenderer();return}typeof r=="function"&&r(l),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(i),l.disposeOnDemandRenderer()}};let v=!0,x=0,_=0,w=!0,S=0,M=0,T=!0,R=0,P=0;const L=()=>{if(typeof a=="function"){const z=x+S+R,W=_+M+P,j=v&&w&&T;a(new ProgressEvent("progress",{lengthComputable:j,loaded:W,total:z}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(i);const I=new oo(this._internalLoadingManager);I.setResponseType("arraybuffer"),I.setRequestHeader(this.requestHeader),I.setPath(this.path),I.setWithCredentials(this.withCredentials),I.load(e,async z=>{if(typeof z=="string")throw new Error("Invalid sdr buffer");c=z,await g()},z=>{v=z.lengthComputable,_=z.loaded,x=z.total,L()},z=>{this.manager.itemError(e),typeof s=="function"&&s(z)});const B=new oo(this._internalLoadingManager);B.setResponseType("arraybuffer"),B.setRequestHeader(this.requestHeader),B.setPath(this.path),B.setWithCredentials(this.withCredentials),B.load(n,async z=>{if(typeof z=="string")throw new Error("Invalid gainmap buffer");h=z,await g()},z=>{w=z.lengthComputable,M=z.loaded,S=z.total,L()},z=>{this.manager.itemError(n),typeof s=="function"&&s(z)});const D=new oo(this._internalLoadingManager);return D.setRequestHeader(this.requestHeader),D.setPath(this.path),D.setWithCredentials(this.withCredentials),D.load(i,async z=>{if(typeof z!="string")throw new Error("Invalid metadata string");p=JSON.parse(z),await g()},z=>{T=z.lengthComputable,P=z.loaded,R=z.total,L()},z=>{this.manager.itemError(i),typeof s=="function"&&s(z)}),l}}class Die extends eH{load(e,n,i,r){const a=this.prepareQuadRenderer(),s=new oo(this._internalLoadingManager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(this.withCredentials),this.manager.itemStart(e),s.load(e,async l=>{if(typeof l=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const c=new Uint8Array(l);let h,p,g;try{const v=await Aie(c);h=v.sdr,p=v.gainMap,g=v.metadata}catch(v){if(v instanceof J8||v instanceof Q8)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),g={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},h=c;else throw v}try{await this.render(a,g,h.buffer,p==null?void 0:p.buffer)}catch(v){this.manager.itemError(e),typeof r=="function"&&r(v),a.disposeOnDemandRenderer();return}typeof n=="function"&&n(a),this.manager.itemEnd(e),a.disposeOnDemandRenderer()},i,l=>{this.manager.itemError(e),typeof r=="function"&&r(l)}),a}}const ux={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},tH="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",wg=t=>Array.isArray(t),N3=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function pE({files:t=N3,path:e="",preset:n=void 0,colorSpace:i=void 0,extensions:r}={}){n&&(L3(n),t=ux[n],e=tH);const a=wg(t),{extension:s,isCubemap:l}=U3(t),c=z3(s);if(!c)throw new Error("useEnvironment: Unrecognized file extension: "+t);const h=lo(x=>x.gl);U.useLayoutEffect(()=>{if(s!=="webp"&&s!=="jpg"&&s!=="jpeg")return;function x(){Lg.clear(c,a?[t]:t)}h.domElement.addEventListener("webglcontextlost",x,{once:!0})},[t,h.domElement]);const p=Lg(c,a?[t]:t,x=>{(s==="webp"||s==="jpg"||s==="jpeg")&&x.setRenderer(h),x.setPath==null||x.setPath(e),r&&r(x)});let g=a?p[0]:p;if(s==="jpg"||s==="jpeg"||s==="webp"){var v;g=(v=g.renderTarget)==null?void 0:v.texture}return g.mapping=l?Bl:_g,g.colorSpace=i??(l?"srgb":"srgb-linear"),g}const Iie={files:N3,path:"",preset:void 0,extensions:void 0};pE.preload=t=>{const e={...Iie,...t};let{files:n,path:i=""}=e;const{preset:r,extensions:a}=e;r&&(L3(r),n=ux[r],i=tH);const{extension:s}=U3(n);if(s==="webp"||s==="jpg"||s==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const l=z3(s);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+n);Lg.preload(l,wg(n)?[n]:n,c=>{c.setPath==null||c.setPath(i),a&&a(c)})};const Nie={files:N3,preset:void 0};pE.clear=t=>{const e={...Nie,...t};let{files:n}=e;const{preset:i}=e;i&&(L3(i),n=ux[i]);const{extension:r}=U3(n),a=z3(r);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+n);Lg.clear(a,wg(n)?[n]:n)};function L3(t){if(!(t in ux))throw new Error("Preset must be one of: "+Object.keys(ux).join(", "))}function U3(t){var e;const n=wg(t)&&t.length===6,i=wg(t)&&t.length===3&&t.some(s=>s.endsWith("json")),r=wg(t)?t[0]:t;return{extension:n?"cube":i?"webp":r.startsWith("data:application/exr")?"exr":r.startsWith("data:application/hdr")?"hdr":r.startsWith("data:image/jpeg")?"jpg":(e=r.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:n,isGainmap:i}}function z3(t){return t==="cube"?$6:t==="hdr"?mie:t==="exr"?gie:t==="jpg"||t==="jpeg"?Die:t==="webp"?Oie:null}const Lie=t=>t.current&&t.current.isScene,Uie=t=>Lie(t)?t.current:t;function B3(t,e,n,i,r={}){var a,s,l,c;r={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...r};const h=Uie(e||n),p=h.background,g=h.environment,v={backgroundBlurriness:h.backgroundBlurriness,backgroundIntensity:h.backgroundIntensity,backgroundRotation:(a=(s=h.backgroundRotation)==null||s.clone==null?void 0:s.clone())!==null&&a!==void 0?a:[0,0,0],environmentIntensity:h.environmentIntensity,environmentRotation:(l=(c=h.environmentRotation)==null||c.clone==null?void 0:c.clone())!==null&&l!==void 0?l:[0,0,0]};return t!=="only"&&(h.environment=i),t&&(h.background=i),Ru(h,r),()=>{t!=="only"&&(h.environment=g),t&&(h.background=p),Ru(h,v)}}function k3({scene:t,background:e=!1,map:n,...i}){const r=lo(a=>a.scene);return U.useLayoutEffect(()=>{if(n)return B3(e,t,r,n,i)}),null}function nH({background:t=!1,scene:e,blur:n,backgroundBlurriness:i,backgroundIntensity:r,backgroundRotation:a,environmentIntensity:s,environmentRotation:l,...c}){const h=pE(c),p=lo(g=>g.scene);return U.useLayoutEffect(()=>B3(t,e,p,h,{backgroundBlurriness:n??i,backgroundIntensity:r,backgroundRotation:a,environmentIntensity:s,environmentRotation:l})),U.useEffect(()=>()=>{h.dispose()},[h]),null}function zie({children:t,near:e=.1,far:n=1e3,resolution:i=256,frames:r=1,map:a,background:s=!1,blur:l,backgroundBlurriness:c,backgroundIntensity:h,backgroundRotation:p,environmentIntensity:g,environmentRotation:v,scene:x,files:_,path:w,preset:S=void 0,extensions:M}){const T=lo(D=>D.gl),R=lo(D=>D.scene),P=U.useRef(null),[L]=U.useState(()=>new Nx),I=U.useMemo(()=>{const D=new cE(i);return D.texture.type=rr,D},[i]);U.useEffect(()=>()=>{I.dispose()},[I]),U.useLayoutEffect(()=>{if(r===1){const D=T.autoClear;T.autoClear=!0,P.current.update(T,L),T.autoClear=D}return B3(s,x,R,I.texture,{backgroundBlurriness:l??c,backgroundIntensity:h,backgroundRotation:p,environmentIntensity:g,environmentRotation:v})},[t,L,I.texture,x,R,s,r,T]);let B=1;return qc(()=>{if(r===1/0||B<r){const D=T.autoClear;T.autoClear=!0,P.current.update(T,L),T.autoClear=D,B++}}),U.createElement(U.Fragment,null,lne(U.createElement(U.Fragment,null,t,U.createElement("cubeCamera",{ref:P,args:[e,n,I]}),_||S?U.createElement(nH,{background:!0,files:_,preset:S,path:w,extensions:M}):a?U.createElement(k3,{background:!0,map:a,extensions:M}):null),L))}function Bie(t){var e,n,i,r;const a=pE(t),s=t.map||a;U.useMemo(()=>N8({GroundProjectedEnvImpl:pie}),[]),U.useEffect(()=>()=>{a.dispose()},[a]);const l=U.useMemo(()=>[s],[s]),c=(e=t.ground)==null?void 0:e.height,h=(n=t.ground)==null?void 0:n.radius,p=(i=(r=t.ground)==null?void 0:r.scale)!==null&&i!==void 0?i:1e3;return U.createElement(U.Fragment,null,U.createElement(k3,Fl({},t,{map:s})),U.createElement("groundProjectedEnvImpl",{args:l,scale:p,height:c,radius:h}))}function kie(t){return t.ground?U.createElement(Bie,t):t.map?U.createElement(k3,t):t.children?U.createElement(zie,t):U.createElement(nH,t)}let Rd,ly;const Fie=U.createContext(null),bz=new on,_z=new ee,Vie=U.forwardRef(({children:t,range:e,limit:n=1e3,...i},r)=>{const a=U.useRef(null);U.useImperativeHandle(r,()=>a.current,[]);const[s,l]=U.useState([]),[[c,h,p]]=U.useState(()=>[new Float32Array(n*3),Float32Array.from({length:n*3},()=>1),Float32Array.from({length:n},()=>1)]);U.useEffect(()=>{a.current.geometry.attributes.position.needsUpdate=!0}),qc(()=>{for(a.current.updateMatrix(),a.current.updateMatrixWorld(),bz.copy(a.current.matrixWorld).invert(),a.current.geometry.drawRange.count=Math.min(n,e!==void 0?e:n,s.length),Rd=0;Rd<s.length;Rd++)ly=s[Rd].current,ly.getWorldPosition(_z).applyMatrix4(bz),_z.toArray(c,Rd*3),a.current.geometry.attributes.position.needsUpdate=!0,ly.matrixWorldNeedsUpdate=!0,ly.color.toArray(h,Rd*3),a.current.geometry.attributes.color.needsUpdate=!0,p.set([ly.size],Rd),a.current.geometry.attributes.size.needsUpdate=!0});const g=U.useMemo(()=>({getParent:()=>a,subscribe:v=>(l(x=>[...x,v]),()=>l(x=>x.filter(_=>_.current!==v.current)))}),[]);return U.createElement("points",Fl({userData:{instances:s},matrixAutoUpdate:!1,ref:a,raycast:()=>null},i),U.createElement("bufferGeometry",null,U.createElement("bufferAttribute",{attach:"attributes-position",args:[c,3],usage:Zd}),U.createElement("bufferAttribute",{attach:"attributes-color",args:[h,3],usage:Zd}),U.createElement("bufferAttribute",{attach:"attributes-size",args:[p,1],usage:Zd})),U.createElement(Fie.Provider,{value:g},t))}),Hie=U.forwardRef(({children:t,positions:e,colors:n,sizes:i,stride:r=3,...a},s)=>{const l=U.useRef(null);return U.useImperativeHandle(s,()=>l.current,[]),qc(()=>{const c=l.current.geometry.attributes;c.position.needsUpdate=!0,n&&(c.color.needsUpdate=!0),i&&(c.size.needsUpdate=!0)}),U.createElement("points",Fl({ref:l},a),U.createElement("bufferGeometry",null,U.createElement("bufferAttribute",{attach:"attributes-position",args:[e,r],usage:Zd}),n&&U.createElement("bufferAttribute",{attach:"attributes-color",args:[n,r],count:n.length/r,usage:Zd}),i&&U.createElement("bufferAttribute",{attach:"attributes-size",args:[i,1],count:i.length/r,usage:Zd})),t)}),jie=U.forwardRef((t,e)=>t.positions instanceof Float32Array?U.createElement(Hie,Fl({},t,{ref:e})):U.createElement(Vie,Fl({},t,{ref:e}))),F3=U.createContext({});function V3(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}const iH=typeof window<"u",rH=iH?U.useLayoutEffect:U.useEffect,mE=U.createContext(null);function H3(t,e){t.indexOf(e)===-1&&t.push(e)}function RM(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Bu=(t,e,n)=>n>e?e:n<t?t:n;let j3=()=>{};const Uc={},aH=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function sH(t){return typeof t=="object"&&t!==null}const oH=t=>/^0[^.\s]+$/u.test(t);function lH(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zo=t=>t,Gie=(t,e)=>n=>e(t(n)),Gx=(...t)=>t.reduce(Gie),cx=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class G3{constructor(){this.subscriptions=[]}add(e){return H3(this.subscriptions,e),()=>RM(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let a=0;a<r;a++){const s=this.subscriptions[a];s&&s(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ll=t=>t*1e3,qo=t=>t/1e3;function uH(t,e){return e?t*(1e3/e):0}const cH=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Wie=1e-7,qie=12;function Xie(t,e,n,i,r){let a,s,l=0;do s=e+(n-e)/2,a=cH(s,i,r)-t,a>0?n=s:e=s;while(Math.abs(a)>Wie&&++l<qie);return s}function Wx(t,e,n,i){if(t===e&&n===i)return Zo;const r=a=>Xie(a,0,1,t,n);return a=>a===0||a===1?a:cH(r(a),e,i)}const fH=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hH=t=>e=>1-t(1-e),dH=Wx(.33,1.53,.69,.99),W3=hH(dH),pH=fH(W3),mH=t=>(t*=2)<1?.5*W3(t):.5*(2-Math.pow(2,-10*(t-1))),q3=t=>1-Math.sin(Math.acos(t)),gH=hH(q3),vH=fH(q3),$ie=Wx(.42,0,1,1),Yie=Wx(0,0,.58,1),yH=Wx(.42,0,.58,1),Zie=t=>Array.isArray(t)&&typeof t[0]!="number",xH=t=>Array.isArray(t)&&typeof t[0]=="number",Kie={linear:Zo,easeIn:$ie,easeInOut:yH,easeOut:Yie,circIn:q3,circInOut:vH,circOut:gH,backIn:W3,backInOut:pH,backOut:dH,anticipate:mH},Qie=t=>typeof t=="string",Sz=t=>{if(xH(t)){j3(t.length===4);const[e,n,i,r]=t;return Wx(e,n,i,r)}else if(Qie(t))return Kie[t];return t},WS=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Jie(t,e){let n=new Set,i=new Set,r=!1,a=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){s.has(p)&&(h.schedule(p),t()),p(l)}const h={schedule:(p,g=!1,v=!1)=>{const _=v&&r?n:i;return g&&s.add(p),_.has(p)||_.add(p),p},cancel:p=>{i.delete(p),s.delete(p)},process:p=>{if(l=p,r){a=!0;return}r=!0,[n,i]=[i,n],n.forEach(c),n.clear(),r=!1,a&&(a=!1,h.process(p))}};return h}const ere=40;function bH(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=WS.reduce((R,P)=>(R[P]=Jie(a),R),{}),{setup:l,read:c,resolveKeyframes:h,preUpdate:p,update:g,preRender:v,render:x,postRender:_}=s,w=()=>{const R=Uc.useManualTiming?r.timestamp:performance.now();n=!1,Uc.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(R-r.timestamp,ere),1)),r.timestamp=R,r.isProcessing=!0,l.process(r),c.process(r),h.process(r),p.process(r),g.process(r),v.process(r),x.process(r),_.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(w))},S=()=>{n=!0,i=!0,r.isProcessing||t(w)};return{schedule:WS.reduce((R,P)=>{const L=s[P];return R[P]=(I,B=!1,D=!1)=>(n||S(),L.schedule(I,B,D)),R},{}),cancel:R=>{for(let P=0;P<WS.length;P++)s[WS[P]].cancel(R)},state:r,steps:s}}const{schedule:Ti,cancel:vh,state:wa,steps:YT}=bH(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zo,!0);let y1;function tre(){y1=void 0}const fs={now:()=>(y1===void 0&&fs.set(wa.isProcessing||Uc.useManualTiming?wa.timestamp:performance.now()),y1),set:t=>{y1=t,queueMicrotask(tre)}},_H=t=>e=>typeof e=="string"&&e.startsWith(t),SH=_H("--"),nre=_H("var(--"),X3=t=>nre(t)?ire.test(t.split("/*")[0].trim()):!1,ire=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Mz(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const tv={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fx={...tv,transform:t=>Bu(0,1,t)},qS={...tv,default:1},Fy=t=>Math.round(t*1e5)/1e5,$3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rre(t){return t==null}const are=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Y3=(t,e)=>n=>!!(typeof n=="string"&&are.test(n)&&n.startsWith(t)||e&&!rre(n)&&Object.prototype.hasOwnProperty.call(n,e)),MH=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,a,s,l]=i.match($3);return{[t]:parseFloat(r),[e]:parseFloat(a),[n]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},sre=t=>Bu(0,255,t),ZT={...tv,transform:t=>Math.round(sre(t))},Gd={test:Y3("rgb","red"),parse:MH("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+ZT.transform(t)+", "+ZT.transform(e)+", "+ZT.transform(n)+", "+Fy(fx.transform(i))+")"};function ore(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const gP={test:Y3("#"),parse:ore,transform:Gd.transform},qx=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qf=qx("deg"),Lu=qx("%"),Ft=qx("px"),lre=qx("vh"),ure=qx("vw"),wz={...Lu,parse:t=>Lu.parse(t)/100,transform:t=>Lu.transform(t*100)},dg={test:Y3("hsl","hue"),parse:MH("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Lu.transform(Fy(e))+", "+Lu.transform(Fy(n))+", "+Fy(fx.transform(i))+")"},Nr={test:t=>Gd.test(t)||gP.test(t)||dg.test(t),parse:t=>Gd.test(t)?Gd.parse(t):dg.test(t)?dg.parse(t):gP.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Gd.transform(t):dg.transform(t),getAnimatableNone:t=>{const e=Nr.parse(t);return e.alpha=0,Nr.transform(e)}},cre=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fre(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match($3))==null?void 0:e.length)||0)+(((n=t.match(cre))==null?void 0:n.length)||0)>0}const wH="number",EH="color",hre="var",dre="var(",Ez="${}",pre=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hx(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let a=0;const l=e.replace(pre,c=>(Nr.test(c)?(i.color.push(a),r.push(EH),n.push(Nr.parse(c))):c.startsWith(dre)?(i.var.push(a),r.push(hre),n.push(c)):(i.number.push(a),r.push(wH),n.push(parseFloat(c))),++a,Ez)).split(Ez);return{values:n,split:l,indexes:i,types:r}}function AH(t){return hx(t).values}function TH(t){const{split:e,types:n}=hx(t),i=e.length;return r=>{let a="";for(let s=0;s<i;s++)if(a+=e[s],r[s]!==void 0){const l=n[s];l===wH?a+=Fy(r[s]):l===EH?a+=Nr.transform(r[s]):a+=r[s]}return a}}const mre=t=>typeof t=="number"?0:Nr.test(t)?Nr.getAnimatableNone(t):t;function gre(t){const e=AH(t);return TH(t)(e.map(mre))}const Ul={test:fre,parse:AH,createTransformer:TH,getAnimatableNone:gre};function KT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function vre({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,a=0,s=0;if(!e)r=a=s=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=KT(c,l,t+1/3),a=KT(c,l,t),s=KT(c,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:i}}function PM(t,e){return n=>n>0?e:t}const ir=(t,e,n)=>t+(e-t)*n,QT=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},yre=[gP,Gd,dg],xre=t=>yre.find(e=>e.test(t));function Az(t){const e=xre(t);if(!e)return!1;let n=e.parse(t);return e===dg&&(n=vre(n)),n}const Tz=(t,e)=>{const n=Az(t),i=Az(e);if(!n||!i)return PM(t,e);const r={...n};return a=>(r.red=QT(n.red,i.red,a),r.green=QT(n.green,i.green,a),r.blue=QT(n.blue,i.blue,a),r.alpha=ir(n.alpha,i.alpha,a),Gd.transform(r))},vP=new Set(["none","hidden"]);function bre(t,e){return vP.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _re(t,e){return n=>ir(t,e,n)}function Z3(t){return typeof t=="number"?_re:typeof t=="string"?X3(t)?PM:Nr.test(t)?Tz:wre:Array.isArray(t)?CH:typeof t=="object"?Nr.test(t)?Tz:Sre:PM}function CH(t,e){const n=[...t],i=n.length,r=t.map((a,s)=>Z3(a)(a,e[s]));return a=>{for(let s=0;s<i;s++)n[s]=r[s](a);return n}}function Sre(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=Z3(t[r])(t[r],e[r]));return r=>{for(const a in i)n[a]=i[a](r);return n}}function Mre(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],s=t.indexes[a][i[a]],l=t.values[s]??0;n[r]=l,i[a]++}return n}const wre=(t,e)=>{const n=Ul.createTransformer(e),i=hx(t),r=hx(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?vP.has(t)&&!r.values.length||vP.has(e)&&!i.values.length?bre(t,e):Gx(CH(Mre(i,r),r.values),n):PM(t,e)};function RH(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ir(t,e,n):Z3(t)(t,e)}const Ere=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ti.update(e,n),stop:()=>vh(e),now:()=>wa.isProcessing?wa.timestamp:fs.now()}},PH=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let a=0;a<r;a++)i+=Math.round(t(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},OM=2e4;function K3(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<OM;)e+=n,i=t.next(e);return e>=OM?1/0:e}function Are(t,e=100,n){const i=n({...t,keyframes:[0,e]}),r=Math.min(K3(i),OM);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:qo(r)}}const Tre=5;function OH(t,e,n){const i=Math.max(e-Tre,0);return uH(n-t(i),e-i)}const hr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},JT=.001;function Cre({duration:t=hr.duration,bounce:e=hr.bounce,velocity:n=hr.velocity,mass:i=hr.mass}){let r,a,s=1-e;s=Bu(hr.minDamping,hr.maxDamping,s),t=Bu(hr.minDuration,hr.maxDuration,qo(t)),s<1?(r=h=>{const p=h*s,g=p*t,v=p-n,x=yP(h,s),_=Math.exp(-g);return JT-v/x*_},a=h=>{const g=h*s*t,v=g*n+n,x=Math.pow(s,2)*Math.pow(h,2)*t,_=Math.exp(-g),w=yP(Math.pow(h,2),s);return(-r(h)+JT>0?-1:1)*((v-x)*_)/w}):(r=h=>{const p=Math.exp(-h*t),g=(h-n)*t+1;return-JT+p*g},a=h=>{const p=Math.exp(-h*t),g=(n-h)*(t*t);return p*g});const l=5/t,c=Pre(r,a,l);if(t=Ll(t),isNaN(c))return{stiffness:hr.stiffness,damping:hr.damping,duration:t};{const h=Math.pow(c,2)*i;return{stiffness:h,damping:s*2*Math.sqrt(i*h),duration:t}}}const Rre=12;function Pre(t,e,n){let i=n;for(let r=1;r<Rre;r++)i=i-t(i)/e(i);return i}function yP(t,e){return t*Math.sqrt(1-e*e)}const Ore=["duration","bounce"],Dre=["stiffness","damping","mass"];function Cz(t,e){return e.some(n=>t[n]!==void 0)}function Ire(t){let e={velocity:hr.velocity,stiffness:hr.stiffness,damping:hr.damping,mass:hr.mass,isResolvedFromDuration:!1,...t};if(!Cz(t,Dre)&&Cz(t,Ore))if(e.velocity=0,t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,a=2*Bu(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:hr.mass,stiffness:r,damping:a}}else{const n=Cre({...t,velocity:0});e={...e,...n,mass:hr.mass},e.isResolvedFromDuration=!0}return e}function DM(t=hr.visualDuration,e=hr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:h,mass:p,duration:g,velocity:v,isResolvedFromDuration:x}=Ire({...n,velocity:-qo(n.velocity||0)}),_=v||0,w=h/(2*Math.sqrt(c*p)),S=s-a,M=qo(Math.sqrt(c/p)),T=Math.abs(S)<5;i||(i=T?hr.restSpeed.granular:hr.restSpeed.default),r||(r=T?hr.restDelta.granular:hr.restDelta.default);let R;if(w<1){const L=yP(M,w);R=I=>{const B=Math.exp(-w*M*I);return s-B*((_+w*M*S)/L*Math.sin(L*I)+S*Math.cos(L*I))}}else if(w===1)R=L=>s-Math.exp(-M*L)*(S+(_+M*S)*L);else{const L=M*Math.sqrt(w*w-1);R=I=>{const B=Math.exp(-w*M*I),D=Math.min(L*I,300);return s-B*((_+w*M*S)*Math.sinh(D)+L*S*Math.cosh(D))/L}}const P={calculatedDuration:x&&g||null,next:L=>{const I=R(L);if(x)l.done=L>=g;else{let B=L===0?_:0;w<1&&(B=L===0?Ll(_):OH(R,L,I));const D=Math.abs(B)<=i,z=Math.abs(s-I)<=r;l.done=D&&z}return l.value=l.done?s:I,l},toString:()=>{const L=Math.min(K3(P),OM),I=PH(B=>P.next(L*B).value,L,30);return L+"ms "+I},toTransition:()=>{}};return P}DM.applyToOptions=t=>{const e=Are(t,100,DM);return t.ease=e.ease,t.duration=Ll(e.duration),t.type="keyframes",t};function xP({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:h=.5,restSpeed:p}){const g=t[0],v={done:!1,value:g},x=D=>l!==void 0&&D<l||c!==void 0&&D>c,_=D=>l===void 0?c:c===void 0||Math.abs(l-D)<Math.abs(c-D)?l:c;let w=n*e;const S=g+w,M=s===void 0?S:s(S);M!==S&&(w=M-g);const T=D=>-w*Math.exp(-D/i),R=D=>M+T(D),P=D=>{const z=T(D),W=R(D);v.done=Math.abs(z)<=h,v.value=v.done?M:W};let L,I;const B=D=>{x(v.value)&&(L=D,I=DM({keyframes:[v.value,_(v.value)],velocity:OH(R,D,v.value),damping:r,stiffness:a,restDelta:h,restSpeed:p}))};return B(0),{calculatedDuration:null,next:D=>{let z=!1;return!I&&L===void 0&&(z=!0,P(D),B(D)),L!==void 0&&D>=L?I.next(D-L):(!z&&P(D),v)}}}function Nre(t,e,n){const i=[],r=n||Uc.mix||RH,a=t.length-1;for(let s=0;s<a;s++){let l=r(t[s],t[s+1]);if(e){const c=Array.isArray(e)?e[s]||Zo:e;l=Gx(c,l)}i.push(l)}return i}function Lre(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const a=t.length;if(j3(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Nre(e,i,r),c=l.length,h=p=>{if(s&&p<t[0])return e[0];let g=0;if(c>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const v=cx(t[g],t[g+1],p);return l[g](v)};return n?p=>h(Bu(t[0],t[a-1],p)):h}function Ure(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=cx(0,e,i);t.push(ir(n,1,r))}}function zre(t){const e=[0];return Ure(e,t.length-1),e}function Bre(t,e){return t.map(n=>n*e)}function kre(t,e){return t.map(()=>e||yH).splice(0,t.length-1)}function Vy({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=Zie(i)?i.map(Sz):Sz(i),a={done:!1,value:e[0]},s=Bre(n&&n.length===e.length?n:zre(e),t),l=Lre(s,e,{ease:Array.isArray(r)?r:kre(e,r)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const Fre=t=>t!==null;function Q3(t,{repeat:e,repeatType:n="loop"},i,r=1){const a=t.filter(Fre),l=r<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||i===void 0?a[l]:i}const Vre={decay:xP,inertia:xP,tween:Vy,keyframes:Vy,spring:DM};function DH(t){typeof t.type=="string"&&(t.type=Vre[t.type])}class J3{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Hre=t=>t/100;class eD extends J3{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:n}=this.options;n&&n.updatedAt!==fs.now()&&this.tick(fs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;DH(e);const{type:n=Vy,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:s=0}=e;let{keyframes:l}=e;const c=n||Vy;c!==Vy&&typeof l[0]!="number"&&(this.mixKeyframes=Gx(Hre,RH(l[0],l[1])),l=[0,100]);const h=c({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-s})),h.calculatedDuration===null&&(h.calculatedDuration=K3(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:x,type:_,onUpdate:w,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const M=this.currentTime-h*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?M<0:M>r;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let R=this.currentTime,P=i;if(g){const D=Math.min(this.currentTime,r)/l;let z=Math.floor(D),W=D%1;!W&&D>=1&&(W=1),W===1&&z--,z=Math.min(z,g+1),!!(z%2)&&(v==="reverse"?(W=1-W,x&&(W-=x/l)):v==="mirror"&&(P=s)),R=Bu(0,1,W)*l}const L=T?{done:!1,value:p[0]}:P.next(R);a&&(L.value=a(L.value));let{done:I}=L;!T&&c!==null&&(I=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return B&&_!==xP&&(L.value=Q3(p,this.options,S,this.speed)),w&&w(L.value),B&&this.finish(),L}then(e,n){return this.finished.then(e,n)}get duration(){return qo(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+qo(e)}get time(){return qo(this.currentTime)}set time(e){var n;e=Ll(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fs.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=qo(this.currentTime))}play(){var r,a;if(this.isStopped)return;const{driver:e=Ere,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),(a=(r=this.options).onPlay)==null||a.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function jre(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Wd=t=>t*180/Math.PI,bP=t=>{const e=Wd(Math.atan2(t[1],t[0]));return _P(e)},Gre={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:bP,rotateZ:bP,skewX:t=>Wd(Math.atan(t[1])),skewY:t=>Wd(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},_P=t=>(t=t%360,t<0&&(t+=360),t),Rz=bP,Pz=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Oz=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Wre={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Pz,scaleY:Oz,scale:t=>(Pz(t)+Oz(t))/2,rotateX:t=>_P(Wd(Math.atan2(t[6],t[5]))),rotateY:t=>_P(Wd(Math.atan2(-t[2],t[0]))),rotateZ:Rz,rotate:Rz,skewX:t=>Wd(Math.atan(t[4])),skewY:t=>Wd(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function SP(t){return t.includes("scale")?1:0}function MP(t,e){if(!t||t==="none")return SP(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=Wre,r=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Gre,r=l}if(!r)return SP(e);const a=i[e],s=r[1].split(",").map(Xre);return typeof a=="function"?a(s):s[a]}const qre=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return MP(n,e)};function Xre(t){return parseFloat(t.trim())}const nv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],iv=new Set(nv),Dz=t=>t===tv||t===Ft,$re=new Set(["x","y","z"]),Yre=nv.filter(t=>!$re.has(t));function Zre(t){const e=[];return Yre.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const uh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>MP(e,"x"),y:(t,{transform:e})=>MP(e,"y")};uh.translateX=uh.x;uh.translateY=uh.y;const Jd=new Set;let wP=!1,EP=!1,AP=!1;function IH(){if(EP){const t=Array.from(Jd).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=Zre(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([a,s])=>{var l;(l=i.getValue(a))==null||l.set(s)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}EP=!1,wP=!1,Jd.forEach(t=>t.complete(AP)),Jd.clear()}function NH(){Jd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(EP=!0)})}function Kre(){AP=!0,NH(),IH(),AP=!1}class tD{constructor(e,n,i,r,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Jd.add(this),wP||(wP=!0,Ti.read(NH),Ti.resolveKeyframes(IH))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;if(e[0]===null){const a=r==null?void 0:r.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const l=i.readValue(n,s);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=s),r&&a===void 0&&r.set(e[0])}jre(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Jd.delete(this)}cancel(){this.state==="scheduled"&&(Jd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Qre=t=>t.startsWith("--");function Jre(t,e,n){Qre(e)?t.style.setProperty(e,n):t.style[e]=n}const eae={};function LH(t,e){const n=lH(t);return()=>eae[e]??n()}const tae=LH(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),UH=LH(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sy=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Iz={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sy([0,.65,.55,1]),circOut:Sy([.55,0,1,.45]),backIn:Sy([.31,.01,.66,-.59]),backOut:Sy([.33,1.53,.69,.99])};function zH(t,e){if(t)return typeof t=="function"?UH()?PH(t,e):"ease-out":xH(t)?Sy(t):Array.isArray(t)?t.map(n=>zH(n,e)||Iz.easeOut):Iz[t]}function nae(t,e,n,{delay:i=0,duration:r=300,repeat:a=0,repeatType:s="loop",ease:l="easeOut",times:c}={},h=void 0){const p={[e]:n};c&&(p.offset=c);const g=zH(l,r);Array.isArray(g)&&(p.easing=g);const v={delay:i,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),t.animate(p,v)}function BH(t){return typeof t=="function"&&"applyToOptions"in t}function iae({type:t,...e}){return BH(t)&&UH()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class kH extends J3{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:r,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,j3(typeof e.type!="string");const h=iae(e);this.animation=nae(n,i,r,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=Q3(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(p):Jre(n,i,p),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,i,r;const e=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((r=(i=this.animation).commitStyles)==null||r.call(i))}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return qo(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+qo(e)}get time(){return qo(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ll(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&tae()?(this.animation.timeline=e,Zo):n(this)}}const FH={anticipate:mH,backInOut:pH,circInOut:vH};function rae(t){return t in FH}function aae(t){typeof t.ease=="string"&&rae(t.ease)&&(t.ease=FH[t.ease])}const eC=10;class sae extends kH{constructor(e){aae(e),DH(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:r,element:a,...s}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new eD({...s,autoplay:!1}),c=Math.max(eC,fs.now()-this.startTime),h=Bu(0,eC,c-eC);n.setWithVelocity(l.sample(Math.max(0,c-h)).value,l.sample(c).value,h),l.stop()}}const Nz=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ul.test(t)||t==="0")&&!t.startsWith("url("));function oae(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function lae(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=Nz(r,e),l=Nz(a,e);return!s||!l?!1:oae(t)||(n==="spring"||BH(n))&&i}function TP(t){t.duration=0,t.type="keyframes"}const uae=new Set(["opacity","clipPath","filter","transform"]),cae=lH(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fae(t){var p;const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:a,type:s}=t;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:h}=e.owner.getProps();return cae()&&n&&uae.has(n)&&(n!=="transform"||!h)&&!c&&!i&&r!=="mirror"&&a!==0&&s!=="inertia"}const hae=40;class dae extends J3{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:s="loop",keyframes:l,name:c,motionValue:h,element:p,...g}){var _;super(),this.stop=()=>{var w,S;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=fs.now();const v={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:a,repeatType:s,name:c,motionValue:h,element:p,...g},x=(p==null?void 0:p.KeyframeResolver)||tD;this.keyframeResolver=new x(l,(w,S,M)=>this.onKeyframesResolved(w,S,v,!M),c,h,p),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,n,i,r){var S,M;this.keyframeResolver=void 0;const{name:a,type:s,velocity:l,delay:c,isHandoff:h,onUpdate:p}=i;this.resolvedAt=fs.now(),lae(e,a,s,l)||((Uc.instantAnimations||!c)&&(p==null||p(Q3(e,i,n))),e[0]=e[e.length-1],TP(i),i.repeat=0);const v={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>hae?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},x=!h&&fae(v),_=(M=(S=v.motionValue)==null?void 0:S.owner)==null?void 0:M.current,w=x?new sae({...v,element:_}):new eD(v);w.finished.then(()=>{this.notifyFinished()}).catch(Zo),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Kre()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function VH(t,e,n,i=0,r=1){const a=Array.from(t).sort((h,p)=>h.sortNodePosition(p)).indexOf(e),s=t.size,l=(s-1)*i;return typeof n=="function"?n(a,s):r===1?a*i:l-a*i}const pae=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mae(t){const e=pae.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function HH(t,e,n=1){const[i,r]=mae(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const s=a.trim();return aH(s)?parseFloat(s):s}return X3(r)?HH(r,e,n+1):r}const gae={type:"spring",stiffness:500,damping:25,restSpeed:10},vae=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),yae={type:"keyframes",duration:.8},xae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bae=(t,{keyframes:e})=>e.length>2?yae:iv.has(t)?t.startsWith("scale")?vae(e[1]):gae:xae,_ae=t=>t!==null;function Sae(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(_ae),a=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[a]}function jH(t,e){if(t!=null&&t.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function nD(t,e){const n=(t==null?void 0:t[e])??(t==null?void 0:t.default)??t;return n!==t?jH(n,t):n}function Mae({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:h,...p}){return!!Object.keys(p).length}const iD=(t,e,n,i={},r,a)=>s=>{const l=nD(i,t)||{},c=l.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Ll(c);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:v=>{e.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:r};Mae(l)||Object.assign(p,bae(t,p)),p.duration&&(p.duration=Ll(p.duration)),p.repeatDelay&&(p.repeatDelay=Ll(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(TP(p),p.delay===0&&(g=!0)),(Uc.instantAnimations||Uc.skipAnimations||r!=null&&r.shouldSkipAnimations)&&(g=!0,TP(p),p.delay=0),p.allowFlatten=!l.type&&!l.ease,g&&!a&&e.get()!==void 0){const v=Sae(p.keyframes,l);if(v!==void 0){Ti.update(()=>{p.onUpdate(v),p.onComplete()});return}}return l.isSync?new eD(p):new dae(p)};function Lz(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function rD(t,e,n,i){if(typeof e=="function"){const[r,a]=Lz(i);e=e(n!==void 0?n:t.custom,r,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,a]=Lz(i);e=e(n!==void 0?n:t.custom,r,a)}return e}function Eg(t,e,n){const i=t.getProps();return rD(i,e,n!==void 0?n:i.custom,t)}const GH=new Set(["width","height","top","left","right","bottom",...nv]),Uz=30,wae=t=>!isNaN(parseFloat(t));class Eae{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const r=fs.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=fs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wae(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new G3);const i=this.events[e].add(n);return e==="change"?()=>{i(),Ti.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Uz)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Uz);return uH(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zg(t,e){return new Eae(t,e)}const CP=t=>Array.isArray(t);function Aae(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zg(n))}function Tae(t){return CP(t)?t[t.length-1]||0:t}function Cae(t,e){const n=Eg(t,e);let{transitionEnd:i={},transition:r={},...a}=n||{};a={...a,...i};for(const s in a){const l=Tae(a[s]);Aae(t,s,l)}}const qa=t=>!!(t&&t.getVelocity);function Rae(t){return!!(qa(t)&&t.add)}function RP(t,e){const n=t.getValue("willChange");if(Rae(n))return n.add(e);if(!n&&Uc.WillChange){const i=new Uc.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function aD(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Pae="framerAppearId",WH="data-"+aD(Pae);function qH(t){return t.props[WH]}function Oae({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function XH(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:a,transitionEnd:s,...l}=e;const c=t.getDefaultTransition();a=a?jH(a,c):c;const h=a==null?void 0:a.reduceMotion;i&&(a=i);const p=[],g=r&&t.animationState&&t.animationState.getState()[r];for(const v in l){const x=t.getValue(v,t.latestValues[v]??null),_=l[v];if(_===void 0||g&&Oae(g,v))continue;const w={delay:n,...nD(a||{},v)},S=x.get();if(S!==void 0&&!x.isAnimating&&!Array.isArray(_)&&_===S&&!w.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const P=qH(t);if(P){const L=window.MotionHandoffAnimation(P,v,Ti);L!==null&&(w.startTime=L,M=!0)}}RP(t,v);const T=h??t.shouldReduceMotion;x.start(iD(v,x,_,T&&GH.has(v)?{type:!1}:w,t,M));const R=x.animation;R&&p.push(R)}if(s){const v=()=>Ti.update(()=>{s&&Cae(t,s)});p.length?Promise.all(p).then(v):v()}return p}function PP(t,e,n={}){var c;const i=Eg(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const a=i?()=>Promise.all(XH(t,i,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=r;return Dae(t,e,h,p,g,v,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[h,p]=l==="beforeChildren"?[a,s]:[s,a];return h().then(()=>p())}else return Promise.all([a(),s(n.delay)])}function Dae(t,e,n=0,i=0,r=0,a=1,s){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(PP(c,e,{...s,delay:n+(typeof i=="function"?0:i)+VH(t.variantChildren,c,i,r,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Iae(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>PP(t,a,n));i=Promise.all(r)}else if(typeof e=="string")i=PP(t,e,n);else{const r=typeof e=="function"?Eg(t,e,n.custom):e;i=Promise.all(XH(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const Nae={test:t=>t==="auto",parse:t=>t},$H=t=>e=>e.test(t),YH=[tv,Ft,Lu,Qf,ure,lre,Nae],zz=t=>YH.find($H(t));function Lae(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oH(t):!0}const Uae=new Set(["brightness","contrast","saturate","opacity"]);function zae(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match($3)||[];if(!i)return t;const r=n.replace(i,"");let a=Uae.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+r+")"}const Bae=/\b([a-z-]*)\(.*?\)/gu,OP={...Ul,getAnimatableNone:t=>{const e=t.match(Bae);return e?e.map(zae).join(" "):t}},DP={...Ul,getAnimatableNone:t=>{const e=Ul.parse(t);return Ul.createTransformer(t)(e.map(i=>typeof i=="number"?0:typeof i=="object"?{...i,alpha:1}:i))}},Bz={...tv,transform:Math.round},kae={rotate:Qf,rotateX:Qf,rotateY:Qf,rotateZ:Qf,scale:qS,scaleX:qS,scaleY:qS,scaleZ:qS,skew:Qf,skewX:Qf,skewY:Qf,distance:Ft,translateX:Ft,translateY:Ft,translateZ:Ft,x:Ft,y:Ft,z:Ft,perspective:Ft,transformPerspective:Ft,opacity:fx,originX:wz,originY:wz,originZ:Ft},sD={borderWidth:Ft,borderTopWidth:Ft,borderRightWidth:Ft,borderBottomWidth:Ft,borderLeftWidth:Ft,borderRadius:Ft,borderTopLeftRadius:Ft,borderTopRightRadius:Ft,borderBottomRightRadius:Ft,borderBottomLeftRadius:Ft,width:Ft,maxWidth:Ft,height:Ft,maxHeight:Ft,top:Ft,right:Ft,bottom:Ft,left:Ft,inset:Ft,insetBlock:Ft,insetBlockStart:Ft,insetBlockEnd:Ft,insetInline:Ft,insetInlineStart:Ft,insetInlineEnd:Ft,padding:Ft,paddingTop:Ft,paddingRight:Ft,paddingBottom:Ft,paddingLeft:Ft,paddingBlock:Ft,paddingBlockStart:Ft,paddingBlockEnd:Ft,paddingInline:Ft,paddingInlineStart:Ft,paddingInlineEnd:Ft,margin:Ft,marginTop:Ft,marginRight:Ft,marginBottom:Ft,marginLeft:Ft,marginBlock:Ft,marginBlockStart:Ft,marginBlockEnd:Ft,marginInline:Ft,marginInlineStart:Ft,marginInlineEnd:Ft,fontSize:Ft,backgroundPositionX:Ft,backgroundPositionY:Ft,...kae,zIndex:Bz,fillOpacity:fx,strokeOpacity:fx,numOctaves:Bz},Fae={...sD,color:Nr,backgroundColor:Nr,outlineColor:Nr,fill:Nr,stroke:Nr,borderColor:Nr,borderTopColor:Nr,borderRightColor:Nr,borderBottomColor:Nr,borderLeftColor:Nr,filter:OP,WebkitFilter:OP,mask:DP,WebkitMask:DP},ZH=t=>Fae[t],Vae=new Set([OP,DP]);function KH(t,e){let n=ZH(t);return Vae.has(n)||(n=Ul),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Hae=new Set(["auto","none","0"]);function jae(t,e,n){let i=0,r;for(;i<t.length&&!r;){const a=t[i];typeof a=="string"&&!Hae.has(a)&&hx(a).values.length&&(r=t[i]),i++}if(r&&n)for(const a of e)t[a]=KH(n,r)}class Gae extends tD{constructor(e,n,i,r,a){super(e,n,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let g=e[p];if(typeof g=="string"&&(g=g.trim(),X3(g))){const v=HH(g,n.current);v!==void 0&&(e[p]=v),p===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!GH.has(i)||e.length!==2)return;const[r,a]=e,s=zz(r),l=zz(a),c=Mz(r),h=Mz(a);if(c!==h&&uh[i]){this.needsMeasurement=!0;return}if(s!==l)if(Dz(s)&&Dz(l))for(let p=0;p<e.length;p++){const g=e[p];typeof g=="string"&&(e[p]=parseFloat(g))}else uh[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||Lae(e[r]))&&i.push(r);i.length&&jae(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=uh[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,s=i[a];i[a]=uh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,h])=>{e.getValue(c).set(h)}),this.resolveNoneKeyframes()}}const Wae=new Set(["opacity","clipPath","filter","transform"]);function QH(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const r=(n==null?void 0:n[t])??i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t).filter(i=>i!=null)}const JH=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function IP(t){return sH(t)&&"offsetHeight"in t}const{schedule:oD}=bH(queueMicrotask,!1),Tl={x:!1,y:!1};function e2(){return Tl.x||Tl.y}function qae(t){return t==="x"||t==="y"?Tl[t]?null:(Tl[t]=!0,()=>{Tl[t]=!1}):Tl.x||Tl.y?null:(Tl.x=Tl.y=!0,()=>{Tl.x=Tl.y=!1})}function t2(t,e){const n=QH(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function Xae(t){return!(t.pointerType==="touch"||e2())}function $ae(t,e,n={}){const[i,r,a]=t2(t,n);return i.forEach(s=>{let l=!1,c=!1,h;const p=()=>{s.removeEventListener("pointerleave",_)},g=S=>{h&&(h(S),h=void 0),p()},v=S=>{l=!1,window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",v),c&&(c=!1,g(S))},x=()=>{l=!0,window.addEventListener("pointerup",v,r),window.addEventListener("pointercancel",v,r)},_=S=>{if(S.pointerType!=="touch"){if(l){c=!0;return}g(S)}},w=S=>{if(!Xae(S))return;c=!1;const M=e(s,S);typeof M=="function"&&(h=M,s.addEventListener("pointerleave",_,r))};s.addEventListener("pointerenter",w,r),s.addEventListener("pointerdown",x,r)}),a}const n2=(t,e)=>e?t===e?!0:n2(t,e.parentElement):!1,lD=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Yae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Zae(t){return Yae.has(t.tagName)||t.isContentEditable===!0}const Kae=new Set(["INPUT","SELECT","TEXTAREA"]);function Qae(t){return Kae.has(t.tagName)||t.isContentEditable===!0}const x1=new WeakSet;function kz(t){return e=>{e.key==="Enter"&&t(e)}}function tC(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Jae=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=kz(()=>{if(x1.has(n))return;tC(n,"down");const r=kz(()=>{tC(n,"up")}),a=()=>tC(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Fz(t){return lD(t)&&!e2()}const Vz=new WeakSet;function ese(t,e,n={}){const[i,r,a]=t2(t,n),s=l=>{const c=l.currentTarget;if(!Fz(l)||Vz.has(l))return;x1.add(c),n.stopPropagation&&Vz.add(l);const h=e(c,l),p=(x,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),x1.has(c)&&x1.delete(c),Fz(x)&&typeof h=="function"&&h(x,{success:_})},g=x=>{p(x,c===window||c===document||n.useGlobalTarget||n2(c,x.target))},v=x=>{p(x,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",v,r)};return i.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",s,r),IP(l)&&(l.addEventListener("focus",h=>Jae(h,r)),!Zae(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function uD(t){return sH(t)&&"ownerSVGElement"in t}const b1=new WeakMap;let Jf;const i2=(t,e,n)=>(i,r)=>r&&r[0]?r[0][t+"Size"]:uD(i)&&"getBBox"in i?i.getBBox()[e]:i[n],tse=i2("inline","width","offsetWidth"),nse=i2("block","height","offsetHeight");function ise({target:t,borderBoxSize:e}){var n;(n=b1.get(t))==null||n.forEach(i=>{i(t,{get width(){return tse(t,e)},get height(){return nse(t,e)}})})}function rse(t){t.forEach(ise)}function ase(){typeof ResizeObserver>"u"||(Jf=new ResizeObserver(rse))}function sse(t,e){Jf||ase();const n=QH(t);return n.forEach(i=>{let r=b1.get(i);r||(r=new Set,b1.set(i,r)),r.add(e),Jf==null||Jf.observe(i)}),()=>{n.forEach(i=>{const r=b1.get(i);r==null||r.delete(e),r!=null&&r.size||Jf==null||Jf.unobserve(i)})}}const _1=new Set;let pg;function ose(){pg=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};_1.forEach(e=>e(t))},window.addEventListener("resize",pg)}function lse(t){return _1.add(t),pg||ose(),()=>{_1.delete(t),!_1.size&&typeof pg=="function"&&(window.removeEventListener("resize",pg),pg=void 0)}}function Hz(t,e){return typeof t=="function"?lse(t):sse(t,e)}function use(t){return uD(t)&&t.tagName==="svg"}const cse=[...YH,Nr,Ul],fse=t=>cse.find($H(t)),jz=()=>({translate:0,scale:1,origin:0,originPoint:0}),mg=()=>({x:jz(),y:jz()}),Gz=()=>({min:0,max:0}),Vr=()=>({x:Gz(),y:Gz()}),hse=new WeakMap;function gE(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function dx(t){return typeof t=="string"||Array.isArray(t)}const cD=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fD=["initial",...cD];function vE(t){return gE(t.animate)||fD.some(e=>dx(t[e]))}function r2(t){return!!(vE(t)||t.variants)}function dse(t,e,n){for(const i in e){const r=e[i],a=n[i];if(qa(r))t.addValue(i,r);else if(qa(a))t.addValue(i,zg(r,{owner:t}));else if(a!==r)if(t.hasValue(i)){const s=t.getValue(i);s.liveStyle===!0?s.jump(r):s.hasAnimated||s.set(r)}else{const s=t.getStaticValue(i);t.addValue(i,zg(s!==void 0?s:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const NP={current:null},a2={current:!1},pse=typeof window<"u";function mse(){if(a2.current=!0,!!pse)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>NP.current=t.matches;t.addEventListener("change",e),e()}else NP.current=!1}const Wz=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let IM={};function s2(t){IM=t}function gse(){return IM}class vse{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,skipAnimations:a,blockInitialAnimation:s,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=tD,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=fs.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ti.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=a,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=vE(n),this.isVariantNode=r2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const _=v[x];h[x]!==void 0&&qa(_)&&_.set(h[x])}}mount(e){var n,i;if(this.hasBeenMounted)for(const r in this.initialValues)(n=this.values.get(r))==null||n.jump(this.initialValues[r]),this.latestValues[r]=this.initialValues[r];this.current=e,hse.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(a2.current||mse(),this.shouldReduceMotion=NP.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var e;this.projection&&this.projection.unmount(),vh(this.notifyUpdate),vh(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&Wae.has(e)&&this.current instanceof HTMLElement){const{factory:s,keyframes:l,times:c,ease:h,duration:p}=n.accelerate,g=new kH({element:this.current,name:e,keyframes:l,times:c,ease:h,duration:Ll(p)}),v=s(g);this.valueSubscriptions.set(e,()=>{v(),g.cancel()});return}const i=iv.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Ti.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in IM){const n=IM[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Wz.length;i++){const r=Wz[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,s=e[a];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=dse(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=zg(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(aH(i)||oH(i))?i=parseFloat(i):!fse(i)&&Ul.test(n)&&(i=KH(e,n)),this.setBaseTarget(e,qa(i)?i.get():i)),qa(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const s=rD(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);s&&(i=s[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!qa(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new G3),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){oD.render(this.render)}}class o2 extends vse{constructor(){super(...arguments),this.KeyframeResolver=Gae}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qa(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class wh{constructor(e){this.isMounted=!1,this.node=e}update(){}}function l2({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function yse({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function xse(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function nC(t){return t===void 0||t===1}function LP({scale:t,scaleX:e,scaleY:n}){return!nC(t)||!nC(e)||!nC(n)}function Id(t){return LP(t)||u2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function u2(t){return qz(t.x)||qz(t.y)}function qz(t){return t&&t!=="0%"}function NM(t,e,n){const i=t-n,r=e*i;return n+r}function Xz(t,e,n,i,r){return r!==void 0&&(t=NM(t,r,i)),NM(t,n,i)+e}function UP(t,e=0,n=1,i,r){t.min=Xz(t.min,e,n,i,r),t.max=Xz(t.max,e,n,i,r)}function c2(t,{x:e,y:n}){UP(t.x,e.translate,e.scale,e.originPoint),UP(t.y,n.translate,n.scale,n.originPoint)}const $z=.999999999999,Yz=1.0000000000001;function bse(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let a,s;for(let l=0;l<r;l++){a=n[l],s=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&vg(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,c2(t,s)),i&&Id(a.latestValues)&&vg(t,a.latestValues))}e.x<Yz&&e.x>$z&&(e.x=1),e.y<Yz&&e.y>$z&&(e.y=1)}function gg(t,e){t.min=t.min+e,t.max=t.max+e}function Zz(t,e,n,i,r=.5){const a=ir(t.min,t.max,r);UP(t,e,n,a,i)}function vg(t,e){Zz(t.x,e.x,e.scaleX,e.scale,e.originX),Zz(t.y,e.y,e.scaleY,e.scale,e.originY)}function f2(t,e){return l2(xse(t.getBoundingClientRect(),e))}function _se(t,e,n){const i=f2(t,n),{scroll:r}=e;return r&&(gg(i.x,r.offset.x),gg(i.y,r.offset.y)),i}const Sse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Mse=nv.length;function wse(t,e,n){let i="",r=!0;for(let a=0;a<Mse;a++){const s=nv[a],l=t[s];if(l===void 0)continue;let c=!0;if(typeof l=="number")c=l===(s.startsWith("scale")?1:0);else{const h=parseFloat(l);c=s.startsWith("scale")?h===1:h===0}if(!c||n){const h=JH(l,sD[s]);if(!c){r=!1;const p=Sse[s]||s;i+=`${p}(${h}) `}n&&(e[s]=h)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function hD(t,e,n){const{style:i,vars:r,transformOrigin:a}=t;let s=!1,l=!1;for(const c in e){const h=e[c];if(iv.has(c)){s=!0;continue}else if(SH(c)){r[c]=h;continue}else{const p=JH(h,sD[c]);c.startsWith("origin")?(l=!0,a[c]=p):i[c]=p}}if(e.transform||(s||n?i.transform=wse(e,t.transform,n):i.transform&&(i.transform="none")),l){const{originX:c="50%",originY:h="50%",originZ:p=0}=a;i.transformOrigin=`${c} ${h} ${p}`}}function h2(t,{style:e,vars:n},i,r){const a=t.style;let s;for(s in e)a[s]=e[s];r==null||r.applyProjectionStyles(a,i);for(s in n)a.setProperty(s,n[s])}function Kz(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const uy={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ft.test(t))t=parseFloat(t);else return t;const n=Kz(t,e.target.x),i=Kz(t,e.target.y);return`${n}% ${i}%`}},Ese={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Ul.parse(t);if(r.length>5)return i;const a=Ul.createTransformer(t),s=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;r[0+s]/=l,r[1+s]/=c;const h=ir(l,c,.5);return typeof r[2+s]=="number"&&(r[2+s]/=h),typeof r[3+s]=="number"&&(r[3+s]/=h),a(r)}},zP={borderRadius:{...uy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:uy,borderTopRightRadius:uy,borderBottomLeftRadius:uy,borderBottomRightRadius:uy,boxShadow:Ese};function d2(t,{layout:e,layoutId:n}){return iv.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!zP[t]||t==="opacity")}function dD(t,e,n){var s;const i=t.style,r=e==null?void 0:e.style,a={};if(!i)return a;for(const l in i)(qa(i[l])||r&&qa(r[l])||d2(l,t)||((s=n==null?void 0:n.getValue(l))==null?void 0:s.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function Ase(t){return window.getComputedStyle(t)}class Tse extends o2{constructor(){super(...arguments),this.type="html",this.renderInstance=h2}readValueFromInstance(e,n){var i;if(iv.has(n))return(i=this.projection)!=null&&i.isProjecting?SP(n):qre(e,n);{const r=Ase(e),a=(SH(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return f2(e,n)}build(e,n,i){hD(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return dD(e,n,i)}}const Cse={offset:"stroke-dashoffset",array:"stroke-dasharray"},Rse={offset:"strokeDashoffset",array:"strokeDasharray"};function Pse(t,e,n=1,i=0,r=!0){t.pathLength=1;const a=r?Cse:Rse;t[a.offset]=`${-i}`,t[a.array]=`${e} ${n}`}const Ose=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function p2(t,{attrX:e,attrY:n,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:s=0,...l},c,h,p){if(hD(t,l,h),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox);for(const x of Ose)g[x]!==void 0&&(v[x]=g[x],delete g[x]);e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),i!==void 0&&(g.scale=i),r!==void 0&&Pse(g,r,a,s,!1)}const m2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),g2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Dse(t,e,n,i){h2(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(m2.has(r)?r:aD(r),e.attrs[r])}function v2(t,e,n){const i=dD(t,e,n);for(const r in t)if(qa(t[r])||qa(e[r])){const a=nv.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=t[r]}return i}class Ise extends o2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(iv.has(n)){const i=ZH(n);return i&&i.default||0}return n=m2.has(n)?n:aD(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return v2(e,n,i)}build(e,n,i){p2(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,r){Dse(e,n,i,r)}mount(e){this.isSVGTag=g2(e.tagName),super.mount(e)}}const Nse=fD.length;function y2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?y2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Nse;n++){const i=fD[n],r=t.props[i];(dx(r)||r===!1)&&(e[i]=r)}return e}function x2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const Lse=[...cD].reverse(),Use=cD.length;function zse(t){return e=>Promise.all(e.map(({animation:n,options:i})=>Iae(t,n,i)))}function Bse(t){let e=zse(t),n=Qz(),i=!0;const r=c=>(h,p)=>{var v;const g=Eg(t,p,c==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:x,transitionEnd:_,...w}=g;h={...h,...w,..._}}return h};function a(c){e=c(t)}function s(c){const{props:h}=t,p=y2(t.parent)||{},g=[],v=new Set;let x={},_=1/0;for(let S=0;S<Use;S++){const M=Lse[S],T=n[M],R=h[M]!==void 0?h[M]:p[M],P=dx(R),L=M===c?T.isActive:null;L===!1&&(_=S);let I=R===p[M]&&R!==h[M]&&P;if(I&&i&&t.manuallyAnimateOnMount&&(I=!1),T.protectedKeys={...x},!T.isActive&&L===null||!R&&!T.prevProp||gE(R)||typeof R=="boolean")continue;if(M==="exit"&&T.isActive&&L!==!0){T.prevResolvedValues&&(x={...x,...T.prevResolvedValues});continue}const B=kse(T.prevProp,R);let D=B||M===c&&T.isActive&&!I&&P||S>_&&P,z=!1;const W=Array.isArray(R)?R:[R];let j=W.reduce(r(M),{});L===!1&&(j={});const{prevResolvedValues:G={}}=T,J={...G,...j},te=K=>{D=!0,v.has(K)&&(z=!0,v.delete(K)),T.needsAnimating[K]=!0;const pe=t.getValue(K);pe&&(pe.liveStyle=!1)};for(const K in J){const pe=j[K],de=G[K];if(x.hasOwnProperty(K))continue;let _e=!1;CP(pe)&&CP(de)?_e=!x2(pe,de):_e=pe!==de,_e?pe!=null?te(K):v.add(K):pe!==void 0&&v.has(K)?te(K):T.protectedKeys[K]=!0}T.prevProp=R,T.prevResolvedValues=j,T.isActive&&(x={...x,...j}),i&&t.blockInitialAnimation&&(D=!1);const ie=I&&B;D&&(!ie||z)&&g.push(...W.map(K=>{const pe={type:M};if(typeof K=="string"&&i&&!ie&&t.manuallyAnimateOnMount&&t.parent){const{parent:de}=t,_e=Eg(de,K);if(de.enteringChildren&&_e){const{delayChildren:Y}=_e.transition||{};pe.delay=VH(de.enteringChildren,t,Y)}}return{animation:K,options:pe}}))}if(v.size){const S={};if(typeof h.initial!="boolean"){const M=Eg(t,Array.isArray(h.initial)?h.initial[0]:h.initial);M&&M.transition&&(S.transition=M.transition)}v.forEach(M=>{const T=t.getBaseTarget(M),R=t.getValue(M);R&&(R.liveStyle=!0),S[M]=T??null}),g.push({animation:S})}let w=!!g.length;return i&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),i=!1,w?e(g):Promise.resolve()}function l(c,h){var g;if(n[c].isActive===h)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(v=>{var x;return(x=v.animationState)==null?void 0:x.setActive(c,h)}),n[c].isActive=h;const p=s(c);for(const v in n)n[v].protectedKeys={};return p}return{animateChanges:s,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Qz()}}}function kse(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!x2(e,t):!1}function Pd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Qz(){return{animate:Pd(!0),whileInView:Pd(),whileHover:Pd(),whileTap:Pd(),whileDrag:Pd(),whileFocus:Pd(),exit:Pd()}}function Jz(t,e){t.min=e.min,t.max=e.max}function Al(t,e){Jz(t.x,e.x),Jz(t.y,e.y)}function eB(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const b2=1e-4,Fse=1-b2,Vse=1+b2,_2=.01,Hse=0-_2,jse=0+_2;function hs(t){return t.max-t.min}function Gse(t,e,n){return Math.abs(t-e)<=n}function tB(t,e,n,i=.5){t.origin=i,t.originPoint=ir(e.min,e.max,t.origin),t.scale=hs(n)/hs(e),t.translate=ir(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Fse&&t.scale<=Vse||isNaN(t.scale))&&(t.scale=1),(t.translate>=Hse&&t.translate<=jse||isNaN(t.translate))&&(t.translate=0)}function Hy(t,e,n,i){tB(t.x,e.x,n.x,i?i.originX:void 0),tB(t.y,e.y,n.y,i?i.originY:void 0)}function nB(t,e,n){t.min=n.min+e.min,t.max=t.min+hs(e)}function Wse(t,e,n){nB(t.x,e.x,n.x),nB(t.y,e.y,n.y)}function iB(t,e,n){t.min=e.min-n.min,t.max=t.min+hs(e)}function LM(t,e,n){iB(t.x,e.x,n.x),iB(t.y,e.y,n.y)}function rB(t,e,n,i,r){return t-=e,t=NM(t,1/n,i),r!==void 0&&(t=NM(t,1/r,i)),t}function qse(t,e=0,n=1,i=.5,r,a=t,s=t){if(Lu.test(e)&&(e=parseFloat(e),e=ir(s.min,s.max,e/100)-s.min),typeof e!="number")return;let l=ir(a.min,a.max,i);t===a&&(l-=e),t.min=rB(t.min,e,n,l,r),t.max=rB(t.max,e,n,l,r)}function aB(t,e,[n,i,r],a,s){qse(t,e[n],e[i],e[r],e.scale,a,s)}const Xse=["x","scaleX","originX"],$se=["y","scaleY","originY"];function sB(t,e,n,i){aB(t.x,e,Xse,n?n.x:void 0,i?i.x:void 0),aB(t.y,e,$se,n?n.y:void 0,i?i.y:void 0)}function oB(t){return t.translate===0&&t.scale===1}function S2(t){return oB(t.x)&&oB(t.y)}function lB(t,e){return t.min===e.min&&t.max===e.max}function Yse(t,e){return lB(t.x,e.x)&&lB(t.y,e.y)}function uB(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function M2(t,e){return uB(t.x,e.x)&&uB(t.y,e.y)}function cB(t){return hs(t.x)/hs(t.y)}function fB(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Cu(t){return[t("x"),t("y")]}function Zse(t,e,n){let i="";const r=t.x.translate/e.x,a=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((r||a||s)&&(i=`translate3d(${r}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:v,skewX:x,skewY:_}=n;h&&(i=`perspective(${h}px) ${i}`),p&&(i+=`rotate(${p}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),x&&(i+=`skewX(${x}deg) `),_&&(i+=`skewY(${_}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(i+=`scale(${l}, ${c})`),i||"none"}const w2=["TopLeft","TopRight","BottomLeft","BottomRight"],Kse=w2.length,hB=t=>typeof t=="string"?parseFloat(t):t,dB=t=>typeof t=="number"||Ft.test(t);function Qse(t,e,n,i,r,a){r?(t.opacity=ir(0,n.opacity??1,Jse(i)),t.opacityExit=ir(e.opacity??1,0,eoe(i))):a&&(t.opacity=ir(e.opacity??1,n.opacity??1,i));for(let s=0;s<Kse;s++){const l=`border${w2[s]}Radius`;let c=pB(e,l),h=pB(n,l);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||dB(c)===dB(h)?(t[l]=Math.max(ir(hB(c),hB(h),i),0),(Lu.test(h)||Lu.test(c))&&(t[l]+="%")):t[l]=h}(e.rotate||n.rotate)&&(t.rotate=ir(e.rotate||0,n.rotate||0,i))}function pB(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Jse=E2(0,.5,gH),eoe=E2(.5,.95,Zo);function E2(t,e,n){return i=>i<t?0:i>e?1:n(cx(t,e,i))}function toe(t,e,n){const i=qa(t)?t:zg(t);return i.start(iD("",i,e,n)),i.animation}function px(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const noe=(t,e)=>t.depth-e.depth;class ioe{constructor(){this.children=[],this.isDirty=!1}add(e){H3(this.children,e),this.isDirty=!0}remove(e){RM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(noe),this.isDirty=!1,this.children.forEach(e)}}function roe(t,e){const n=fs.now(),i=({timestamp:r})=>{const a=r-n;a>=e&&(vh(i),t(a-e))};return Ti.setup(i,!0),()=>vh(i)}function S1(t){return qa(t)?t.get():t}class aoe{constructor(){this.members=[]}add(e){H3(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const r=i.instance;r&&r.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&RM(this.members,i)}e.scheduleRender()}remove(e){if(RM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const a=this.members[r],s=a.instance;if(a.isPresent!==!1&&(!s||s.isConnected!==!1)){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const r=i.options.layoutDependency,a=e.options.layoutDependency;if(!(r!==void 0&&a!==void 0&&r===a)){const c=i.instance;c&&c.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:l}=e.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const M1={hasAnimatedSinceResize:!0,hasEverUpdated:!1},iC=["","X","Y","Z"],soe=1e3;let ooe=0;function rC(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function A2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=qH(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ti,!(r||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&A2(i)}function T2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(s={},l=e==null?void 0:e()){this.id=ooe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(coe),this.nodes.forEach(poe),this.nodes.forEach(moe),this.nodes.forEach(foe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ioe)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new G3),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const c=this.eventHandlers.get(s);c&&c.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=uD(s)&&!use(s),this.instance=s;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let p,g=0;const v=()=>this.root.updateBlockedByResize=!1;Ti.read(()=>{g=window.innerWidth}),t(s,()=>{const x=window.innerWidth;x!==g&&(g=x,this.root.updateBlockedByResize=!0,p&&p(),p=roe(v,250),M1.hasAnimatedSinceResize&&(M1.hasAnimatedSinceResize=!1,this.nodes.forEach(vB)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||boe,{onLayoutAnimationStart:w,onLayoutAnimationComplete:S}=h.getProps(),M=!this.targetLayout||!M2(this.targetLayout,x),T=!g&&v;if(this.options.layoutRoot||this.resumeFrom||T||g&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...nD(_,"layout"),onPlay:w,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(p,T)}else g||vB(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(goe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mB);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(gB);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(doe),this.nodes.forEach(loe),this.nodes.forEach(uoe)):this.nodes.forEach(gB),this.clearAllSnapshots();const l=fs.now();wa.delta=Bu(0,1e3/60,l-wa.timestamp),wa.timestamp=l,wa.isProcessing=!0,YT.update.process(wa),YT.preRender.process(wa),YT.render.process(wa),wa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oD.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hoe),this.sharedNodes.forEach(voe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ti.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ti.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hs(this.snapshot.measuredBox.x)&&!hs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Vr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l&&this.instance){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!S2(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;s&&this.instance&&(l||Id(this.latestValues)||p)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return s&&(c=this.removeTransform(c)),_oe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:s}=this.options;if(!s)return Vr();const l=s.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(Soe))){const{scroll:p}=this.root;p&&(gg(l.x,p.offset.x),gg(l.y,p.offset.y))}return l}removeElementScroll(s){var c;const l=Vr();if(Al(l,s),(c=this.scroll)!=null&&c.wasRoot)return l;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Al(l,s),gg(l.x,g.offset.x),gg(l.y,g.offset.y))}return l}applyTransform(s,l=!1){const c=Vr();Al(c,s);for(let h=0;h<this.path.length;h++){const p=this.path[h];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&vg(c,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Id(p.latestValues)&&vg(c,p.latestValues)}return Id(this.latestValues)&&vg(c,this.latestValues),c}removeTransform(s){const l=Vr();Al(l,s);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!Id(h.latestValues))continue;LP(h.latestValues)&&h.updateSnapshot();const p=Vr(),g=h.measurePageBox();Al(p,g),sB(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Id(this.latestValues)&&sB(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var x;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!this.layout||!(p||g))return;this.resolvedRelativeTargetAt=wa.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vr(),this.targetWithTransforms=Vr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Wse(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Al(this.target,this.layout.layoutBox),c2(this.target,this.targetDelta)):Al(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||LP(this.parent.latestValues)||u2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,l,c){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vr(),this.relativeTargetOrigin=Vr(),LM(this.relativeTargetOrigin,l,c),Al(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var _;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===wa.timestamp&&(c=!1),c)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Al(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;bse(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Vr());const{target:x}=s;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eB(this.prevProjectionDelta.x,this.projectionDelta.x),eB(this.prevProjectionDelta.y,this.projectionDelta.y)),Hy(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!fB(this.projectionDelta.x,this.prevProjectionDelta.x)||!fB(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=mg(),this.projectionDelta=mg(),this.projectionDeltaWithTransform=mg()}setAnimationOrigin(s,l=!1){const c=this.snapshot,h=c?c.latestValues:{},p={...this.latestValues},g=mg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=Vr(),x=c?c.source:void 0,_=this.layout?this.layout.source:void 0,w=x!==_,S=this.getStack(),M=!S||S.members.length<=1,T=!!(w&&!M&&this.options.crossfade===!0&&!this.path.some(xoe));this.animationProgress=0;let R;this.mixTargetDelta=P=>{const L=P/1e3;yB(g.x,s.x,L),yB(g.y,s.y,L),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(LM(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yoe(this.relativeTarget,this.relativeTargetOrigin,v,L),R&&Yse(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Vr()),Al(R,this.relativeTarget)),w&&(this.animationValues=p,Qse(p,h,this.latestValues,L,T,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var l,c,h;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(h=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||h.stop(),this.pendingAnimation&&(vh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ti.update(()=>{M1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zg(0)),this.motionValue.jump(0,!1),this.currentAnimation=toe(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),s.onUpdate&&s.onUpdate(p)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(soe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:c,layout:h,latestValues:p}=s;if(!(!l||!c||!h)){if(this!==s&&this.layout&&h&&C2(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||Vr();const g=hs(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+g;const v=hs(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+v}Al(l,c),vg(l,p),Hy(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new aoe),this.sharedNodes.get(s).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var l;const{layoutId:s}=this.options;return s?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:s}=this.options;return s?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const h={};c.z&&rC("z",s,h,this.animationValues);for(let p=0;p<iC.length;p++)rC(`rotate${iC[p]}`,s,h,this.animationValues),rC(`skew${iC[p]}`,s,h,this.animationValues);s.render();for(const p in h)s.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);s.scheduleRender()}applyProjectionStyles(s,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=S1(l==null?void 0:l.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=S1(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Id(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=Zse(this.projectionDeltaWithTransform,this.treeScale,p);c&&(g=c(p,g)),s.transform=g;const{x:v,y:x}=this.projectionDelta;s.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,h.animationValues?s.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:s.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in zP){if(p[_]===void 0)continue;const{correct:w,applyTo:S,isCSSVariable:M}=zP[_],T=g==="none"?p[_]:w(p[_],h);if(S){const R=S.length;for(let P=0;P<R;P++)s[S[P]]=T}else M?this.options.visualElement.renderState.vars[_]=T:s[_]=T}this.options.layoutId&&(s.pointerEvents=h===this?S1(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(mB),this.root.sharedNodes.clear()}}}function loe(t){t.updateLayout()}function uoe(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:a}=t.options,s=e.source!==t.layout.source;a==="size"?Cu(g=>{const v=s?e.measuredBox[g]:e.layoutBox[g],x=hs(v);v.min=i[g].min,v.max=v.min+x}):C2(a,e.layoutBox,i)&&Cu(g=>{const v=s?e.measuredBox[g]:e.layoutBox[g],x=hs(i[g]);v.max=v.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+x)});const l=mg();Hy(l,i,e.layoutBox);const c=mg();s?Hy(c,t.applyTransform(r,!0),e.measuredBox):Hy(c,i,e.layoutBox);const h=!S2(l);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:x}=g;if(v&&x){const _=Vr();LM(_,e.layoutBox,v.layoutBox);const w=Vr();LM(w,i,x.layoutBox),M2(_,w)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=_,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function coe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function foe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hoe(t){t.clearSnapshot()}function mB(t){t.clearMeasurements()}function gB(t){t.isLayoutDirty=!1}function doe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function vB(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function poe(t){t.resolveTargetDelta()}function moe(t){t.calcProjection()}function goe(t){t.resetSkewAndRotation()}function voe(t){t.removeLeadSnapshot()}function yB(t,e,n){t.translate=ir(e.translate,0,n),t.scale=ir(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function xB(t,e,n,i){t.min=ir(e.min,n.min,i),t.max=ir(e.max,n.max,i)}function yoe(t,e,n,i){xB(t.x,e.x,n.x,i),xB(t.y,e.y,n.y,i)}function xoe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const boe={duration:.45,ease:[.4,0,.1,1]},bB=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),_B=bB("applewebkit/")&&!bB("chrome/")?Math.round:Zo;function SB(t){t.min=_B(t.min),t.max=_B(t.max)}function _oe(t){SB(t.x),SB(t.y)}function C2(t,e,n){return t==="position"||t==="preserve-aspect"&&!Gse(cB(e),cB(n),.2)}function Soe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Moe=T2({attachResizeListener:(t,e)=>px(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),aC={current:void 0},R2=T2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!aC.current){const t=new Moe({});t.mount(window),t.setOptions({layoutScroll:!0}),aC.current=t}return aC.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pD=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function MB(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function woe(...t){return e=>{let n=!1;const i=t.map(r=>{const a=MB(r,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<i.length;r++){const a=i[r];typeof a=="function"?a():MB(t[r],null)}}}}function Eoe(...t){return U.useCallback(woe(...t),t)}class Aoe extends U.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,r=IP(i)&&i.offsetWidth||0,a=IP(i)&&i.offsetHeight||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=r-s.width-s.left,s.bottom=a-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Toe({children:t,isPresent:e,anchorX:n,anchorY:i,root:r,pop:a}){var v;const s=U.useId(),l=U.useRef(null),c=U.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=U.useContext(pD),p=((v=t.props)==null?void 0:v.ref)??(t==null?void 0:t.ref),g=Eoe(l,p);return U.useInsertionEffect(()=>{const{width:x,height:_,top:w,left:S,right:M,bottom:T}=c.current;if(e||a===!1||!l.current||!x||!_)return;const R=n==="left"?`left: ${S}`:`right: ${M}`,P=i==="bottom"?`bottom: ${T}`:`top: ${w}`;l.current.dataset.motionPopId=s;const L=document.createElement("style");h&&(L.nonce=h);const I=r??document.head;return I.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${_}px !important;
            ${R}px !important;
            ${P}px !important;
          }
        `),()=>{I.contains(L)&&I.removeChild(L)}},[e]),ye.jsx(Aoe,{isPresent:e,childRef:l,sizeRef:c,pop:a,children:a===!1?t:U.cloneElement(t,{ref:g})})}const Coe=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:s,anchorX:l,anchorY:c,root:h})=>{const p=V3(Roe),g=U.useId();let v=!0,x=U.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:r,onExitComplete:_=>{p.set(_,!0);for(const w of p.values())if(!w)return;i&&i()},register:_=>(p.set(_,!1),()=>p.delete(_))}),[n,p,i]);return a&&v&&(x={...x}),U.useMemo(()=>{p.forEach((_,w)=>p.set(w,!1))},[n]),U.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),t=ye.jsx(Toe,{pop:s==="popLayout",isPresent:n,anchorX:l,anchorY:c,root:h,children:t}),ye.jsx(mE.Provider,{value:x,children:t})};function Roe(){return new Map}function P2(t=!0){const e=U.useContext(mE);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,a=U.useId();U.useEffect(()=>{if(t)return r(a)},[t]);const s=U.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,s]:[!0]}const XS=t=>t.key||"";function wB(t){const e=[];return U.Children.forEach(t,n=>{U.isValidElement(n)&&e.push(n)}),e}const Poe=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:a="sync",propagate:s=!1,anchorX:l="left",anchorY:c="top",root:h})=>{const[p,g]=P2(s),v=U.useMemo(()=>wB(t),[t]),x=s&&!p?[]:v.map(XS),_=U.useRef(!0),w=U.useRef(v),S=V3(()=>new Map),M=U.useRef(new Set),[T,R]=U.useState(v),[P,L]=U.useState(v);rH(()=>{_.current=!1,w.current=v;for(let D=0;D<P.length;D++){const z=XS(P[D]);x.includes(z)?(S.delete(z),M.current.delete(z)):S.get(z)!==!0&&S.set(z,!1)}},[P,x.length,x.join("-")]);const I=[];if(v!==T){let D=[...v];for(let z=0;z<P.length;z++){const W=P[z],j=XS(W);x.includes(j)||(D.splice(z,0,W),I.push(W))}return a==="wait"&&I.length&&(D=I),L(wB(D)),R(v),null}const{forceRender:B}=U.useContext(F3);return ye.jsx(ye.Fragment,{children:P.map(D=>{const z=XS(D),W=s&&!p?!1:v===P||x.includes(z),j=()=>{if(M.current.has(z))return;if(M.current.add(z),S.has(z))S.set(z,!0);else return;let G=!0;S.forEach(J=>{J||(G=!1)}),G&&(B==null||B(),L(w.current),s&&(g==null||g()),i&&i())};return ye.jsx(Coe,{isPresent:W,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:a,root:h,onExitComplete:W?void 0:j,anchorX:l,anchorY:c,children:D},z)})})},O2=U.createContext({strict:!1}),EB={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let AB=!1;function Ooe(){if(AB)return;const t={};for(const e in EB)t[e]={isEnabled:n=>EB[e].some(i=>!!n[i])};s2(t),AB=!0}function D2(){return Ooe(),gse()}function Doe(t){const e=D2();for(const n in t)e[n]={...e[n],...t[n]};s2(e)}const Ioe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function UM(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ioe.has(t)}let I2=t=>!UM(t);function Noe(t){typeof t=="function"&&(I2=e=>e.startsWith("on")?!UM(e):t(e))}try{Noe(require("@emotion/is-prop-valid").default)}catch{}function Loe(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(I2(r)||n===!0&&UM(r)||!e&&!UM(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}const yE=U.createContext({});function Uoe(t,e){if(vE(t)){const{initial:n,animate:i}=t;return{initial:n===!1||dx(n)?n:void 0,animate:dx(i)?i:void 0}}return t.inherit!==!1?e:{}}function zoe(t){const{initial:e,animate:n}=Uoe(t,U.useContext(yE));return U.useMemo(()=>({initial:e,animate:n}),[TB(e),TB(n)])}function TB(t){return Array.isArray(t)?t.join(" "):t}const mD=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function N2(t,e,n){for(const i in e)!qa(e[i])&&!d2(i,n)&&(t[i]=e[i])}function Boe({transformTemplate:t},e){return U.useMemo(()=>{const n=mD();return hD(n,e,t),Object.assign({},n.vars,n.style)},[e])}function koe(t,e){const n=t.style||{},i={};return N2(i,n,t),Object.assign(i,Boe(t,e)),i}function Foe(t,e){const n={},i=koe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const L2=()=>({...mD(),attrs:{}});function Voe(t,e,n,i){const r=U.useMemo(()=>{const a=L2();return p2(a,e,g2(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};N2(a,t.style,t),r.style={...a,...r.style}}return r}const Hoe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gD(t){return typeof t!="string"||t.includes("-")?!1:!!(Hoe.indexOf(t)>-1||/[A-Z]/u.test(t))}function joe(t,e,n,{latestValues:i},r,a=!1,s){const c=(s??gD(t)?Voe:Foe)(e,i,r,t),h=Loe(e,typeof t=="string",a),p=t!==U.Fragment?{...h,...c,ref:n}:{},{children:g}=e,v=U.useMemo(()=>qa(g)?g.get():g,[g]);return U.createElement(t,{...p,children:v})}function Goe({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,r){return{latestValues:Woe(n,i,r,t),renderState:e()}}function Woe(t,e,n,i){const r={},a=i(t,{});for(const v in a)r[v]=S1(a[v]);let{initial:s,animate:l}=t;const c=vE(t),h=r2(t);e&&h&&!c&&t.inherit!==!1&&(s===void 0&&(s=e.initial),l===void 0&&(l=e.animate));let p=n?n.initial===!1:!1;p=p||s===!1;const g=p?l:s;if(g&&typeof g!="boolean"&&!gE(g)){const v=Array.isArray(g)?g:[g];for(let x=0;x<v.length;x++){const _=rD(t,v[x]);if(_){const{transitionEnd:w,transition:S,...M}=_;for(const T in M){let R=M[T];if(Array.isArray(R)){const P=p?R.length-1:0;R=R[P]}R!==null&&(r[T]=R)}for(const T in w)r[T]=w[T]}}}return r}const U2=t=>(e,n)=>{const i=U.useContext(yE),r=U.useContext(mE),a=()=>Goe(t,e,i,r);return n?a():V3(a)},qoe=U2({scrapeMotionValuesFromProps:dD,createRenderState:mD}),Xoe=U2({scrapeMotionValuesFromProps:v2,createRenderState:L2}),$oe=Symbol.for("motionComponentSymbol");function Yoe(t,e,n){const i=U.useRef(n);U.useInsertionEffect(()=>{i.current=n});const r=U.useRef(null);return U.useCallback(a=>{var l;a&&((l=t.onMount)==null||l.call(t,a)),e&&(a?e.mount(a):e.unmount());const s=i.current;if(typeof s=="function")if(a){const c=s(a);typeof c=="function"&&(r.current=c)}else r.current?(r.current(),r.current=null):s(a);else s&&(s.current=a)},[e])}const z2=U.createContext({});function lg(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Zoe(t,e,n,i,r,a){var R,P;const{visualElement:s}=U.useContext(yE),l=U.useContext(O2),c=U.useContext(mE),h=U.useContext(pD),p=h.reducedMotion,g=h.skipAnimations,v=U.useRef(null),x=U.useRef(!1);i=i||l.renderer,!v.current&&i&&(v.current=i(t,{visualState:e,parent:s,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:p,skipAnimations:g,isSVG:a}),x.current&&v.current&&(v.current.manuallyAnimateOnMount=!0));const _=v.current,w=U.useContext(z2);_&&!_.projection&&r&&(_.type==="html"||_.type==="svg")&&Koe(v.current,n,r,w);const S=U.useRef(!1);U.useInsertionEffect(()=>{_&&S.current&&_.update(n,c)});const M=n[WH],T=U.useRef(!!M&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,M))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,M)));return rH(()=>{x.current=!0,_&&(S.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),T.current&&_.animationState&&_.animationState.animateChanges())}),U.useEffect(()=>{_&&(!T.current&&_.animationState&&_.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)==null||L.call(window,M)}),T.current=!1),_.enteringChildren=void 0)}),_}function Koe(t,e,n,i){const{layoutId:r,layout:a,drag:s,dragConstraints:l,layoutScroll:c,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:B2(t.parent)),t.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!s||l&&lg(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:c,layoutRoot:h})}function B2(t){if(t)return t.options.allowProjection!==!1?t.projection:B2(t.parent)}function sC(t,{forwardMotionProps:e=!1,type:n}={},i,r){i&&Doe(i);const a=n?n==="svg":gD(t),s=a?Xoe:qoe;function l(h,p){let g;const v={...U.useContext(pD),...h,layoutId:Qoe(h)},{isStatic:x}=v,_=zoe(h),w=s(h,x);if(!x&&iH){Joe();const S=ele(v);g=S.MeasureLayout,_.visualElement=Zoe(t,w,v,r,S.ProjectionNode,a)}return ye.jsxs(yE.Provider,{value:_,children:[g&&_.visualElement?ye.jsx(g,{visualElement:_.visualElement,...v}):null,joe(t,h,Yoe(w,_.visualElement,p),w,x,e,a)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=U.forwardRef(l);return c[$oe]=t,c}function Qoe({layoutId:t}){const e=U.useContext(F3).id;return e&&t!==void 0?e+"-"+t:t}function Joe(t,e){U.useContext(O2).strict}function ele(t){const e=D2(),{drag:n,layout:i}=e;if(!n&&!i)return{};const r={...n,...i};return{MeasureLayout:n!=null&&n.isEnabled(t)||i!=null&&i.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function tle(t,e){if(typeof Proxy>"u")return sC;const n=new Map,i=(a,s)=>sC(a,s,t,e),r=(a,s)=>i(a,s);return new Proxy(r,{get:(a,s)=>s==="create"?i:(n.has(s)||n.set(s,sC(s,void 0,t,e)),n.get(s))})}const nle=(t,e)=>e.isSVG??gD(t)?new Ise(e):new Tse(e,{allowProjection:t!==U.Fragment});class ile extends wh{constructor(e){super(e),e.animationState||(e.animationState=Bse(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gE(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let rle=0;class ale extends wh{constructor(){super(...arguments),this.id=rle++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const sle={animation:{Feature:ile},exit:{Feature:ale}};function Xx(t){return{point:{x:t.pageX,y:t.pageY}}}const ole=t=>e=>lD(e)&&t(e,Xx(e));function jy(t,e,n,i){return px(t,e,ole(n),i)}const k2=({current:t})=>t?t.ownerDocument.defaultView:null,CB=(t,e)=>Math.abs(t-e);function lle(t,e){const n=CB(t.x,e.x),i=CB(t.y,e.y);return Math.sqrt(n**2+i**2)}const RB=new Set(["auto","scroll"]);class F2{constructor(e,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=lC(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,w=lle(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!w)return;const{point:S}=x,{timestamp:M}=wa;this.history.push({...S,timestamp:M});const{onStart:T,onMove:R}=this.handlers;_||(T&&T(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,x)},this.handlePointerMove=(x,_)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=oC(_,this.transformPagePoint),Ti.update(this.updatePoint,!0)},this.handlePointerUp=(x,_)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:M}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=lC(x.type==="pointercancel"?this.lastMoveEventInfo:oC(_,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,T),S&&S(x,T)},!lD(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=s,this.contextWindow=r||window;const c=Xx(e),h=oC(c,this.transformPagePoint),{point:p}=h,{timestamp:g}=wa;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,lC(h,this.history)),this.removeListeners=Gx(jy(this.contextWindow,"pointermove",this.handlePointerMove),jy(this.contextWindow,"pointerup",this.handlePointerUp),jy(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(RB.has(i.overflowX)||RB.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,r=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:r.x-n.x,y:r.y-n.y};a.x===0&&a.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,r),Ti.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),vh(this.updatePoint)}}function oC(t,e){return e?{point:e(t.point)}:t}function PB(t,e){return{x:t.x-e.x,y:t.y-e.y}}function lC({point:t},e){return{point:t,delta:PB(t,V2(e)),offset:PB(t,ule(e)),velocity:cle(e,.1)}}function ule(t){return t[0]}function V2(t){return t[t.length-1]}function cle(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=V2(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Ll(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&r.timestamp-i.timestamp>Ll(e)*2&&(i=t[1]);const a=qo(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const s={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function fle(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ir(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ir(n,t,i.max):Math.min(t,n)),t}function OB(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function hle(t,{top:e,left:n,bottom:i,right:r}){return{x:OB(t.x,n,r),y:OB(t.y,e,i)}}function DB(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function dle(t,e){return{x:DB(t.x,e.x),y:DB(t.y,e.y)}}function ple(t,e){let n=.5;const i=hs(t),r=hs(e);return r>i?n=cx(e.min,e.max-i,t.min):i>r&&(n=cx(t.min,t.max-r,e.min)),Bu(0,1,n)}function mle(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const BP=.35;function gle(t=BP){return t===!1?t=0:t===!0&&(t=BP),{x:IB(t,"left","right"),y:IB(t,"top","bottom")}}function IB(t,e,n){return{min:NB(t,e),max:NB(t,n)}}function NB(t,e){return typeof t=="number"?t:t[e]||0}const vle=new WeakMap;class yle{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=g=>{n&&this.snapToCursor(Xx(g).point),this.stopAnimation()},s=(g,v)=>{const{drag:x,dragPropagation:_,onDragStart:w}=this.getProps();if(x&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qae(x),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cu(M=>{let T=this.getAxisMotionValue(M).get()||0;if(Lu.test(T)){const{projection:R}=this.visualElement;if(R&&R.layout){const P=R.layout.layoutBox[M];P&&(T=hs(P)*(parseFloat(T)/100))}}this.originPoint[M]=T}),w&&Ti.update(()=>w(g,v),!1,!0),RP(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:w,onDrag:S}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:M}=v;if(_&&this.currentDirection===null){this.currentDirection=ble(M),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",v.point,M),this.updateAxis("y",v.point,M),this.visualElement.render(),S&&Ti.update(()=>S(g,v),!1,!0)},c=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>{const{dragSnapToOrigin:g}=this.getProps();(g||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:p}=this.getProps();this.panSession=new F2(e,{onSessionStart:a,onStart:s,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:k2(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,r=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&Ti.postRender(()=>l(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!$S(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(s=fle(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,r=this.constraints;e&&lg(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=hle(i.layoutBox,e):this.constraints=!1,this.elastic=gle(n),r!==this.constraints&&!lg(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&Cu(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=mle(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!lg(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=_se(i,r.root,this.visualElement.getTransformPagePoint());let s=dle(r.layout.layoutBox,a);if(n){const l=n(yse(s));this.hasMutatedConstraints=!!l,l&&(s=l2(l))}return s}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},h=Cu(p=>{if(!$S(p,n,this.currentDirection))return;let g=c&&c[p]||{};s&&(g={min:0,max:0});const v=r?200:1e6,x=r?40:1e7,_={type:"inertia",velocity:i?e[p]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,_)});return Promise.all(h).then(l)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return RP(this.visualElement,e),i.start(iD(e,i,0,n,this.visualElement,!1))}stopAnimation(){Cu(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Cu(n=>{const{drag:i}=this.getProps();if(!$S(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:s,max:l}=r.layout.layoutBox[n],c=a.get()||0;a.set(e[n]-ir(s,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!lg(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Cu(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const c=l.get();r[s]=ple({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),Cu(s=>{if(!$S(s,e,null))return;const l=this.getAxisMotionValue(s),{min:c,max:h}=this.constraints[s];l.set(ir(c,h,r[s]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;vle.set(this.visualElement,this);const e=this.visualElement.current,n=jy(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps(),v=h.target,x=v!==e&&Qae(v);p&&g&&!x&&this.start(h)});let i;const r=()=>{const{dragConstraints:h}=this.getProps();lg(h)&&h.current&&(this.constraints=this.resolveRefConstraints(),i||(i=xle(e,h.current,()=>this.scalePositionWithinConstraints())))},{projection:a}=this.visualElement,s=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ti.read(r);const l=px(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Cu(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),s(),c&&c(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:s=BP,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:s,dragMomentum:l}}}function LB(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function xle(t,e,n){const i=Hz(t,LB(n)),r=Hz(e,LB(n));return()=>{i(),r()}}function $S(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ble(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _le extends wh{constructor(e){super(e),this.removeGroupControls=Zo,this.removeListeners=Zo,this.controls=new yle(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zo}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const uC=t=>(e,n)=>{t&&Ti.update(()=>t(e,n),!1,!0)};class Sle extends wh{constructor(){super(...arguments),this.removePointerDownListener=Zo}onPointerDown(e){this.session=new F2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:k2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:uC(e),onStart:uC(n),onMove:uC(i),onEnd:(a,s)=>{delete this.session,r&&Ti.postRender(()=>r(a,s))}}}mount(){this.removePointerDownListener=jy(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let cC=!1;class Mle extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),i&&i.register&&r&&i.register(a),cC&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),M1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:a}=this.props,{projection:s}=i;return s&&(s.isPresent=a,e.layoutDependency!==n&&s.setOptions({...s.options,layoutDependency:n}),cC=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Ti.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),oD.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;cC=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function H2(t){const[e,n]=P2(),i=U.useContext(F3);return ye.jsx(Mle,{...t,layoutGroup:i,switchLayoutGroup:U.useContext(z2),isPresent:e,safeToRemove:n})}const wle={pan:{Feature:Sle},drag:{Feature:_le,ProjectionNode:R2,MeasureLayout:H2}};function UB(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=i[r];a&&Ti.postRender(()=>a(e,Xx(e)))}class Ele extends wh{mount(){const{current:e}=this.node;e&&(this.unmount=$ae(e,(n,i)=>(UB(this.node,i,"Start"),r=>UB(this.node,r,"End"))))}unmount(){}}class Ale extends wh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gx(px(this.node.current,"focus",()=>this.onFocus()),px(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zB(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=i[r];a&&Ti.postRender(()=>a(e,Xx(e)))}class Tle extends wh{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=ese(e,(r,a)=>(zB(this.node,a,"Start"),(s,{success:l})=>zB(this.node,s,l?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(i==null?void 0:i.tap)===!1})}unmount(){}}const kP=new WeakMap,fC=new WeakMap,Cle=t=>{const e=kP.get(t.target);e&&e(t)},Rle=t=>{t.forEach(Cle)};function Ple({root:t,...e}){const n=t||document;fC.has(n)||fC.set(n,{});const i=fC.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(Rle,{root:t,...e})),i[r]}function Ole(t,e,n){const i=Ple(e);return kP.set(t,n),i.observe(t),()=>{kP.delete(t),i.unobserve(t)}}const Dle={some:0,all:1};class Ile extends wh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Dle[r]},l=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=h?p:g;v&&v(c)};return Ole(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Nle(e,n))&&this.startObserver()}unmount(){}}function Nle({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Lle={inView:{Feature:Ile},tap:{Feature:Tle},focus:{Feature:Ale},hover:{Feature:Ele}},Ule={layout:{ProjectionNode:R2,MeasureLayout:H2}},zle={...sle,...Lle,...wle,...Ule},My=tle(zle,nle);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kle=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),BB=t=>{const e=kle(t);return e.charAt(0).toUpperCase()+e.slice(1)},j2=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),Fle=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=U.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:s,...l},c)=>U.createElement("svg",{ref:c,...Vle,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:j2("lucide",r),...!a&&!Fle(l)&&{"aria-hidden":"true"},...l},[...s.map(([h,p])=>U.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=(t,e)=>{const n=U.forwardRef(({className:i,...r},a)=>U.createElement(Hle,{ref:a,iconNode:e,className:j2(`lucide-${Ble(BB(t))}`,`lucide-${t}`,i),...r}));return n.displayName=BB(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gle=vD("chevron-down",jle);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],qle=vD("menu",Wle);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$le=vD("x",Xle);function G2(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=G2(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function ki(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=G2(t))&&(i&&(i+=" "),i+=e);return i}var Yle=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function yD(t){if(typeof t!="string")return!1;var e=Yle;return e.includes(t)}var Zle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Kle=new Set(Zle);function W2(t){return typeof t!="string"?!1:Kle.has(t)}function q2(t){return typeof t=="string"&&t.startsWith("data-")}function yh(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(W2(n)||q2(n))&&(e[n]=t[n]);return e}function xD(t){if(t==null)return null;if(U.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return yh(e)}return typeof t=="object"&&!Array.isArray(t)?yh(t):null}function Ko(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(W2(n)||q2(n)||yD(n))&&(e[n]=t[n]);return e}var Qle=["children","width","height","viewBox","className","style","title","desc"];function FP(){return FP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},FP.apply(null,arguments)}function Jle(t,e){if(t==null)return{};var n,i,r=eue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eue(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var X2=U.forwardRef((t,e)=>{var{children:n,width:i,height:r,viewBox:a,className:s,style:l,title:c,desc:h}=t,p=Jle(t,Qle),g=a||{width:i,height:r,x:0,y:0},v=ki("recharts-surface",s);return U.createElement("svg",FP({},Ko(p),{className:v,width:i,height:r,style:l,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),U.createElement("title",null,c),U.createElement("desc",null,h),n)}),tue=["children","className"];function VP(){return VP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},VP.apply(null,arguments)}function nue(t,e){if(t==null)return{};var n,i,r=iue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iue(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var zc=U.forwardRef((t,e)=>{var{children:n,className:i}=t,r=nue(t,tue),a=ki("recharts-layer",i);return U.createElement("g",VP({className:a},Ko(r),{ref:e}),n)}),$2=MV(),rue=U.createContext(null);function Ai(t){return function(){return t}}const Y2=Math.cos,zM=Math.sin,Wl=Math.sqrt,BM=Math.PI,xE=2*BM,HP=Math.PI,jP=2*HP,Nd=1e-6,aue=jP-Nd;function Z2(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function sue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Z2;const n=10**e;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class oue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Z2:sue(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,a,s){this._append`C${+e},${+n},${+i},${+r},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,i,r,a){if(e=+e,n=+n,i=+i,r=+r,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=i-e,h=r-n,p=s-e,g=l-n,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Nd)if(!(Math.abs(g*c-h*p)>Nd)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let x=i-s,_=r-l,w=c*c+h*h,S=x*x+_*_,M=Math.sqrt(w),T=Math.sqrt(v),R=a*Math.tan((HP-Math.acos((w+v-S)/(2*M*T)))/2),P=R/T,L=R/M;Math.abs(P-1)>Nd&&this._append`L${e+P*p},${n+P*g}`,this._append`A${a},${a},0,0,${+(g*x>p*_)},${this._x1=e+L*c},${this._y1=n+L*h}`}}arc(e,n,i,r,a,s){if(e=+e,n=+n,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(r),c=i*Math.sin(r),h=e+l,p=n+c,g=1^s,v=s?r-a:a-r;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Nd||Math.abs(this._y1-p)>Nd)&&this._append`L${h},${p}`,i&&(v<0&&(v=v%jP+jP),v>aue?this._append`A${i},${i},0,1,${g},${e-l},${n-c}A${i},${i},0,1,${g},${this._x1=h},${this._y1=p}`:v>Nd&&this._append`A${i},${i},0,${+(v>=HP)},${g},${this._x1=e+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function bD(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new oue(e)}function _D(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function K2(t){this._context=t}K2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function bE(t){return new K2(t)}function Q2(t){return t[0]}function J2(t){return t[1]}function ej(t,e){var n=Ai(!0),i=null,r=bE,a=null,s=bD(l);t=typeof t=="function"?t:t===void 0?Q2:Ai(t),e=typeof e=="function"?e:e===void 0?J2:Ai(e);function l(c){var h,p=(c=_D(c)).length,g,v=!1,x;for(i==null&&(a=r(x=s())),h=0;h<=p;++h)!(h<p&&n(g=c[h],h,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(g,h,c),+e(g,h,c));if(x)return a=null,x+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ai(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ai(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ai(!!c),l):n},l.curve=function(c){return arguments.length?(r=c,i!=null&&(a=r(i)),l):r},l.context=function(c){return arguments.length?(c==null?i=a=null:a=r(i=c),l):i},l}function YS(t,e,n){var i=null,r=Ai(!0),a=null,s=bE,l=null,c=bD(h);t=typeof t=="function"?t:t===void 0?Q2:Ai(+t),e=typeof e=="function"?e:Ai(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?J2:Ai(+n);function h(g){var v,x,_,w=(g=_D(g)).length,S,M=!1,T,R=new Array(w),P=new Array(w);for(a==null&&(l=s(T=c())),v=0;v<=w;++v){if(!(v<w&&r(S=g[v],v,g))===M)if(M=!M)x=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=v-1;_>=x;--_)l.point(R[_],P[_]);l.lineEnd(),l.areaEnd()}M&&(R[v]=+t(S,v,g),P[v]=+e(S,v,g),l.point(i?+i(S,v,g):R[v],n?+n(S,v,g):P[v]))}if(T)return l=null,T+""||null}function p(){return ej().defined(r).curve(s).context(a)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Ai(+g),i=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Ai(+g),h):t},h.x1=function(g){return arguments.length?(i=g==null?null:typeof g=="function"?g:Ai(+g),h):i},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Ai(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Ai(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Ai(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(i).y(e)},h.defined=function(g){return arguments.length?(r=typeof g=="function"?g:Ai(!!g),h):r},h.curve=function(g){return arguments.length?(s=g,a!=null&&(l=s(a)),h):s},h.context=function(g){return arguments.length?(g==null?a=l=null:l=s(a=g),h):a},h}class tj{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function lue(t){return new tj(t,!0)}function uue(t){return new tj(t,!1)}const SD={draw(t,e){const n=Wl(e/BM);t.moveTo(n,0),t.arc(0,0,n,0,xE)}},cue={draw(t,e){const n=Wl(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},nj=Wl(1/3),fue=nj*2,hue={draw(t,e){const n=Wl(e/fue),i=n*nj;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},due={draw(t,e){const n=Wl(e),i=-n/2;t.rect(i,i,n,n)}},pue=.8908130915292852,ij=zM(BM/10)/zM(7*BM/10),mue=zM(xE/10)*ij,gue=-Y2(xE/10)*ij,vue={draw(t,e){const n=Wl(e*pue),i=mue*n,r=gue*n;t.moveTo(0,-n),t.lineTo(i,r);for(let a=1;a<5;++a){const s=xE*a/5,l=Y2(s),c=zM(s);t.lineTo(c*n,-l*n),t.lineTo(l*i-c*r,c*i+l*r)}t.closePath()}},hC=Wl(3),yue={draw(t,e){const n=-Wl(e/(hC*3));t.moveTo(0,n*2),t.lineTo(-hC*n,-n),t.lineTo(hC*n,-n),t.closePath()}},Ho=-.5,jo=Wl(3)/2,GP=1/Wl(12),xue=(GP/2+1)*3,bue={draw(t,e){const n=Wl(e/xue),i=n/2,r=n*GP,a=i,s=n*GP+n,l=-a,c=s;t.moveTo(i,r),t.lineTo(a,s),t.lineTo(l,c),t.lineTo(Ho*i-jo*r,jo*i+Ho*r),t.lineTo(Ho*a-jo*s,jo*a+Ho*s),t.lineTo(Ho*l-jo*c,jo*l+Ho*c),t.lineTo(Ho*i+jo*r,Ho*r-jo*i),t.lineTo(Ho*a+jo*s,Ho*s-jo*a),t.lineTo(Ho*l+jo*c,Ho*c-jo*l),t.closePath()}};function _ue(t,e){let n=null,i=bD(r);t=typeof t=="function"?t:Ai(t||SD),e=typeof e=="function"?e:Ai(e===void 0?64:+e);function r(){let a;if(n||(n=a=i()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return r.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ai(a),r):t},r.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ai(+a),r):e},r.context=function(a){return arguments.length?(n=a??null,r):n},r}function kM(){}function FM(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function rj(t){this._context=t}rj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:FM(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:FM(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Sue(t){return new rj(t)}function aj(t){this._context=t}aj.prototype={areaStart:kM,areaEnd:kM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:FM(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Mue(t){return new aj(t)}function sj(t){this._context=t}sj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:FM(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wue(t){return new sj(t)}function oj(t){this._context=t}oj.prototype={areaStart:kM,areaEnd:kM,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Eue(t){return new oj(t)}function kB(t){return t<0?-1:1}function FB(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),l=(a*r+s*i)/(i+r);return(kB(a)+kB(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function VB(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function dC(t,e,n){var i=t._x0,r=t._y0,a=t._x1,s=t._y1,l=(a-i)/3;t._context.bezierCurveTo(i+l,r+l*e,a-l,s-l*n,a,s)}function VM(t){this._context=t}VM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dC(this,this._t0,VB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,dC(this,VB(this,n=FB(this,t,e)),n);break;default:dC(this,this._t0,n=FB(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function lj(t){this._context=new uj(t)}(lj.prototype=Object.create(VM.prototype)).point=function(t,e){VM.prototype.point.call(this,e,t)};function uj(t){this._context=t}uj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,a){this._context.bezierCurveTo(e,t,i,n,a,r)}};function Aue(t){return new VM(t)}function Tue(t){return new lj(t)}function cj(t){this._context=t}cj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=HB(t),r=HB(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function HB(t){var e,n=t.length-1,i,r=new Array(n),a=new Array(n),s=new Array(n);for(r[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)r[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=r[e]/a[e-1],a[e]-=i,s[e]-=i*s[e-1];for(r[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)r[e]=(s[e]-r[e+1])/a[e];for(a[n-1]=(t[n]+r[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}function Cue(t){return new cj(t)}function _E(t,e){this._context=t,this._t=e}_E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Rue(t){return new _E(t,.5)}function Pue(t){return new _E(t,0)}function Oue(t){return new _E(t,1)}function fp(t,e){if((s=t.length)>1)for(var n=1,i,r,a=t[e[0]],s,l=a.length;n<s;++n)for(r=a,a=t[e[n]],i=0;i<l;++i)a[i][1]+=a[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function WP(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Due(t,e){return t[e]}function Iue(t){const e=[];return e.key=t,e}function Nue(){var t=Ai([]),e=WP,n=fp,i=Due;function r(a){var s=Array.from(t.apply(this,arguments),Iue),l,c=s.length,h=-1,p;for(const g of a)for(l=0,++h;l<c;++l)(s[l][h]=[0,+i(g,s[l].key,h,a)]).data=g;for(l=0,p=_D(e(s));l<c;++l)s[p[l]].index=l;return n(s,p),s}return r.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ai(Array.from(a)),r):t},r.value=function(a){return arguments.length?(i=typeof a=="function"?a:Ai(+a),r):i},r.order=function(a){return arguments.length?(e=a==null?WP:typeof a=="function"?a:Ai(Array.from(a)),r):e},r.offset=function(a){return arguments.length?(n=a??fp,r):n},r}function Lue(t,e){if((i=t.length)>0){for(var n,i,r=0,a=t[0].length,s;r<a;++r){for(s=n=0;n<i;++n)s+=t[n][r][1]||0;if(s)for(n=0;n<i;++n)t[n][r][1]/=s}fp(t,e)}}function Uue(t,e){if((r=t.length)>0){for(var n=0,i=t[e[0]],r,a=i.length;n<a;++n){for(var s=0,l=0;s<r;++s)l+=t[s][n][1]||0;i[n][1]+=i[n][0]=-l/2}fp(t,e)}}function zue(t,e){if(!(!((s=t.length)>0)||!((a=(r=t[e[0]]).length)>0))){for(var n=0,i=1,r,a,s;i<a;++i){for(var l=0,c=0,h=0;l<s;++l){for(var p=t[e[l]],g=p[i][1]||0,v=p[i-1][1]||0,x=(g-v)/2,_=0;_<l;++_){var w=t[e[_]],S=w[i][1]||0,M=w[i-1][1]||0;x+=S-M}c+=g,h+=x*g}r[i-1][1]+=r[i-1][0]=n,c&&(n-=h/c)}r[i-1][1]+=r[i-1][0]=n,fp(t,e)}}var pC={},mC={},jB;function Bue(){return jB||(jB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(mC)),mC}var gC={},GB;function fj(){return GB||(GB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(gC)),gC}var vC={},WB;function MD(){return WB||(WB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;return typeof n=="string"||typeof n=="symbol"?n:Object.is((i=n==null?void 0:n.valueOf)==null?void 0:i.call(n),-0)?"-0":String(n)}t.toKey=e})(vC)),vC}var yC={},xC={},qB;function kue(){return qB||(qB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const i=String(n);return i==="0"&&Object.is(Number(n),-0)?"-0":i}t.toString=e})(xC)),xC}var XB;function wD(){return XB||(XB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kue(),n=MD();function i(r){if(Array.isArray(r))return r.map(n.toKey);if(typeof r=="symbol")return[r];r=e.toString(r);const a=[],s=r.length;if(s===0)return a;let l=0,c="",h="",p=!1;for(r.charCodeAt(0)===46&&(a.push(""),l++);l<s;){const g=r[l];h?g==="\\"&&l+1<s?(l++,c+=r[l]):g===h?h="":c+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,a.push(c),c=""):c+=g:g==="["?(p=!0,c&&(a.push(c),c="")):g==="."?c&&(a.push(c),c=""):c+=g,l++}return c&&a.push(c),a}t.toPath=i})(yC)),yC}var $B;function ED(){return $B||($B=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bue(),n=fj(),i=MD(),r=wD();function a(l,c,h){if(l==null)return h;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return h;const p=l[c];return p===void 0?n.isDeepKey(c)?a(l,r.toPath(c),h):h:p}case"number":case"symbol":{typeof c=="number"&&(c=i.toKey(c));const p=l[c];return p===void 0?h:p}default:{if(Array.isArray(c))return s(l,c,h);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return h;const p=l[c];return p===void 0?h:p}}}function s(l,c,h){if(c.length===0)return h;let p=l;for(let g=0;g<c.length;g++){if(p==null||e.isUnsafeProperty(c[g]))return h;p=p[c[g]]}return p===void 0?h:p}t.get=a})(pC)),pC}var bC,YB;function Fue(){return YB||(YB=1,bC=ED().get),bC}var Vue=Fue();const Bg=jl(Vue);var Hue=4;function ch(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hue,n=10**e,i=Math.round(t*n)/n;return Object.is(i,-0)?0:i}function dr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t.reduce((r,a,s)=>{var l=n[s-1];return typeof l=="string"?r+l+a:l!==void 0?r+ch(l)+a:r+a},"")}var ro=t=>t===0?0:t>0?1:-1,ku=t=>typeof t=="number"&&t!=+t,hp=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,tn=t=>(typeof t=="number"||t instanceof Number)&&!ku(t),Fu=t=>tn(t)||typeof t=="string",jue=0,mx=t=>{var e=++jue;return"".concat(t||"").concat(e)},Vl=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tn(e)&&typeof e!="string")return i;var a;if(hp(e)){if(n==null)return i;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return ku(a)&&(a=i),r&&n!=null&&a>n&&(a=n),a},hj=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},i=0;i<e;i++)if(!n[String(t[i])])n[String(t[i])]=!0;else return!0;return!1};function Aa(t,e,n){return tn(t)&&tn(e)?ch(t+n*(e-t)):e}function Gue(t,e,n){if(!(!t||!t.length))return t.find(i=>i&&(typeof e=="function"?e(i):Bg(i,e))===n)}var sa=t=>t===null||typeof t>"u",$x=t=>sa(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Du(t){return t!=null}function rv(){}var Wue=["type","size","sizeType"];function qP(){return qP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},qP.apply(null,arguments)}function ZB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function KB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZB(Object(n),!0).forEach(function(i){que(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZB(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function que(t,e,n){return(e=Xue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xue(t){var e=$ue(t,"string");return typeof e=="symbol"?e:e+""}function $ue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yue(t,e){if(t==null)return{};var n,i,r=Zue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zue(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var dj={symbolCircle:SD,symbolCross:cue,symbolDiamond:hue,symbolSquare:due,symbolStar:vue,symbolTriangle:yue,symbolWye:bue},Kue=Math.PI/180,Que=t=>{var e="symbol".concat($x(t));return dj[e]||SD},Jue=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*Kue;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ece=(t,e)=>{dj["symbol".concat($x(t))]=e},pj=t=>{var{type:e="circle",size:n=64,sizeType:i="area"}=t,r=Yue(t,Wue),a=KB(KB({},r),{},{type:e,size:n,sizeType:i}),s="circle";typeof e=="string"&&(s=e);var l=()=>{var v=Que(s),x=_ue().type(v).size(Jue(n,i,s)),_=x();if(_!==null)return _},{className:c,cx:h,cy:p}=a,g=Ko(a);return tn(h)&&tn(p)&&tn(n)?U.createElement("path",qP({},g,{className:ki("recharts-symbols",c),transform:"translate(".concat(h,", ").concat(p,")"),d:l()})):null};pj.registerSymbol=ece;var mj=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,tce=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(U.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(r=>{yD(r)&&(i[r]=(a=>n[r](n,a)))}),i},nce=(t,e,n)=>i=>(t(e,n,i),null),AD=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var i=null;return Object.keys(t).forEach(r=>{var a=t[r];yD(r)&&typeof a=="function"&&(i||(i={}),i[r]=nce(a,e,n))}),i};function QB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ice(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QB(Object(n),!0).forEach(function(i){rce(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QB(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function rce(t,e,n){return(e=ace(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ace(t){var e=sce(t,"string");return typeof e=="symbol"?e:e+""}function sce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tl(t,e){var n=ice({},t),i=e,r=Object.keys(e),a=r.reduce((s,l)=>(s[l]===void 0&&i[l]!==void 0&&(s[l]=i[l]),s),n);return a}var _C={},SC={},JB;function oce(){return JB||(JB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){const r=new Map;for(let a=0;a<n.length;a++){const s=n[a],l=i(s,a,n);r.has(l)||r.set(l,s)}return Array.from(r.values())}t.uniqBy=e})(SC)),SC}var MC={},ek;function lce(){return ek||(ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){return function(...r){return n.apply(this,r.slice(0,i))}}t.ary=e})(MC)),MC}var wC={},tk;function gj(){return tk||(tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(wC)),wC}var EC={},AC={},TC={},nk;function uce(){return nk||(nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(TC)),TC}var ik;function TD(){return ik||(ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uce();function n(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}t.isArrayLike=n})(AC)),AC}var CC={},rk;function cce(){return rk||(rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(CC)),CC}var ak;function fce(){return ak||(ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TD(),n=cce();function i(r){return n.isObjectLike(r)&&e.isArrayLike(r)}t.isArrayLikeObject=i})(EC)),EC}var RC={},PC={},sk;function hce(){return sk||(sk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ED();function n(i){return function(r){return e.get(r,i)}}t.property=n})(PC)),PC}var OC={},DC={},IC={},NC={},ok;function vj(){return ok||(ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(NC)),NC}var LC={},lk;function yj(){return lk||(lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(LC)),LC}var UC={},uk;function xj(){return uk||(uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}t.isEqualsSameValueZero=e})(UC)),UC}var ck;function dce(){return ck||(ck=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vj(),n=yj(),i=xj();function r(p,g,v){return typeof v!="function"?r(p,g,()=>{}):a(p,g,function x(_,w,S,M,T,R){const P=v(_,w,S,M,T,R);return P!==void 0?!!P:a(_,w,x,R)},new Map)}function a(p,g,v,x){if(g===p)return!0;switch(typeof g){case"object":return s(p,g,v,x);case"function":return Object.keys(g).length>0?a(p,{...g},v,x):i.isEqualsSameValueZero(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:i.isEqualsSameValueZero(p,g)}}function s(p,g,v,x){if(g==null)return!0;if(Array.isArray(g))return c(p,g,v,x);if(g instanceof Map)return l(p,g,v,x);if(g instanceof Set)return h(p,g,v,x);const _=Object.keys(g);if(p==null||n.isPrimitive(p))return _.length===0;if(_.length===0)return!0;if(x!=null&&x.has(g))return x.get(g)===p;x==null||x.set(g,p);try{for(let w=0;w<_.length;w++){const S=_[w];if(!n.isPrimitive(p)&&!(S in p)||g[S]===void 0&&p[S]!==void 0||g[S]===null&&p[S]!==null||!v(p[S],g[S],S,p,g,x))return!1}return!0}finally{x==null||x.delete(g)}}function l(p,g,v,x){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[_,w]of g.entries()){const S=p.get(_);if(v(S,w,_,p,g,x)===!1)return!1}return!0}function c(p,g,v,x){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const _=new Set;for(let w=0;w<g.length;w++){const S=g[w];let M=!1;for(let T=0;T<p.length;T++){if(_.has(T))continue;const R=p[T];let P=!1;if(v(R,S,w,p,g,x)&&(P=!0),P){_.add(T),M=!0;break}}if(!M)return!1}return!0}function h(p,g,v,x){return g.size===0?!0:p instanceof Set?c([...p],[...g],v,x):!1}t.isMatchWith=r,t.isSetMatch=h})(IC)),IC}var fk;function bj(){return fk||(fk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dce();function n(i,r){return e.isMatchWith(i,r,()=>{})}t.isMatch=n})(DC)),DC}var zC={},BC={},kC={},hk;function pce(){return hk||(hk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}t.getSymbols=e})(kC)),kC}var FC={},dk;function CD(){return dk||(dk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(FC)),FC}var VC={},pk;function _j(){return pk||(pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",i="[object Number]",r="[object Boolean]",a="[object Arguments]",s="[object Symbol]",l="[object Date]",c="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",v="[object ArrayBuffer]",x="[object Object]",_="[object Error]",w="[object DataView]",S="[object Uint8Array]",M="[object Uint8ClampedArray]",T="[object Uint16Array]",R="[object Uint32Array]",P="[object BigUint64Array]",L="[object Int8Array]",I="[object Int16Array]",B="[object Int32Array]",D="[object BigInt64Array]",z="[object Float32Array]",W="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=p,t.bigInt64ArrayTag=D,t.bigUint64ArrayTag=P,t.booleanTag=r,t.dataViewTag=w,t.dateTag=l,t.errorTag=_,t.float32ArrayTag=z,t.float64ArrayTag=W,t.functionTag=g,t.int16ArrayTag=I,t.int32ArrayTag=B,t.int8ArrayTag=L,t.mapTag=c,t.numberTag=i,t.objectTag=x,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=T,t.uint32ArrayTag=R,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=M})(VC)),VC}var HC={},mk;function mce(){return mk||(mk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(HC)),HC}var gk;function Sj(){return gk||(gk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pce(),n=CD(),i=_j(),r=yj(),a=mce();function s(p,g){return l(p,void 0,p,new Map,g)}function l(p,g,v,x=new Map,_=void 0){const w=_==null?void 0:_(p,g,v,x);if(w!==void 0)return w;if(r.isPrimitive(p))return p;if(x.has(p))return x.get(p);if(Array.isArray(p)){const S=new Array(p.length);x.set(p,S);for(let M=0;M<p.length;M++)S[M]=l(p[M],M,v,x,_);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;x.set(p,S);for(const[M,T]of p)S.set(M,l(T,M,v,x,_));return S}if(p instanceof Set){const S=new Set;x.set(p,S);for(const M of p)S.add(l(M,void 0,v,x,_));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(a.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);x.set(p,S);for(let M=0;M<p.length;M++)S[M]=l(p[M],M,v,x,_);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return x.set(p,S),c(S,p,v,x,_),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return x.set(p,S),c(S,p,v,x,_),S}if(typeof Blob<"u"&&p instanceof Blob){const S=new Blob([p],{type:p.type});return x.set(p,S),c(S,p,v,x,_),S}if(p instanceof Error){const S=new p.constructor;return x.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,c(S,p,v,x,_),S}if(p instanceof Boolean){const S=new Boolean(p.valueOf());return x.set(p,S),c(S,p,v,x,_),S}if(p instanceof Number){const S=new Number(p.valueOf());return x.set(p,S),c(S,p,v,x,_),S}if(p instanceof String){const S=new String(p.valueOf());return x.set(p,S),c(S,p,v,x,_),S}if(typeof p=="object"&&h(p)){const S=Object.create(Object.getPrototypeOf(p));return x.set(p,S),c(S,p,v,x,_),S}return p}function c(p,g,v=p,x,_){const w=[...Object.keys(g),...e.getSymbols(g)];for(let S=0;S<w.length;S++){const M=w[S],T=Object.getOwnPropertyDescriptor(p,M);(T==null||T.writable)&&(p[M]=l(g[M],M,v,x,_))}}function h(p){switch(n.getTag(p)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=l,t.copyProperties=c})(BC)),BC}var vk;function gce(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sj();function n(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}t.cloneDeep=n})(zC)),zC}var yk;function vce(){return yk||(yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bj(),n=gce();function i(r){return r=n.cloneDeep(r),a=>e.isMatch(a,r)}t.matches=i})(OC)),OC}var jC={},GC={},WC={},xk;function yce(){return xk||(xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sj(),n=CD(),i=_j();function r(a,s){return e.cloneDeepWith(a,(l,c,h,p)=>{const g=s==null?void 0:s(l,c,h,p);if(g!==void 0)return g;if(typeof a=="object"){if(n.getTag(a)===i.objectTag&&typeof a.constructor!="function"){const v={};return p.set(a,v),e.copyProperties(v,a,h,p),v}switch(Object.prototype.toString.call(a)){case i.numberTag:case i.stringTag:case i.booleanTag:{const v=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(v,a),v}case i.argumentsTag:{const v={};return e.copyProperties(v,a),v.length=a.length,v[Symbol.iterator]=a[Symbol.iterator],v}default:return}}})}t.cloneDeepWith=r})(WC)),WC}var bk;function xce(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yce();function n(i){return e.cloneDeepWith(i)}t.cloneDeep=n})(GC)),GC}var qC={},XC={},_k;function Mj(){return _k||(_k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return e.test(i)}}t.isIndex=n})(XC)),XC}var $C={},Sk;function bce(){return Sk||(Sk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CD();function n(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}t.isArguments=n})($C)),$C}var Mk;function _ce(){return Mk||(Mk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fj(),n=Mj(),i=bce(),r=wD();function a(s,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&(s==null?void 0:s[l])==null?c=r.toPath(l):c=[l],c.length===0)return!1;let h=s;for(let p=0;p<c.length;p++){const g=c[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||i.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=a})(qC)),qC}var wk;function Sce(){return wk||(wk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bj(),n=MD(),i=xce(),r=ED(),a=_ce();function s(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=i.cloneDeep(c),function(h){const p=r.get(h,l);return p===void 0?a.has(h,l):c===void 0?p===void 0:e.isMatch(p,c)}}t.matchesProperty=s})(jC)),jC}var Ek;function Mce(){return Ek||(Ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gj(),n=hce(),i=vce(),r=Sce();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?r.matchesProperty(s[0],s[1]):i.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(RC)),RC}var Ak;function wce(){return Ak||(Ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oce(),n=lce(),i=gj(),r=fce(),a=Mce();function s(l,c=i.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),n.ary(a.iteratee(c),1)):[]}t.uniqBy=s})(_C)),_C}var YC,Tk;function Ece(){return Tk||(Tk=1,YC=wce().uniqBy),YC}var Ace=Ece();const Ck=jl(Ace);function Tce(t,e,n){return e===!0?Ck(t,n):typeof e=="function"?Ck(t,e):t}var RD=U.createContext(null),Cce=t=>t,wr=()=>{var t=U.useContext(RD);return t?t.store.dispatch:Cce},w1=()=>{},Rce=()=>w1,Pce=(t,e)=>t===e;function sn(t){var e=U.useContext(RD),n=U.useMemo(()=>e?i=>{if(i!=null)return t(i)}:w1,[e,t]);return x8.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Rce,e?e.store.getState:w1,e?e.store.getState:w1,n,Pce)}function Oce(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Dce(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Ice(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${n}]`)}}var Rk=t=>Array.isArray(t)?t:[t];function Nce(t){const e=Array.isArray(t[0])?t[0]:t;return Ice(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Lce(t,e){const n=[],{length:i}=t;for(let r=0;r<i;r++)n.push(t[r].apply(null,e));return n}var Uce=class{constructor(t){this.value=t}deref(){return this.value}},zce=typeof WeakRef<"u"?WeakRef:Uce,Bce=0,Pk=1;function ZS(){return{s:Bce,v:void 0,o:null,p:null}}function wj(t,e={}){let n=ZS();const{resultEqualityCheck:i}=e;let r,a=0;function s(){var g;let l=n;const{length:c}=arguments;for(let v=0,x=c;v<x;v++){const _=arguments[v];if(typeof _=="function"||typeof _=="object"&&_!==null){let w=l.o;w===null&&(l.o=w=new WeakMap);const S=w.get(_);S===void 0?(l=ZS(),w.set(_,l)):l=S}else{let w=l.p;w===null&&(l.p=w=new Map);const S=w.get(_);S===void 0?(l=ZS(),w.set(_,l)):l=S}}const h=l;let p;if(l.s===Pk)p=l.v;else if(p=t.apply(null,arguments),a++,i){const v=((g=r==null?void 0:r.deref)==null?void 0:g.call(r))??r;v!=null&&i(v,p)&&(p=v,a!==0&&a--),r=typeof p=="object"&&p!==null||typeof p=="function"?new zce(p):p}return h.s=Pk,h.v=p,p}return s.clearCache=()=>{n=ZS(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function kce(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,i=(...r)=>{let a=0,s=0,l,c={},h=r.pop();typeof h=="object"&&(c=h,h=r.pop()),Oce(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...c},{memoize:g,memoizeOptions:v=[],argsMemoize:x=wj,argsMemoizeOptions:_=[]}=p,w=Rk(v),S=Rk(_),M=Nce(r),T=g(function(){return a++,h.apply(null,arguments)},...w),R=x(function(){s++;const L=Lce(M,arguments);return l=T.apply(null,L),l},...S);return Object.assign(R,{resultFunc:h,memoizedResultFunc:T,dependencies:M,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:x})};return Object.assign(i,{withTypes:()=>i}),i}var Ne=kce(wj),Fce=Object.assign((t,e=Ne)=>{Dce(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),i=n.map(a=>t[a]);return e(i,(...a)=>a.reduce((s,l,c)=>(s[n[c]]=l,s),{}))},{withTypes:()=>Fce}),ZC={},KC={},QC={},Ok;function Vce(){return Ok||(Ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,r,a)=>{if(i!==r){const s=e(i),l=e(r);if(s===l&&s===0){if(i<r)return a==="desc"?1:-1;if(i>r)return a==="desc"?-1:1}return a==="desc"?l-s:s-l}return 0};t.compareValues=n})(QC)),QC}var JC={},eR={},Dk;function Ej(){return Dk||(Dk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(eR)),eR}var Ik;function Hce(){return Ik||(Ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ej(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(i.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=r})(JC)),JC}var Nk;function jce(){return Nk||(Nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vce(),n=Hce(),i=wD();function r(a,s,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(x=>String(x));const h=(x,_)=>{let w=x;for(let S=0;S<_.length&&w!=null;++S)w=w[_[S]];return w},p=(x,_)=>_==null||x==null?_:typeof x=="object"&&"key"in x?Object.hasOwn(_,x.key)?_[x.key]:h(_,x.path):typeof x=="function"?x(_):Array.isArray(x)?h(_,x):typeof _=="object"?_[x]:_,g=s.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:i.toPath(x)}));return a.map(x=>({original:x,criteria:g.map(_=>p(_,x))})).slice().sort((x,_)=>{for(let w=0;w<g.length;w++){const S=e.compareValues(x.criteria[w],_.criteria[w],l[w]);if(S!==0)return S}return 0}).map(x=>x.original)}t.orderBy=r})(KC)),KC}var tR={},Lk;function Gce(){return Lk||(Lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i=1){const r=[],a=Math.floor(i),s=(l,c)=>{for(let h=0;h<l.length;h++){const p=l[h];Array.isArray(p)&&c<a?s(p,c+1):r.push(p)}};return s(n,0),r}t.flatten=e})(tR)),tR}var nR={},Uk;function Aj(){return Uk||(Uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mj(),n=TD(),i=vj(),r=xj();function a(s,l,c){return i.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?r.isEqualsSameValueZero(c[l],s):!1}t.isIterateeCall=a})(nR)),nR}var zk;function Wce(){return zk||(zk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jce(),n=Gce(),i=Aj();function r(a,...s){const l=s.length;return l>1&&i.isIterateeCall(a,s[0],s[1])?s=[]:l>2&&i.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=r})(ZC)),ZC}var iR,Bk;function qce(){return Bk||(Bk=1,iR=Wce().sortBy),iR}var Xce=qce();const SE=jl(Xce);var Tj=t=>t.legend.settings,$ce=t=>t.legend.size,Yce=t=>t.legend.payload;Ne([Yce,Tj],(t,e)=>{var{itemSorter:n}=e,i=t.flat(1);return n?SE(i,n):i});var KS=1;function Zce(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=U.useState({height:0,left:0,top:0,width:0}),i=U.useCallback(r=>{if(r!=null){var a=r.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>KS||Math.abs(s.left-e.left)>KS||Math.abs(s.top-e.top)>KS||Math.abs(s.width-e.width)>KS)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,i]}function Ma(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Kce=typeof Symbol=="function"&&Symbol.observable||"@@observable",kk=Kce,rR=()=>Math.random().toString(36).substring(7).split("").join("."),Qce={INIT:`@@redux/INIT${rR()}`,REPLACE:`@@redux/REPLACE${rR()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rR()}`},HM=Qce;function PD(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Cj(t,e,n){if(typeof t!="function")throw new Error(Ma(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ma(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ma(1));return n(Cj)(t,e)}let i=t,r=e,a=new Map,s=a,l=0,c=!1;function h(){s===a&&(s=new Map,a.forEach((S,M)=>{s.set(M,S)}))}function p(){if(c)throw new Error(Ma(3));return r}function g(S){if(typeof S!="function")throw new Error(Ma(4));if(c)throw new Error(Ma(5));let M=!0;h();const T=l++;return s.set(T,S),function(){if(M){if(c)throw new Error(Ma(6));M=!1,h(),s.delete(T),a=null}}}function v(S){if(!PD(S))throw new Error(Ma(7));if(typeof S.type>"u")throw new Error(Ma(8));if(typeof S.type!="string")throw new Error(Ma(17));if(c)throw new Error(Ma(9));try{c=!0,r=i(r,S)}finally{c=!1}return(a=s).forEach(T=>{T()}),S}function x(S){if(typeof S!="function")throw new Error(Ma(10));i=S,v({type:HM.REPLACE})}function _(){const S=g;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(Ma(11));function T(){const P=M;P.next&&P.next(p())}return T(),{unsubscribe:S(T)}},[kk](){return this}}}return v({type:HM.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:x,[kk]:_}}function Jce(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:HM.INIT})>"u")throw new Error(Ma(12));if(typeof n(void 0,{type:HM.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ma(13))})}function Rj(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const i=Object.keys(n);let r;try{Jce(n)}catch(a){r=a}return function(s={},l){if(r)throw r;let c=!1;const h={};for(let p=0;p<i.length;p++){const g=i[p],v=n[g],x=s[g],_=v(x,l);if(typeof _>"u")throw l&&l.type,new Error(Ma(14));h[g]=_,c=c||_!==x}return c=c||i.length!==Object.keys(s).length,c?h:s}}function jM(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function efe(...t){return e=>(n,i)=>{const r=e(n,i);let a=()=>{throw new Error(Ma(15))};const s={getState:r.getState,dispatch:(c,...h)=>a(c,...h)},l=t.map(c=>c(s));return a=jM(...l)(r.dispatch),{...r,dispatch:a}}}function Pj(t){return PD(t)&&"type"in t&&typeof t.type=="string"}var Oj=Symbol.for("immer-nothing"),Fk=Symbol.for("immer-draftable"),gs=Symbol.for("immer-state");function Pl(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ao=Object,kg=ao.getPrototypeOf,GM="constructor",ME="prototype",XP="configurable",WM="enumerable",E1="writable",gx="value",Bc=t=>!!t&&!!t[gs];function Hl(t){var e;return t?Dj(t)||EE(t)||!!t[Fk]||!!((e=t[GM])!=null&&e[Fk])||AE(t)||TE(t):!1}var tfe=ao[ME][GM].toString(),Vk=new WeakMap;function Dj(t){if(!t||!OD(t))return!1;const e=kg(t);if(e===null||e===ao[ME])return!0;const n=ao.hasOwnProperty.call(e,GM)&&e[GM];if(n===Object)return!0;if(!ug(n))return!1;let i=Vk.get(n);return i===void 0&&(i=Function.toString.call(n),Vk.set(n,i)),i===tfe}function wE(t,e,n=!0){Yx(t)===0?(n?Reflect.ownKeys(t):ao.keys(t)).forEach(r=>{e(r,t[r],t)}):t.forEach((i,r)=>e(r,i,t))}function Yx(t){const e=t[gs];return e?e.type_:EE(t)?1:AE(t)?2:TE(t)?3:0}var Hk=(t,e,n=Yx(t))=>n===2?t.has(e):ao[ME].hasOwnProperty.call(t,e),$P=(t,e,n=Yx(t))=>n===2?t.get(e):t[e],qM=(t,e,n,i=Yx(t))=>{i===2?t.set(e,n):i===3?t.add(n):t[e]=n};function nfe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var EE=Array.isArray,AE=t=>t instanceof Map,TE=t=>t instanceof Set,OD=t=>typeof t=="object",ug=t=>typeof t=="function",aR=t=>typeof t=="boolean";function ife(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Tc=t=>t.copy_||t.base_,DD=t=>t.modified_?t.copy_:t.base_;function YP(t,e){if(AE(t))return new Map(t);if(TE(t))return new Set(t);if(EE(t))return Array[ME].slice.call(t);const n=Dj(t);if(e===!0||e==="class_only"&&!n){const i=ao.getOwnPropertyDescriptors(t);delete i[gs];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const s=r[a],l=i[s];l[E1]===!1&&(l[E1]=!0,l[XP]=!0),(l.get||l.set)&&(i[s]={[XP]:!0,[E1]:!0,[WM]:l[WM],[gx]:t[s]})}return ao.create(kg(t),i)}else{const i=kg(t);if(i!==null&&n)return{...t};const r=ao.create(i);return ao.assign(r,t)}}function ID(t,e=!1){return CE(t)||Bc(t)||!Hl(t)||(Yx(t)>1&&ao.defineProperties(t,{set:QS,add:QS,clear:QS,delete:QS}),ao.freeze(t),e&&wE(t,(n,i)=>{ID(i,!0)},!1)),t}function rfe(){Pl(2)}var QS={[gx]:rfe};function CE(t){return t===null||!OD(t)?!0:ao.isFrozen(t)}var XM="MapSet",ZP="Patches",jk="ArrayMethods",Ij={};function dp(t){const e=Ij[t];return e||Pl(0,t),e}var Gk=t=>!!Ij[t],vx,Nj=()=>vx,afe=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Gk(XM)?dp(XM):void 0,arrayMethodsPlugin_:Gk(jk)?dp(jk):void 0});function Wk(t,e){e&&(t.patchPlugin_=dp(ZP),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function KP(t){QP(t),t.drafts_.forEach(sfe),t.drafts_=null}function QP(t){t===vx&&(vx=t.parent_)}var qk=t=>vx=afe(vx,t);function sfe(t){const e=t[gs];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Xk(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[gs].modified_&&(KP(e),Pl(4)),Hl(t)&&(t=$k(e,t));const{patchPlugin_:r}=e;r&&r.generateReplacementPatches_(n[gs].base_,t,e)}else t=$k(e,n);return ofe(e,t,!0),KP(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Oj?t:void 0}function $k(t,e){if(CE(e))return e;const n=e[gs];if(!n)return $M(e,t.handledSet_,t);if(!RE(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:i}=n;if(i)for(;i.length>0;)i.pop()(t);zj(n,t)}return n.copy_}function ofe(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ID(e,n)}function Lj(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var RE=(t,e)=>t.scope_===e,lfe=[];function Uj(t,e,n,i){const r=Tc(t),a=t.type_;if(i!==void 0&&$P(r,i,a)===e){qM(r,i,n,a);return}if(!t.draftLocations_){const l=t.draftLocations_=new Map;wE(r,(c,h)=>{if(Bc(h)){const p=l.get(h)||[];p.push(c),l.set(h,p)}})}const s=t.draftLocations_.get(e)??lfe;for(const l of s)qM(r,l,n,a)}function ufe(t,e,n){t.callbacks_.push(function(r){var l;const a=e;if(!a||!RE(a,r))return;(l=r.mapSetPlugin_)==null||l.fixSetContents(a);const s=DD(a);Uj(t,a.draft_??a,s,n),zj(a,r)})}function zj(t,e){var i;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((i=t.assigned_)==null?void 0:i.size)??0)>0)){const{patchPlugin_:r}=e;if(r){const a=r.getPath(t);a&&r.generatePatches_(t,a,e)}Lj(t)}}function cfe(t,e,n){const{scope_:i}=t;if(Bc(n)){const r=n[gs];RE(r,i)&&r.callbacks_.push(function(){A1(t);const s=DD(r);Uj(t,n,s,e)})}else Hl(n)&&t.callbacks_.push(function(){const a=Tc(t);t.type_===3?a.has(n)&&$M(n,i.handledSet_,i):$P(a,e,t.type_)===n&&i.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&$M($P(t.copy_,e,t.type_),i.handledSet_,i)})}function $M(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Bc(t)||e.has(t)||!Hl(t)||CE(t)||(e.add(t),wE(t,(i,r)=>{if(Bc(r)){const a=r[gs];if(RE(a,n)){const s=DD(a);qM(t,i,s,t.type_),Lj(a)}}else Hl(r)&&$M(r,e,n)})),t}function ffe(t,e){const n=EE(t),i={type_:n?1:0,scope_:e?e.scope_:Nj(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,a=YM;n&&(r=[i],a=yx);const{revoke:s,proxy:l}=Proxy.revocable(r,a);return i.draft_=l,i.revoke_=s,[l,i]}var YM={get(t,e){if(e===gs)return t;let n=t.scope_.arrayMethodsPlugin_;const i=t.type_===1&&typeof e=="string";if(i&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const r=Tc(t);if(!Hk(r,e,t.type_))return hfe(t,r,e);const a=r[e];if(t.finalized_||!Hl(a)||i&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&ife(e))return a;if(a===sR(t.base_,e)){A1(t);const s=t.type_===1?+e:e,l=eO(t.scope_,a,t,s);return t.copy_[s]=l}return a},has(t,e){return e in Tc(t)},ownKeys(t){return Reflect.ownKeys(Tc(t))},set(t,e,n){const i=Bj(Tc(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const r=sR(Tc(t),e),a=r==null?void 0:r[gs];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(nfe(n,r)&&(n!==void 0||Hk(t.base_,e,t.type_)))return!0;A1(t),JP(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),cfe(t,e,n)),!0},deleteProperty(t,e){return A1(t),sR(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),JP(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Tc(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{[E1]:!0,[XP]:t.type_!==1||e!=="length",[WM]:i[WM],[gx]:n[e]}},defineProperty(){Pl(11)},getPrototypeOf(t){return kg(t.base_)},setPrototypeOf(){Pl(12)}},yx={};for(let t in YM){let e=YM[t];yx[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}yx.deleteProperty=function(t,e){return yx.set.call(this,t,e,void 0)};yx.set=function(t,e,n){return YM.set.call(this,t[0],e,n,t[0])};function sR(t,e){const n=t[gs];return(n?Tc(n):t)[e]}function hfe(t,e,n){var r;const i=Bj(e,n);return i?gx in i?i[gx]:(r=i.get)==null?void 0:r.call(t.draft_):void 0}function Bj(t,e){if(!(e in t))return;let n=kg(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=kg(n)}}function JP(t){t.modified_||(t.modified_=!0,t.parent_&&JP(t.parent_))}function A1(t){t.copy_||(t.assigned_=new Map,t.copy_=YP(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var dfe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,i,r)=>{if(ug(n)&&!ug(i)){const s=i;i=n;const l=this;return function(h=s,...p){return l.produce(h,g=>i.call(this,g,...p))}}ug(i)||Pl(6),r!==void 0&&!ug(r)&&Pl(7);let a;if(Hl(n)){const s=qk(this),l=eO(s,n,void 0);let c=!0;try{a=i(l),c=!1}finally{c?KP(s):QP(s)}return Wk(s,r),Xk(a,s)}else if(!n||!OD(n)){if(a=i(n),a===void 0&&(a=n),a===Oj&&(a=void 0),this.autoFreeze_&&ID(a,!0),r){const s=[],l=[];dp(ZP).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:l}),r(s,l)}return a}else Pl(1,n)},this.produceWithPatches=(n,i)=>{if(ug(n))return(l,...c)=>this.produceWithPatches(l,h=>n(h,...c));let r,a;return[this.produce(n,i,(l,c)=>{r=l,a=c}),r,a]},aR(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),aR(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),aR(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Hl(e)||Pl(8),Bc(e)&&(e=zl(e));const n=qk(this),i=eO(n,e,void 0);return i[gs].isManual_=!0,QP(n),i}finishDraft(e,n){const i=e&&e[gs];(!i||!i.isManual_)&&Pl(9);const{scope_:r}=i;return Wk(r,n),Xk(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let i;for(i=n.length-1;i>=0;i--){const a=n[i];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}i>-1&&(n=n.slice(i+1));const r=dp(ZP).applyPatches_;return Bc(e)?r(e,n):this.produce(e,a=>r(a,n))}};function eO(t,e,n,i){const[r,a]=AE(e)?dp(XM).proxyMap_(e,n):TE(e)?dp(XM).proxySet_(e,n):ffe(e,n);return((n==null?void 0:n.scope_)??Nj()).drafts_.push(r),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=i,n&&i!==void 0?ufe(n,a,i):a.callbacks_.push(function(c){var p;(p=c.mapSetPlugin_)==null||p.fixSetContents(a);const{patchPlugin_:h}=c;a.modified_&&h&&h.generatePatches_(a,[],c)}),r}function zl(t){return Bc(t)||Pl(10,t),kj(t)}function kj(t){if(!Hl(t)||CE(t))return t;const e=t[gs];let n,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=YP(t,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else n=YP(t,!0);return wE(n,(r,a)=>{qM(n,r,kj(a))},i),e&&(e.finalized_=!1),n}var pfe=new dfe,Fj=pfe.produce;function Vj(t){return({dispatch:n,getState:i})=>r=>a=>typeof a=="function"?a(n,i,t):r(a)}var mfe=Vj(),gfe=Vj,vfe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jM:jM.apply(null,arguments)};function Qo(t,e){function n(...i){if(e){let r=e(...i);if(!r)throw new Error(uo(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>Pj(i)&&i.type===t,n}var Hj=class wy extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,wy.prototype)}static get[Symbol.species](){return wy}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new wy(...e[0].concat(this)):new wy(...e.concat(this))}};function Yk(t){return Hl(t)?Fj(t,()=>{}):t}function JS(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function yfe(t){return typeof t=="boolean"}var xfe=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let s=new Hj;return n&&(yfe(n)?s.push(mfe):s.push(gfe(n.extraArgument))),s},jj="RTK_autoBatch",Xi=()=>t=>({payload:t,meta:{[jj]:!0}}),Zk=t=>e=>{setTimeout(e,t)},Gj=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let r=!0,a=!1,s=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Zk(10):t.type==="callback"?t.queueNotification:Zk(t.timeout),h=()=>{s=!1,a&&(a=!1,l.forEach(p=>p()))};return Object.assign({},i,{subscribe(p){const g=()=>r&&p(),v=i.subscribe(g);return l.add(p),()=>{v(),l.delete(p)}},dispatch(p){var g;try{return r=!((g=p==null?void 0:p.meta)!=null&&g[jj]),a=!r,a&&(s||(s=!0,c(h))),i.dispatch(p)}finally{r=!0}}})},bfe=t=>function(n){const{autoBatch:i=!0}=n??{};let r=new Hj(t);return i&&r.push(Gj(typeof i=="object"?i:void 0)),r};function _fe(t){const e=xfe(),{reducer:n=void 0,middleware:i,devTools:r=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(PD(n))l=Rj(n);else throw new Error(uo(1));let c;typeof i=="function"?c=i(e):c=e();let h=jM;r&&(h=vfe({trace:!1,...typeof r=="object"&&r}));const p=efe(...c),g=bfe(p);let v=typeof s=="function"?s(g):g();const x=h(...v);return Cj(l,a,x)}function Wj(t){const e={},n=[];let i;const r={addCase(a,s){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(uo(28));if(l in e)throw new Error(uo(29));return e[l]=s,r},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),r},addMatcher(a,s){return n.push({matcher:a,reducer:s}),r},addDefaultCase(a){return i=a,r}};return t(r),[e,n,i]}function Sfe(t){return typeof t=="function"}function Mfe(t,e){let[n,i,r]=Wj(e),a;if(Sfe(t))a=()=>Yk(t());else{const l=Yk(t);a=()=>l}function s(l=a(),c){let h=[n[c.type],...i.filter(({matcher:p})=>p(c)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[r]),h.reduce((p,g)=>{if(g)if(Bc(p)){const x=g(p,c);return x===void 0?p:x}else{if(Hl(p))return Fj(p,v=>g(v,c));{const v=g(p,c);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},l)}return s.getInitialState=a,s}var wfe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Efe=(t=21)=>{let e="",n=t;for(;n--;)e+=wfe[Math.random()*64|0];return e},Afe=Symbol.for("rtk-slice-createasyncthunk");function Tfe(t,e){return`${t}/${e}`}function Cfe({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Afe];return function(r){const{name:a,reducerPath:s=a}=r;if(!a)throw new Error(uo(11));const l=(typeof r.reducers=="function"?r.reducers(Pfe()):r.reducers)||{},c=Object.keys(l),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(P,L){const I=typeof P=="string"?P:P.type;if(!I)throw new Error(uo(12));if(I in h.sliceCaseReducersByType)throw new Error(uo(13));return h.sliceCaseReducersByType[I]=L,p},addMatcher(P,L){return h.sliceMatchers.push({matcher:P,reducer:L}),p},exposeAction(P,L){return h.actionCreators[P]=L,p},exposeCaseReducer(P,L){return h.sliceCaseReducersByName[P]=L,p}};c.forEach(P=>{const L=l[P],I={reducerName:P,type:Tfe(a,P),createNotation:typeof r.reducers=="function"};Dfe(L)?Nfe(I,L,p,e):Ofe(I,L,p)});function g(){const[P={},L=[],I=void 0]=typeof r.extraReducers=="function"?Wj(r.extraReducers):[r.extraReducers],B={...P,...h.sliceCaseReducersByType};return Mfe(r.initialState,D=>{for(let z in B)D.addCase(z,B[z]);for(let z of h.sliceMatchers)D.addMatcher(z.matcher,z.reducer);for(let z of L)D.addMatcher(z.matcher,z.reducer);I&&D.addDefaultCase(I)})}const v=P=>P,x=new Map,_=new WeakMap;let w;function S(P,L){return w||(w=g()),w(P,L)}function M(){return w||(w=g()),w.getInitialState()}function T(P,L=!1){function I(D){let z=D[P];return typeof z>"u"&&L&&(z=JS(_,I,M)),z}function B(D=v){const z=JS(x,L,()=>new WeakMap);return JS(z,D,()=>{const W={};for(const[j,G]of Object.entries(r.selectors??{}))W[j]=Rfe(G,D,()=>JS(_,D,M),L);return W})}return{reducerPath:P,getSelectors:B,get selectors(){return B(I)},selectSlice:I}}const R={name:a,reducer:S,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:M,...T(s),injectInto(P,{reducerPath:L,...I}={}){const B=L??s;return P.inject({reducerPath:B,reducer:S},I),{...R,...T(B,!0)}}};return R}}function Rfe(t,e,n,i){function r(a,...s){let l=e(a);return typeof l>"u"&&i&&(l=n()),t(l,...s)}return r.unwrapped=t,r}var Ws=Cfe();function Pfe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Ofe({type:t,reducerName:e,createNotation:n},i,r){let a,s;if("reducer"in i){if(n&&!Ife(i))throw new Error(uo(17));a=i.reducer,s=i.prepare}else a=i;r.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Qo(t,s):Qo(t))}function Dfe(t){return t._reducerDefinitionType==="asyncThunk"}function Ife(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Nfe({type:t,reducerName:e},n,i,r){if(!r)throw new Error(uo(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:c,settled:h,options:p}=n,g=r(t,a,p);i.exposeAction(e,g),s&&i.addCase(g.fulfilled,s),l&&i.addCase(g.pending,l),c&&i.addCase(g.rejected,c),h&&i.addMatcher(g.settled,h),i.exposeCaseReducer(e,{fulfilled:s||e1,pending:l||e1,rejected:c||e1,settled:h||e1})}function e1(){}var Lfe="task",qj="listener",Xj="completed",ND="cancelled",Ufe=`task-${ND}`,zfe=`task-${Xj}`,tO=`${qj}-${ND}`,Bfe=`${qj}-${Xj}`,PE=class{constructor(t){Wi(this,"name","TaskAbortError");Wi(this,"message");this.code=t,this.message=`${Lfe} ${ND} (reason: ${t})`}},LD=(t,e)=>{if(typeof t!="function")throw new TypeError(uo(32))},ZM=()=>{},$j=(t,e=ZM)=>(t.catch(e),t),Yj=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),ep=t=>{if(t.aborted)throw new PE(t.reason)};function Zj(t,e){let n=ZM;return new Promise((i,r)=>{const a=()=>r(new PE(t.reason));if(t.aborted){a();return}n=Yj(t,a),e.finally(()=>n()).then(i,r)}).finally(()=>{n=ZM})}var kfe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof PE?"cancelled":"rejected",error:n}}finally{e==null||e()}},KM=t=>e=>$j(Zj(t,e).then(n=>(ep(t),n))),Kj=t=>{const e=KM(t);return n=>e(new Promise(i=>setTimeout(i,n)))},{assign:Ag}=Object,Kk={},OE="listenerMiddleware",Ffe=(t,e)=>{const n=i=>Yj(t,()=>i.abort(t.reason));return(i,r)=>{LD(i);const a=new AbortController;n(a);const s=kfe(async()=>{ep(t),ep(a.signal);const l=await i({pause:KM(a.signal),delay:Kj(a.signal),signal:a.signal});return ep(a.signal),l},()=>a.abort(zfe));return r!=null&&r.autoJoin&&e.push(s.catch(ZM)),{result:KM(t)(s),cancel(){a.abort(Ufe)}}}},Vfe=(t,e)=>{const n=async(i,r)=>{ep(e);let a=()=>{};const l=[new Promise((c,h)=>{let p=t({predicate:i,effect:(g,v)=>{v.unsubscribe(),c([g,v.getState(),v.getOriginalState()])}});a=()=>{p(),h()}})];r!=null&&l.push(new Promise(c=>setTimeout(c,r,null)));try{const c=await Zj(e,Promise.race(l));return ep(e),c}finally{a()}};return(i,r)=>$j(n(i,r))},Qj=t=>{let{type:e,actionCreator:n,matcher:i,predicate:r,effect:a}=t;if(e)r=Qo(e).match;else if(n)e=n.type,r=n.match;else if(i)r=i;else if(!r)throw new Error(uo(21));return LD(a),{predicate:r,type:e,effect:a}},Jj=Ag(t=>{const{type:e,predicate:n,effect:i}=Qj(t);return{id:Efe(),effect:i,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(uo(22))}}},{withTypes:()=>Jj}),Qk=(t,e)=>{const{type:n,effect:i,predicate:r}=Qj(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===r)&&a.effect===i)},nO=t=>{t.pending.forEach(e=>{e.abort(tO)})},Hfe=(t,e)=>()=>{for(const n of e.keys())nO(n);t.clear()},Jk=(t,e,n)=>{try{t(e,n)}catch(i){setTimeout(()=>{throw i},0)}},eG=Ag(Qo(`${OE}/add`),{withTypes:()=>eG}),jfe=Qo(`${OE}/removeAll`),tG=Ag(Qo(`${OE}/remove`),{withTypes:()=>tG}),Gfe=(...t)=>{console.error(`${OE}/error`,...t)},Zx=(t={})=>{const e=new Map,n=new Map,i=x=>{const _=n.get(x)??0;n.set(x,_+1)},r=x=>{const _=n.get(x)??1;_===1?n.delete(x):n.set(x,_-1)},{extra:a,onError:s=Gfe}=t;LD(s);const l=x=>(x.unsubscribe=()=>e.delete(x.id),e.set(x.id,x),_=>{x.unsubscribe(),_!=null&&_.cancelActive&&nO(x)}),c=x=>{const _=Qk(e,x)??Jj(x);return l(_)};Ag(c,{withTypes:()=>c});const h=x=>{const _=Qk(e,x);return _&&(_.unsubscribe(),x.cancelActive&&nO(_)),!!_};Ag(h,{withTypes:()=>h});const p=async(x,_,w,S)=>{const M=new AbortController,T=Vfe(c,M.signal),R=[];try{x.pending.add(M),i(x),await Promise.resolve(x.effect(_,Ag({},w,{getOriginalState:S,condition:(P,L)=>T(P,L).then(Boolean),take:T,delay:Kj(M.signal),pause:KM(M.signal),extra:a,signal:M.signal,fork:Ffe(M.signal,R),unsubscribe:x.unsubscribe,subscribe:()=>{e.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((P,L,I)=>{P!==M&&(P.abort(tO),I.delete(P))})},cancel:()=>{M.abort(tO),x.pending.delete(M)},throwIfCancelled:()=>{ep(M.signal)}})))}catch(P){P instanceof PE||Jk(s,P,{raisedBy:"effect"})}finally{await Promise.all(R),M.abort(Bfe),r(x),x.pending.delete(M)}},g=Hfe(e,n);return{middleware:x=>_=>w=>{if(!Pj(w))return _(w);if(eG.match(w))return c(w.payload);if(jfe.match(w)){g();return}if(tG.match(w))return h(w.payload);let S=x.getState();const M=()=>{if(S===Kk)throw new Error(uo(23));return S};let T;try{if(T=_(w),e.size>0){const R=x.getState(),P=Array.from(e.values());for(const L of P){let I=!1;try{I=L.predicate(w,R,S)}catch(B){I=!1,Jk(s,B,{raisedBy:"predicate"})}I&&p(L,w,x,M)}}}finally{S=Kk}return T},startListening:c,stopListening:h,clearListeners:g}};function uo(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Wfe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nG=Ws({name:"chartLayout",initialState:Wfe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,i,r,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,t.margin.bottom=(r=e.payload.bottom)!==null&&r!==void 0?r:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:qfe,setLayout:Xfe,setChartSize:$fe,setScale:Yfe}=nG.actions,Zfe=nG.reducer;function iG(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function ri(t){return Number.isFinite(t)}function xh(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function eF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eF(Object(n),!0).forEach(function(i){Kfe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Kfe(t,e,n){return(e=Qfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qfe(t){var e=Jfe(t,"string");return typeof e=="symbol"?e:e+""}function Jfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pa(t,e,n){return sa(t)||sa(e)?n:Fu(e)?Bg(t,e,n):typeof e=="function"?e(t):n}var ehe=(t,e,n)=>{if(e&&n){var{width:i,height:r}=n,{align:a,verticalAlign:s,layout:l}=e;if((l==="vertical"||l==="horizontal"&&s==="middle")&&a!=="center"&&tn(t[a]))return yg(yg({},t),{},{[a]:t[a]+(i||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&s!=="middle"&&tn(t[s]))return yg(yg({},t),{},{[s]:t[s]+(r||0)})}return t},Eh=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",the=(t,e)=>{if(!e||e.length!==2||!tn(e[0])||!tn(e[1]))return t;var n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),r=[t[0],t[1]];return(!tn(t[0])||t[0]<n)&&(r[0]=n),(!tn(t[1])||t[1]>i)&&(r[1]=i),r[0]>i&&(r[0]=i),r[1]<n&&(r[1]=n),r},nhe=t=>{var e,n=t.length;if(!(n<=0)){var i=(e=t[0])===null||e===void 0?void 0:e.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var a=0,s=0,l=0;l<n;++l){var c=t[l],h=c==null?void 0:c[r];if(h!=null){var p=h[1],g=h[0],v=ku(p)?g:p;v>=0?(h[0]=a,a+=v,h[1]=a):(h[0]=s,s+=v,h[1]=s)}}}},ihe=t=>{var e,n=t.length;if(!(n<=0)){var i=(e=t[0])===null||e===void 0?void 0:e.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var a=0,s=0;s<n;++s){var l=t[s],c=l==null?void 0:l[r];if(c!=null){var h=ku(c[1])?c[0]:c[1];h>=0?(c[0]=a,a+=h,c[1]=a):(c[0]=0,c[1]=0)}}}},rhe={sign:nhe,expand:Lue,none:fp,silhouette:Uue,wiggle:zue,positive:ihe},ahe=(t,e,n)=>{var i,r=(i=rhe[n])!==null&&i!==void 0?i:fp,a=Nue().keys(e).value((l,c)=>Number(Pa(l,c,0))).order(WP).offset(r),s=a(t);return s.forEach((l,c)=>{l.forEach((h,p)=>{var g=Pa(t[p],e[c],0);Array.isArray(g)&&g.length===2&&tn(g[0])&&tn(g[1])&&(h[0]=g[0],h[1]=g[1])})}),s};function she(t){return t==null?void 0:String(t)}var tF=t=>{var{axis:e,ticks:n,offset:i,bandSize:r,entry:a,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+i:null;var l=Pa(a,e.dataKey,e.scale.domain()[s]);if(sa(l))return null;var c=e.scale.map(l);return tn(c)?c-r/2+i:null},ohe=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var i=Math.min(n[0],n[1]),r=Math.max(n[0],n[1]);return i<=0&&r>=0?0:r<0?r:i}return n[0]},lhe=t=>{var e=t.flat(2).filter(tn);return[Math.min(...e),Math.max(...e)]},uhe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],che=(t,e,n)=>{if(t!=null)return uhe(Object.keys(t).reduce((i,r)=>{var a=t[r];if(!a)return i;var{stackedData:s}=a,l=s.reduce((c,h)=>{var p=iG(h,e,n),g=lhe(p);return!ri(g[0])||!ri(g[1])?c:[Math.min(c[0],g[0]),Math.max(c[1],g[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]))},nF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QM=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&e&&e.length>=2){for(var r=SE(e,p=>p.coordinate),a=1/0,s=1,l=r.length;s<l;s++){var c=r[s],h=r[s-1];a=Math.min(((c==null?void 0:c.coordinate)||0)-((h==null?void 0:h.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function rF(t){var{tooltipEntrySettings:e,dataKey:n,payload:i,value:r,name:a}=t;return yg(yg({},e),{},{dataKey:n,payload:i,value:r,name:a})}function rG(t,e){if(t)return String(t);if(typeof e=="string")return e}var fhe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},hhe=(t,e)=>e==="centric"?t.angle:t.radius,Xc=t=>t.layout.width,$c=t=>t.layout.height,dhe=t=>t.layout.scale,aG=t=>t.layout.margin,DE=Ne(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),IE=Ne(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),phe="data-recharts-item-index",mhe="data-recharts-item-id",Kx=60;function aF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function t1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aF(Object(n),!0).forEach(function(i){ghe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ghe(t,e,n){return(e=vhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vhe(t){var e=yhe(t,"string");return typeof e=="symbol"?e:e+""}function yhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xhe=t=>t.brush.height;function bhe(t){var e=IE(t);return e.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:Kx;return n+r}return n},0)}function _he(t){var e=IE(t);return e.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:Kx;return n+r}return n},0)}function She(t){var e=DE(t);return e.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function Mhe(t){var e=DE(t);return e.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var oa=Ne([Xc,$c,aG,xhe,bhe,_he,She,Mhe,Tj,$ce],(t,e,n,i,r,a,s,l,c,h)=>{var p={left:(n.left||0)+r,right:(n.right||0)+a},g={top:(n.top||0)+s,bottom:(n.bottom||0)+l},v=t1(t1({},g),p),x=v.bottom;v.bottom+=i,v=ehe(v,c,h);var _=t-v.left-v.right,w=e-v.top-v.bottom;return t1(t1({brushBottom:x},v),{},{width:Math.max(_,0),height:Math.max(w,0)})}),whe=Ne(oa,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),UD=Ne(Xc,$c,(t,e)=>({x:0,y:0,width:t,height:e})),Ehe=U.createContext(null),ho=()=>U.useContext(Ehe)!=null,NE=t=>t.brush,LE=Ne([NE,oa,aG],(t,e,n)=>({height:t.height,x:tn(t.x)?t.x:e.left,y:tn(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:tn(t.width)?t.width:e.width})),oR={},lR={},uR={},sF;function Ahe(){return sF||(sF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i,{signal:r,edges:a}={}){let s,l=null;const c=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),p=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},g=()=>{h&&p(),w()};let v=null;const x=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},i)},_=()=>{v!==null&&(clearTimeout(v),v=null)},w=()=>{_(),s=void 0,l=null},S=()=>{p()},M=function(...T){if(r!=null&&r.aborted)return;s=this,l=T;const R=v==null;x(),c&&R&&p()};return M.schedule=x,M.cancel=w,M.flush=S,r==null||r.addEventListener("abort",w,{once:!0}),M}t.debounce=e})(uR)),uR}var oF;function The(){return oF||(oF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ahe();function n(i,r=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:l=!0,maxWait:c}=a,h=Array(2);s&&(h[0]="leading"),l&&(h[1]="trailing");let p,g=null;const v=e.debounce(function(...w){p=i.apply(this,w),g=null},r,{edges:h}),x=function(...w){return c!=null&&(g===null&&(g=Date.now()),Date.now()-g>=c)?(p=i.apply(this,w),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,w),p)},_=()=>(v.flush(),p);return x.cancel=v.cancel,x.flush=_,x}t.debounce=n})(lR)),lR}var lF;function Che(){return lF||(lF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=The();function n(i,r=0,a={}){const{leading:s=!0,trailing:l=!0}=a;return e.debounce(i,r,{leading:s,maxWait:r,trailing:l})}t.throttle=n})(oR)),oR}var cR,uF;function Rhe(){return uF||(uF=1,cR=Che().throttle),cR}var Phe=Rhe();const Ohe=jl(Phe);var cF=function(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>r[s++]))}},Iu={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},sG=(t,e,n)=>{var{width:i=Iu.width,height:r=Iu.height,aspect:a,maxHeight:s}=n,l=hp(i)?t:Number(i),c=hp(r)?e:Number(r);return a&&a>0&&(l?c=l/a:c&&(l=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:l,calculatedHeight:c}},Dhe={width:0,height:0,overflow:"visible"},Ihe={width:0,overflowX:"visible"},Nhe={height:0,overflowY:"visible"},Lhe={},Uhe=t=>{var{width:e,height:n}=t,i=hp(e),r=hp(n);return i&&r?Dhe:i?Ihe:r?Nhe:Lhe};function zhe(t){var{width:e,height:n,aspect:i}=t,r=e,a=n;return r===void 0&&a===void 0?(r=Iu.width,a=Iu.height):r===void 0?r=i&&i>0?void 0:Iu.width:a===void 0&&(a=i&&i>0?void 0:Iu.height),{width:r,height:a}}function iO(){return iO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},iO.apply(null,arguments)}function fF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function hF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fF(Object(n),!0).forEach(function(i){Bhe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Bhe(t,e,n){return(e=khe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function khe(t){var e=Fhe(t,"string");return typeof e=="symbol"?e:e+""}function Fhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oG=U.createContext(Iu.initialDimension);function Vhe(t){return xh(t.width)&&xh(t.height)}function lG(t){var{children:e,width:n,height:i}=t,r=U.useMemo(()=>({width:n,height:i}),[n,i]);return Vhe(r)?U.createElement(oG.Provider,{value:r},e):null}var zD=()=>U.useContext(oG),Hhe=U.forwardRef((t,e)=>{var{aspect:n,initialDimension:i=Iu.initialDimension,width:r,height:a,minWidth:s=Iu.minWidth,minHeight:l,maxHeight:c,children:h,debounce:p=Iu.debounce,id:g,className:v,onResize:x,style:_={}}=t,w=U.useRef(null),S=U.useRef();S.current=x,U.useImperativeHandle(e,()=>w.current);var[M,T]=U.useState({containerWidth:i.width,containerHeight:i.height}),R=U.useCallback((D,z)=>{T(W=>{var j=Math.round(D),G=Math.round(z);return W.containerWidth===j&&W.containerHeight===G?W:{containerWidth:j,containerHeight:G}})},[]);U.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return rv;var D=G=>{var J,te=G[0];if(te!=null){var{width:ie,height:q}=te.contentRect;R(ie,q),(J=S.current)===null||J===void 0||J.call(S,ie,q)}};p>0&&(D=Ohe(D,p,{trailing:!0,leading:!1}));var z=new ResizeObserver(D),{width:W,height:j}=w.current.getBoundingClientRect();return R(W,j),z.observe(w.current),()=>{z.disconnect()}},[R,p]);var{containerWidth:P,containerHeight:L}=M;cF(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:I,calculatedHeight:B}=sG(P,L,{width:r,height:a,aspect:n,maxHeight:c});return cF(I!=null&&I>0||B!=null&&B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,B,r,a,s,l,n),U.createElement("div",{id:g?"".concat(g):void 0,className:ki("recharts-responsive-container",v),style:hF(hF({},_),{},{width:r,height:a,minWidth:s,minHeight:l,maxHeight:c}),ref:w},U.createElement("div",{style:Uhe({width:r,height:a})},U.createElement(lG,{width:I,height:B},h)))}),jhe=U.forwardRef((t,e)=>{var n=zD();if(xh(n.width)&&xh(n.height))return t.children;var{width:i,height:r}=zhe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=sG(void 0,void 0,{width:i,height:r,aspect:t.aspect,maxHeight:t.maxHeight});return tn(a)&&tn(s)?U.createElement(lG,{width:a,height:s},t.children):U.createElement(Hhe,iO({},t,{width:i,height:r,ref:e}))});function BD(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var UE=()=>{var t,e=ho(),n=sn(whe),i=sn(LE),r=(t=sn(NE))===null||t===void 0?void 0:t.padding;return!e||!i||!r?n:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},Ghe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Whe=()=>{var t;return(t=sn(oa))!==null&&t!==void 0?t:Ghe},qhe=()=>sn(Xc),Xhe=()=>sn($c),_i=t=>t.layout.layoutType,av=()=>sn(_i),uG=()=>{var t=av();if(t==="horizontal"||t==="vertical")return t},cG=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},$he=()=>{var t=av();return t!==void 0},Qx=t=>{var e=wr(),n=ho(),{width:i,height:r}=t,a=zD(),s=i,l=r;return a&&(s=a.width>0?a.width:i,l=a.height>0?a.height:r),U.useEffect(()=>{!n&&xh(s)&&xh(l)&&e($fe({width:s,height:l}))},[e,n,s,l]),null},fG=Symbol.for("immer-nothing"),dF=Symbol.for("immer-draftable"),fo=Symbol.for("immer-state");function Ol(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var xx=Object.getPrototypeOf;function Fg(t){return!!t&&!!t[fo]}function pp(t){var e;return t?hG(t)||Array.isArray(t)||!!t[dF]||!!((e=t.constructor)!=null&&e[dF])||Jx(t)||BE(t):!1}var Yhe=Object.prototype.constructor.toString(),pF=new WeakMap;function hG(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let i=pF.get(n);return i===void 0&&(i=Function.toString.call(n),pF.set(n,i)),i===Yhe}function JM(t,e,n=!0){zE(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(r=>{e(r,t[r],t)}):t.forEach((i,r)=>e(r,i,t))}function zE(t){const e=t[fo];return e?e.type_:Array.isArray(t)?1:Jx(t)?2:BE(t)?3:0}function rO(t,e){return zE(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function dG(t,e,n){const i=zE(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function Zhe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Jx(t){return t instanceof Map}function BE(t){return t instanceof Set}function Ld(t){return t.copy_||t.base_}function aO(t,e){if(Jx(t))return new Map(t);if(BE(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=hG(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[fo];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const s=r[a],l=i[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(i[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[s]})}return Object.create(xx(t),i)}else{const i=xx(t);if(i!==null&&n)return{...t};const r=Object.create(i);return Object.assign(r,t)}}function kD(t,e=!1){return kE(t)||Fg(t)||!pp(t)||(zE(t)>1&&Object.defineProperties(t,{set:n1,add:n1,clear:n1,delete:n1}),Object.freeze(t),e&&Object.values(t).forEach(n=>kD(n,!0))),t}function Khe(){Ol(2)}var n1={value:Khe};function kE(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Qhe={};function mp(t){const e=Qhe[t];return e||Ol(0,t),e}var bx;function pG(){return bx}function Jhe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mF(t,e){e&&(mp("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function sO(t){oO(t),t.drafts_.forEach(ede),t.drafts_=null}function oO(t){t===bx&&(bx=t.parent_)}function gF(t){return bx=Jhe(bx,t)}function ede(t){const e=t[fo];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function vF(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[fo].modified_&&(sO(e),Ol(4)),pp(t)&&(t=ew(e,t),e.parent_||tw(e,t)),e.patches_&&mp("Patches").generateReplacementPatches_(n[fo].base_,t,e.patches_,e.inversePatches_)):t=ew(e,n,[]),sO(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==fG?t:void 0}function ew(t,e,n){if(kE(e))return e;const i=t.immer_.shouldUseStrictIteration(),r=e[fo];if(!r)return JM(e,(a,s)=>yF(t,r,e,a,s,n),i),e;if(r.scope_!==t)return e;if(!r.modified_)return tw(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let s=a,l=!1;r.type_===3&&(s=new Set(a),a.clear(),l=!0),JM(s,(c,h)=>yF(t,r,a,c,h,n,l),i),tw(t,a,!1),n&&t.patches_&&mp("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function yF(t,e,n,i,r,a,s){if(r==null||typeof r!="object"&&!s)return;const l=kE(r);if(!(l&&!s)){if(Fg(r)){const c=a&&e&&e.type_!==3&&!rO(e.assigned_,i)?a.concat(i):void 0,h=ew(t,r,c);if(dG(n,i,h),Fg(h))t.canAutoFreeze_=!1;else return}else s&&n.add(r);if(pp(r)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===r&&l)return;ew(t,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(Jx(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&tw(t,r)}}}function tw(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&kD(e,n)}function tde(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:pG(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=FD;n&&(r=[i],a=_x);const{revoke:s,proxy:l}=Proxy.revocable(r,a);return i.draft_=l,i.revoke_=s,l}var FD={get(t,e){if(e===fo)return t;const n=Ld(t);if(!rO(n,e))return nde(t,n,e);const i=n[e];return t.finalized_||!pp(i)?i:i===fR(t.base_,e)?(hR(t),t.copy_[e]=uO(i,t)):i},has(t,e){return e in Ld(t)},ownKeys(t){return Reflect.ownKeys(Ld(t))},set(t,e,n){const i=mG(Ld(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const r=fR(Ld(t),e),a=r==null?void 0:r[fo];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Zhe(n,r)&&(n!==void 0||rO(t.base_,e)))return!0;hR(t),lO(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return fR(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,hR(t),lO(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ld(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){Ol(11)},getPrototypeOf(t){return xx(t.base_)},setPrototypeOf(){Ol(12)}},_x={};JM(FD,(t,e)=>{_x[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});_x.deleteProperty=function(t,e){return _x.set.call(this,t,e,void 0)};_x.set=function(t,e,n){return FD.set.call(this,t[0],e,n,t[0])};function fR(t,e){const n=t[fo];return(n?Ld(n):t)[e]}function nde(t,e,n){var r;const i=mG(e,n);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(t.draft_):void 0}function mG(t,e){if(!(e in t))return;let n=xx(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=xx(n)}}function lO(t){t.modified_||(t.modified_=!0,t.parent_&&lO(t.parent_))}function hR(t){t.copy_||(t.copy_=aO(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var ide=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(c=a,...h){return s.produce(c,p=>n.call(this,p,...h))}}typeof n!="function"&&Ol(6),i!==void 0&&typeof i!="function"&&Ol(7);let r;if(pp(e)){const a=gF(this),s=uO(e,void 0);let l=!0;try{r=n(s),l=!1}finally{l?sO(a):oO(a)}return mF(a,i),vF(r,a)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===fG&&(r=void 0),this.autoFreeze_&&kD(r,!0),i){const a=[],s=[];mp("Patches").generateReplacementPatches_(e,r,a,s),i(a,s)}return r}else Ol(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,c=>e(c,...l));let i,r;return[this.produce(e,n,(s,l)=>{i=s,r=l}),i,r]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){pp(t)||Ol(8),Fg(t)&&(t=rde(t));const e=gF(this),n=uO(t,void 0);return n[fo].isManual_=!0,oO(e),n}finishDraft(t,e){const n=t&&t[fo];(!n||!n.isManual_)&&Ol(9);const{scope_:i}=n;return mF(i,e),vF(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const i=mp("Patches").applyPatches_;return Fg(t)?i(t,e):this.produce(t,r=>i(r,e))}};function uO(t,e){const n=Jx(t)?mp("MapSet").proxyMap_(t,e):BE(t)?mp("MapSet").proxySet_(t,e):tde(t,e);return(e?e.scope_:pG()).drafts_.push(n),n}function rde(t){return Fg(t)||Ol(10,t),gG(t)}function gG(t){if(!pp(t)||kE(t))return t;const e=t[fo];let n,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=aO(t,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else n=aO(t,!0);return JM(n,(r,a)=>{dG(n,r,gG(a))},i),e&&(e.finalized_=!1),n}var ade=new ide;ade.produce;var sde={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},vG=Ws({name:"legend",initialState:sde,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Xi()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:i}=e.payload,r=zl(t).payload.indexOf(n);r>-1&&(t.payload[r]=i)},prepare:Xi()},removeLegendPayload:{reducer(t,e){var n=zl(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Xi()}}}),{setLegendSize:kwe,setLegendSettings:Fwe,addLegendPayload:ode,replaceLegendPayload:lde,removeLegendPayload:ude}=vG.actions,cde=vG.reducer;function cO(){return cO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cO.apply(null,arguments)}function xF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(n),!0).forEach(function(i){fde(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function fde(t,e,n){return(e=hde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hde(t){var e=dde(t,"string");return typeof e=="symbol"?e:e+""}function dde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pde(t){return Array.isArray(t)&&Fu(t[0])&&Fu(t[1])?t.join(" ~ "):t}var rg={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},mde=t=>{var{separator:e=rg.separator,contentStyle:n,itemStyle:i,labelStyle:r=rg.labelStyle,payload:a,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:v=rg.accessibilityLayer}=t,x=()=>{if(a&&a.length){var L={padding:0,margin:0},I=(l?SE(a,l):a).map((B,D)=>{if(B.type==="none")return null;var z=B.formatter||s||pde,{value:W,name:j}=B,G=W,J=j;if(z){var te=z(W,j,B,D,a);if(Array.isArray(te))[G,J]=te;else if(te!=null)G=te;else return null}var ie=cy(cy({},rg.itemStyle),{},{color:B.color||rg.itemStyle.color},i);return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:ie},Fu(J)?U.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Fu(J)?U.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,U.createElement("span",{className:"recharts-tooltip-item-value"},G),U.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:L},I)}return null},_=cy(cy({},rg.contentStyle),n),w=cy({margin:0},r),S=!sa(p),M=S?p:"",T=ki("recharts-default-tooltip",c),R=ki("recharts-tooltip-label",h);S&&g&&a!==void 0&&a!==null&&(M=g(p,a));var P=v?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",cO({className:T,style:_},P),U.createElement("p",{className:R,style:w},U.isValidElement(M)?M:"".concat(M)),x())},fy="recharts-tooltip-wrapper",gde={visibility:"hidden"};function vde(t){var{coordinate:e,translateX:n,translateY:i}=t;return ki(fy,{["".concat(fy,"-right")]:tn(n)&&e&&tn(e.x)&&n>=e.x,["".concat(fy,"-left")]:tn(n)&&e&&tn(e.x)&&n<e.x,["".concat(fy,"-bottom")]:tn(i)&&e&&tn(e.y)&&i>=e.y,["".concat(fy,"-top")]:tn(i)&&e&&tn(e.y)&&i<e.y})}function bF(t){var{allowEscapeViewBox:e,coordinate:n,key:i,offset:r,position:a,reverseDirection:s,tooltipDimension:l,viewBox:c,viewBoxDimension:h}=t;if(a&&tn(a[i]))return a[i];var p=n[i]-l-(r>0?r:0),g=n[i]+r;if(e[i])return s[i]?p:g;var v=c[i];if(v==null)return 0;if(s[i]){var x=p,_=v;return x<_?Math.max(g,v):Math.max(p,v)}if(h==null)return 0;var w=g+l,S=v+h;return w>S?Math.max(p,v):Math.max(g,v)}function yde(t){var{translateX:e,translateY:n,useTranslate3d:i}=t;return{transform:i?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function xde(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:i,offsetLeft:r,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:c,viewBox:h}=t,p,g,v;return l.height>0&&l.width>0&&n?(g=bF({allowEscapeViewBox:e,coordinate:n,key:"x",offset:r,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:h,viewBoxDimension:h.width}),v=bF({allowEscapeViewBox:e,coordinate:n,key:"y",offset:i,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:h,viewBoxDimension:h.height}),p=yde({translateX:g,translateY:v,useTranslate3d:c})):p=gde,{cssProperties:p,cssClasses:vde({translateX:g,translateY:v,coordinate:n})}}function _F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function i1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_F(Object(n),!0).forEach(function(i){fO(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_F(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function fO(t,e,n){return(e=bde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bde(t){var e=_de(t,"string");return typeof e=="symbol"?e:e+""}function _de(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Sde extends U.PureComponent{constructor(){super(...arguments),fO(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),fO(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,i,r,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0,y:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:i,animationEasing:r,children:a,coordinate:s,hasPayload:l,isAnimationActive:c,offset:h,position:p,reverseDirection:g,useTranslate3d:v,viewBox:x,wrapperStyle:_,lastBoundingBox:w,innerRef:S,hasPortalFromProps:M}=this.props,T=typeof h=="number"?h:h.x,R=typeof h=="number"?h:h.y,{cssClasses:P,cssProperties:L}=xde({allowEscapeViewBox:n,coordinate:s,offsetLeft:T,offsetTop:R,position:p,reverseDirection:g,tooltipBox:{height:w.height,width:w.width},useTranslate3d:v,viewBox:x}),I=M?{}:i1(i1({transition:c&&e?"transform ".concat(i,"ms ").concat(r):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),B=i1(i1({},I),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},_);return U.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:B,ref:S},a)}}var yG=()=>{var t;return(t=sn(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function hO(){return hO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hO.apply(null,arguments)}function SF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function MF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(n),!0).forEach(function(i){Mde(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Mde(t,e,n){return(e=wde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wde(t){var e=Ede(t,"string");return typeof e=="symbol"?e:e+""}function Ede(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wF={curveBasisClosed:Mue,curveBasisOpen:wue,curveBasis:Sue,curveBumpX:lue,curveBumpY:uue,curveLinearClosed:Eue,curveLinear:bE,curveMonotoneX:Aue,curveMonotoneY:Tue,curveNatural:Cue,curveStep:Rue,curveStepAfter:Oue,curveStepBefore:Pue},nw=t=>ri(t.x)&&ri(t.y),EF=t=>t.base!=null&&nw(t.base)&&nw(t),hy=t=>t.x,dy=t=>t.y,Ade=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat($x(t));if((n==="curveMonotone"||n==="curveBump")&&e){var i=wF["".concat(n).concat(e==="vertical"?"Y":"X")];if(i)return i}return wF[n]||bE},AF={connectNulls:!1,type:"linear"},Tde=t=>{var{type:e=AF.type,points:n=[],baseLine:i,layout:r,connectNulls:a=AF.connectNulls}=t,s=Ade(e,r),l=a?n.filter(nw):n;if(Array.isArray(i)){var c,h=n.map((_,w)=>MF(MF({},_),{},{base:i[w]}));r==="vertical"?c=YS().y(dy).x1(hy).x0(_=>_.base.x):c=YS().x(hy).y1(dy).y0(_=>_.base.y);var p=c.defined(EF).curve(s),g=a?h.filter(EF):h;return p(g)}var v;r==="vertical"&&tn(i)?v=YS().y(dy).x1(hy).x0(i):tn(i)?v=YS().x(hy).y1(dy).y0(i):v=ej().x(hy).y(dy);var x=v.defined(nw).curve(s);return x(l)},xG=t=>{var{className:e,points:n,path:i,pathRef:r}=t,a=av();if((!n||!n.length)&&!i)return null;var s={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},l=n&&n.length?Tde(s):i;return U.createElement("path",hO({},yh(t),tce(t),{className:ki("recharts-curve",e),d:l===null?void 0:l,ref:r}))},Cde=["x","y","top","left","width","height","className"];function dO(){return dO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dO.apply(null,arguments)}function TF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Rde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(n),!0).forEach(function(i){Pde(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Pde(t,e,n){return(e=Ode(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ode(t){var e=Dde(t,"string");return typeof e=="symbol"?e:e+""}function Dde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ide(t,e){if(t==null)return{};var n,i,r=Nde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nde(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Lde=(t,e,n,i,r,a)=>"M".concat(t,",").concat(r,"v").concat(i,"M").concat(a,",").concat(e,"h").concat(n),Ude=t=>{var{x:e=0,y:n=0,top:i=0,left:r=0,width:a=0,height:s=0,className:l}=t,c=Ide(t,Cde),h=Rde({x:e,y:n,top:i,left:r,width:a,height:s},c);return!tn(e)||!tn(n)||!tn(a)||!tn(s)||!tn(i)||!tn(r)?null:U.createElement("path",dO({},Ko(h),{className:ki("recharts-cross",l),d:Lde(e,n,a,s,i,r)}))};function zde(t,e,n,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-r:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-r,width:t==="horizontal"?i:n.width-1,height:t==="horizontal"?n.height-1:i}}function CF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function RF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(n),!0).forEach(function(i){Bde(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Bde(t,e,n){return(e=kde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kde(t){var e=Fde(t,"string");return typeof e=="symbol"?e:e+""}function Fde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vde=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),bG=(t,e,n)=>t.map(i=>"".concat(Vde(i)," ").concat(e,"ms ").concat(n)).join(","),Hde=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,i)=>n.filter(r=>i.includes(r))),Sx=(t,e)=>Object.keys(e).reduce((n,i)=>RF(RF({},n),{},{[i]:t(i,e[i])}),{});function PF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PF(Object(n),!0).forEach(function(i){jde(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function jde(t,e,n){return(e=Gde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gde(t){var e=Wde(t,"string");return typeof e=="symbol"?e:e+""}function Wde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iw=(t,e,n)=>t+(e-t)*n,pO=t=>{var{from:e,to:n}=t;return e!==n},_G=(t,e,n)=>{var i=Sx((r,a)=>{if(pO(a)){var[s,l]=t(a.from,a.to,a.velocity);return Hr(Hr({},a),{},{from:s,velocity:l})}return a},e);return n<1?Sx((r,a)=>pO(a)&&i[r]!=null?Hr(Hr({},a),{},{velocity:iw(a.velocity,i[r].velocity,n),from:iw(a.from,i[r].from,n)}):a,e):_G(t,i,n-1)};function qde(t,e,n,i,r,a){var s,l=i.reduce((v,x)=>Hr(Hr({},v),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),c=()=>Sx((v,x)=>x.from,l),h=()=>!Object.values(l).filter(pO).length,p=null,g=v=>{s||(s=v);var x=v-s,_=x/n.dt;l=_G(n,l,_),r(Hr(Hr(Hr({},t),e),c())),s=v,h()||(p=a.setTimeout(g))};return()=>(p=a.setTimeout(g),()=>{var v;(v=p)===null||v===void 0||v()})}function Xde(t,e,n,i,r,a,s){var l=null,c=r.reduce((g,v)=>{var x=t[v],_=e[v];return x==null||_==null?g:Hr(Hr({},g),{},{[v]:[x,_]})},{}),h,p=g=>{h||(h=g);var v=(g-h)/i,x=Sx((w,S)=>iw(...S,n(v)),c);if(a(Hr(Hr(Hr({},t),e),x)),v<1)l=s.setTimeout(p);else{var _=Sx((w,S)=>iw(...S,n(1)),c);a(Hr(Hr(Hr({},t),e),_))}};return()=>(l=s.setTimeout(p),()=>{var g;(g=l)===null||g===void 0||g()})}const $de=(t,e,n,i,r,a)=>{var s=Hde(t,e);return n==null?()=>(r(Hr(Hr({},t),e)),()=>{}):n.isStepper===!0?qde(t,e,n,s,r,a):Xde(t,e,n,i,s,r,a)};var rw=1e-4,SG=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],MG=(t,e)=>t.map((n,i)=>n*e**i).reduce((n,i)=>n+i),OF=(t,e)=>n=>{var i=SG(t,e);return MG(i,n)},Yde=(t,e)=>n=>{var i=SG(t,e),r=[...i.map((a,s)=>a*s).slice(1),0];return MG(r,n)},Zde=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var i=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(i==null||i.length!==4)return null;var r=i.map(a=>parseFloat(a));return[r[0],r[1],r[2],r[3]]},Kde=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=Zde(n[0]);if(r)return r}}return n.length===4?n:[0,0,1,1]},Qde=(t,e,n,i)=>{var r=OF(t,n),a=OF(e,i),s=Yde(t,n),l=h=>h>1?1:h<0?0:h,c=h=>{for(var p=h>1?1:h,g=p,v=0;v<8;++v){var x=r(g)-p,_=s(g);if(Math.abs(x-p)<rw||_<rw)return a(g);g=l(g-x/_)}return a(g)};return c.isStepper=!1,c},DF=function(){return Qde(...Kde(...arguments))},Jde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:r=17}=e,a=(s,l,c)=>{var h=-(s-l)*n,p=c*i,g=c+(h-p)*r/1e3,v=c*r/1e3+s;return Math.abs(v-l)<rw&&Math.abs(g)<rw?[l,0]:[v,g]};return a.isStepper=!0,a.dt=r,a},epe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DF(t);case"spring":return Jde();default:if(t.split("(")[0]==="cubic-bezier")return DF(t)}return typeof t=="function"?t:null};function tpe(t){var e,n=()=>null,i=!1,r=null,a=s=>{if(!i){if(Array.isArray(s)){if(!s.length)return;var l=s,[c,...h]=l;if(typeof c=="number"){r=t.setTimeout(a.bind(null,h),c);return}a(c),r=t.setTimeout(a.bind(null,h));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{i=!0},start:s=>{i=!1,r&&(r(),r=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class npe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,a=s=>{s-i>=n?e(s):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{r!=null&&cancelAnimationFrame(r)}}}function ipe(){return tpe(new npe)}var rpe=U.createContext(ipe);function ape(t,e){var n=U.useContext(rpe);return U.useMemo(()=>e??n(t),[t,e,n])}var spe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),FE={isSsr:spe()},ope={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},IF={t:0},dR={t:1};function VD(t){var e=tl(t,ope),{isActive:n,canBegin:i,duration:r,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:c,children:h}=e,p=n==="auto"?!FE.isSsr:n,g=ape(e.animationId,e.animationManager),[v,x]=U.useState(p?IF:dR),_=U.useRef(null);return U.useEffect(()=>{p||x(dR)},[p]),U.useEffect(()=>{if(!p||!i)return rv;var w=$de(IF,dR,epe(a),r,x,g.getTimeoutController()),S=()=>{_.current=w()};return g.start([c,s,S,r,l]),()=>{g.stop(),_.current&&_.current(),l()}},[p,i,r,a,s,c,l,g]),h(v.t)}function HD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=U.useRef(mx(e)),i=U.useRef(t);return i.current!==t&&(n.current=mx(e),i.current=t),n.current}var lpe=["radius"],upe=["radius"],NF,LF,UF,zF,BF,kF,FF,VF,HF,jF;function GF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function WF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GF(Object(n),!0).forEach(function(i){cpe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function cpe(t,e,n){return(e=fpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fpe(t){var e=hpe(t,"string");return typeof e=="symbol"?e:e+""}function hpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},aw.apply(null,arguments)}function qF(t,e){if(t==null)return{};var n,i,r=dpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dpe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function wu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var XF=(t,e,n,i,r)=>{var a=ch(n),s=ch(i),l=Math.min(Math.abs(a)/2,Math.abs(s)/2),c=s>=0?1:-1,h=a>=0?1:-1,p=s>=0&&a>=0||s<0&&a<0?1:0,g;if(l>0&&Array.isArray(r)){for(var v=[0,0,0,0],x=0,_=4;x<_;x++){var w,S=(w=r[x])!==null&&w!==void 0?w:0;v[x]=S>l?l:S}g=dr(NF||(NF=wu(["M",",",""])),t,e+c*v[0]),v[0]>0&&(g+=dr(LF||(LF=wu(["A ",",",",0,0,",",",",",""])),v[0],v[0],p,t+h*v[0],e)),g+=dr(UF||(UF=wu(["L ",",",""])),t+n-h*v[1],e),v[1]>0&&(g+=dr(zF||(zF=wu(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],p,t+n,e+c*v[1])),g+=dr(BF||(BF=wu(["L ",",",""])),t+n,e+i-c*v[2]),v[2]>0&&(g+=dr(kF||(kF=wu(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],p,t+n-h*v[2],e+i)),g+=dr(FF||(FF=wu(["L ",",",""])),t+h*v[3],e+i),v[3]>0&&(g+=dr(VF||(VF=wu(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],p,t,e+i-c*v[3])),g+="Z"}else if(l>0&&r===+r&&r>0){var M=Math.min(l,r);g=dr(HF||(HF=wu(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*M,M,M,p,t+h*M,e,t+n-h*M,e,M,M,p,t+n,e+c*M,t+n,e+i-c*M,M,M,p,t+n-h*M,e+i,t+h*M,e+i,M,M,p,t,e+i-c*M)}else g=dr(jF||(jF=wu(["M ",","," h "," v "," h "," Z"])),t,e,n,i,-n);return g},$F={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wG=t=>{var e=tl(t,$F),n=U.useRef(null),[i,r]=U.useState(-1);U.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var K=n.current.getTotalLength();K&&r(K)}catch{}},[]);var{x:a,y:s,width:l,height:c,radius:h,className:p}=e,{animationEasing:g,animationDuration:v,animationBegin:x,isAnimationActive:_,isUpdateAnimationActive:w}=e,S=U.useRef(l),M=U.useRef(c),T=U.useRef(a),R=U.useRef(s),P=U.useMemo(()=>({x:a,y:s,width:l,height:c,radius:h}),[a,s,l,c,h]),L=HD(P,"rectangle-");if(a!==+a||s!==+s||l!==+l||c!==+c||l===0||c===0)return null;var I=ki("recharts-rectangle",p);if(!w){var B=Ko(e),{radius:D}=B,z=qF(B,lpe);return U.createElement("path",aw({},z,{x:ch(a),y:ch(s),width:ch(l),height:ch(c),radius:typeof h=="number"?h:void 0,className:I,d:XF(a,s,l,c,h)}))}var W=S.current,j=M.current,G=T.current,J=R.current,te="0px ".concat(i===-1?1:i,"px"),ie="".concat(i,"px 0px"),q=bG(["strokeDasharray"],v,typeof g=="string"?g:$F.animationEasing);return U.createElement(VD,{animationId:L,key:L,canBegin:i>0,duration:v,easing:g,isActive:w,begin:x},K=>{var pe=Aa(W,l,K),de=Aa(j,c,K),_e=Aa(G,a,K),Y=Aa(J,s,K);n.current&&(S.current=pe,M.current=de,T.current=_e,R.current=Y);var re;_?K>0?re={transition:q,strokeDasharray:ie}:re={strokeDasharray:te}:re={strokeDasharray:ie};var Me=Ko(e),{radius:ke}=Me,mt=qF(Me,upe);return U.createElement("path",aw({},mt,{radius:typeof h=="number"?h:void 0,className:I,d:XF(_e,Y,pe,de,h),ref:n,style:WF(WF({},re),e.style)}))})};function YF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ZF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YF(Object(n),!0).forEach(function(i){ppe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ppe(t,e,n){return(e=mpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mpe(t){var e=gpe(t,"string");return typeof e=="symbol"?e:e+""}function gpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sw=Math.PI/180,vpe=t=>t*180/Math.PI,Ca=(t,e,n,i)=>({x:t+Math.cos(-sw*i)*n,y:e+Math.sin(-sw*i)*n}),ype=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},xpe=(t,e)=>{var{x:n,y:i}=t,{x:r,y:a}=e;return Math.sqrt((n-r)**2+(i-a)**2)},bpe=(t,e)=>{var{x:n,y:i}=t,{cx:r,cy:a}=e,s=xpe({x:n,y:i},{x:r,y:a});if(s<=0)return{radius:s,angle:0};var l=(n-r)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:vpe(c),angleInRadian:c}},_pe=t=>{var{startAngle:e,endAngle:n}=t,i=Math.floor(e/360),r=Math.floor(n/360),a=Math.min(i,r);return{startAngle:e-a*360,endAngle:n-a*360}},Spe=(t,e)=>{var{startAngle:n,endAngle:i}=e,r=Math.floor(n/360),a=Math.floor(i/360),s=Math.min(r,a);return t+s*360},Mpe=(t,e)=>{var{chartX:n,chartY:i}=t,{radius:r,angle:a}=bpe({x:n,y:i},e),{innerRadius:s,outerRadius:l}=e;if(r<s||r>l||r===0)return null;var{startAngle:c,endAngle:h}=_pe(e),p=a,g;if(c<=h){for(;p>h;)p-=360;for(;p<c;)p+=360;g=p>=c&&p<=h}else{for(;p>c;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=c}return g?ZF(ZF({},e),{},{radius:r,angle:Spe(p,e)}):null};function EG(t){var{cx:e,cy:n,radius:i,startAngle:r,endAngle:a}=t,s=Ca(e,n,i,r),l=Ca(e,n,i,a);return{points:[s,l],cx:e,cy:n,radius:i,startAngle:r,endAngle:a}}var KF,QF,JF,e4,t4,n4,i4;function mO(){return mO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mO.apply(null,arguments)}function qd(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var wpe=(t,e)=>{var n=ro(e-t),i=Math.min(Math.abs(e-t),359.999);return n*i},r1=t=>{var{cx:e,cy:n,radius:i,angle:r,sign:a,isExternal:s,cornerRadius:l,cornerIsExternal:c}=t,h=l*(s?1:-1)+i,p=Math.asin(l/h)/sw,g=c?r:r+a*p,v=Ca(e,n,h,g),x=Ca(e,n,i,g),_=c?r-a*p:r,w=Ca(e,n,h*Math.cos(p*sw),_);return{center:v,circleTangency:x,lineTangency:w,theta:p}},AG=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:r,startAngle:a,endAngle:s}=t,l=wpe(a,s),c=a+l,h=Ca(e,n,r,a),p=Ca(e,n,r,c),g=dr(KF||(KF=qd(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,r,r,+(Math.abs(l)>180),+(a>c),p.x,p.y);if(i>0){var v=Ca(e,n,i,a),x=Ca(e,n,i,c);g+=dr(QF||(QF=qd(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,i,i,+(Math.abs(l)>180),+(a<=c),v.x,v.y)}else g+=dr(JF||(JF=qd(["L ",","," Z"])),e,n);return g},Epe=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:r,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:h}=t,p=ro(h-c),{circleTangency:g,lineTangency:v,theta:x}=r1({cx:e,cy:n,radius:r,angle:c,sign:p,cornerRadius:a,cornerIsExternal:l}),{circleTangency:_,lineTangency:w,theta:S}=r1({cx:e,cy:n,radius:r,angle:h,sign:-p,cornerRadius:a,cornerIsExternal:l}),M=l?Math.abs(c-h):Math.abs(c-h)-x-S;if(M<0)return s?dr(e4||(e4=qd(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,a,a,a*2,a,a,-a*2):AG({cx:e,cy:n,innerRadius:i,outerRadius:r,startAngle:c,endAngle:h});var T=dr(t4||(t4=qd(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,a,a,+(p<0),g.x,g.y,r,r,+(M>180),+(p<0),_.x,_.y,a,a,+(p<0),w.x,w.y);if(i>0){var{circleTangency:R,lineTangency:P,theta:L}=r1({cx:e,cy:n,radius:i,angle:c,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:I,lineTangency:B,theta:D}=r1({cx:e,cy:n,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),z=l?Math.abs(c-h):Math.abs(c-h)-L-D;if(z<0&&a===0)return"".concat(T,"L").concat(e,",").concat(n,"Z");T+=dr(n4||(n4=qd(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),B.x,B.y,a,a,+(p<0),I.x,I.y,i,i,+(z>180),+(p>0),R.x,R.y,a,a,+(p<0),P.x,P.y)}else T+=dr(i4||(i4=qd(["L",",","Z"])),e,n);return T},Ape={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TG=t=>{var e=tl(t,Ape),{cx:n,cy:i,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:h,endAngle:p,className:g}=e;if(a<r||h===p)return null;var v=ki("recharts-sector",g),x=a-r,_=Vl(s,x,0,!0),w;return _>0&&Math.abs(h-p)<360?w=Epe({cx:n,cy:i,innerRadius:r,outerRadius:a,cornerRadius:Math.min(_,x/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:h,endAngle:p}):w=AG({cx:n,cy:i,innerRadius:r,outerRadius:a,startAngle:h,endAngle:p}),U.createElement("path",mO({},Ko(e),{className:v,d:w}))};function Tpe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(mj(e)){if(t==="centric"){var{cx:i,cy:r,innerRadius:a,outerRadius:s,angle:l}=e,c=Ca(i,r,a,l),h=Ca(i,r,s,l);return[{x:c.x,y:c.y},{x:h.x,y:h.y}]}return EG(e)}}var pR={},mR={},gR={},r4;function Cpe(){return r4||(r4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ej();function n(i){return e.isSymbol(i)?NaN:Number(i)}t.toNumber=n})(gR)),gR}var a4;function Rpe(){return a4||(a4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cpe();function n(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}t.toFinite=n})(mR)),mR}var s4;function Ppe(){return s4||(s4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aj(),n=Rpe();function i(r,a,s){s&&typeof s!="number"&&e.isIterateeCall(r,a,s)&&(a=s=void 0),r=n.toFinite(r),a===void 0?(a=r,r=0):a=n.toFinite(a),s=s===void 0?r<a?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((a-r)/(s||1)),0),c=new Array(l);for(let h=0;h<l;h++)c[h]=r,r+=s;return c}t.range=i})(pR)),pR}var vR,o4;function Ope(){return o4||(o4=1,vR=Ppe().range),vR}var Dpe=Ope();const CG=jl(Dpe);function fh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ipe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jD(t){let e,n,i;t.length!==2?(e=fh,n=(l,c)=>fh(t(l),c),i=(l,c)=>t(l)-c):(e=t===fh||t===Ipe?t:Npe,n=t,i=t);function r(l,c,h=0,p=l.length){if(h<p){if(e(c,c)!==0)return p;do{const g=h+p>>>1;n(l[g],c)<0?h=g+1:p=g}while(h<p)}return h}function a(l,c,h=0,p=l.length){if(h<p){if(e(c,c)!==0)return p;do{const g=h+p>>>1;n(l[g],c)<=0?h=g+1:p=g}while(h<p)}return h}function s(l,c,h=0,p=l.length){const g=r(l,c,h,p-1);return g>h&&i(l[g-1],c)>-i(l[g],c)?g-1:g}return{left:r,center:s,right:a}}function Npe(){return 0}function RG(t){return t===null?NaN:+t}function*Lpe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Upe=jD(fh),eb=Upe.right;jD(RG).center;class l4 extends Map{constructor(e,n=kpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(u4(this,e))}has(e){return super.has(u4(this,e))}set(e,n){return super.set(zpe(this,e),n)}delete(e){return super.delete(Bpe(this,e))}}function u4({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function zpe({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function Bpe({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function kpe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Fpe(t=fh){if(t===fh)return PG;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function PG(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Vpe=Math.sqrt(50),Hpe=Math.sqrt(10),jpe=Math.sqrt(2);function ow(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),s=a>=Vpe?10:a>=Hpe?5:a>=jpe?2:1;let l,c,h;return r<0?(h=Math.pow(10,-r)/s,l=Math.round(t*h),c=Math.round(e*h),l/h<t&&++l,c/h>e&&--c,h=-h):(h=Math.pow(10,r)*s,l=Math.round(t/h),c=Math.round(e/h),l*h<t&&++l,c*h>e&&--c),c<l&&.5<=n&&n<2?ow(t,e,n*2):[l,c,h]}function gO(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[r,a,s]=i?ow(e,t,n):ow(t,e,n);if(!(a>=r))return[];const l=a-r+1,c=new Array(l);if(i)if(s<0)for(let h=0;h<l;++h)c[h]=(a-h)/-s;else for(let h=0;h<l;++h)c[h]=(a-h)*s;else if(s<0)for(let h=0;h<l;++h)c[h]=(r+h)/-s;else for(let h=0;h<l;++h)c[h]=(r+h)*s;return c}function vO(t,e,n){return e=+e,t=+t,n=+n,ow(t,e,n)[2]}function yO(t,e,n){e=+e,t=+t,n=+n;const i=e<t,r=i?vO(e,t,n):vO(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}function c4(t,e){let n;for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function f4(t,e){let n;for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function OG(t,e,n=0,i=1/0,r){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(r=r===void 0?PG:Fpe(r);i>n;){if(i-n>600){const c=i-n+1,h=e-n+1,p=Math.log(c),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(c-g)/c)*(h-c/2<0?-1:1),x=Math.max(n,Math.floor(e-h*g/c+v)),_=Math.min(i,Math.floor(e+(c-h)*g/c+v));OG(t,e,x,_,r)}const a=t[e];let s=n,l=i;for(py(t,n,e),r(t[i],a)>0&&py(t,n,i);s<l;){for(py(t,s,l),++s,--l;r(t[s],a)<0;)++s;for(;r(t[l],a)>0;)--l}r(t[n],a)===0?py(t,n,l):(++l,py(t,l,i)),l<=e&&(n=l+1),e<=l&&(i=l-1)}return t}function py(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function Gpe(t,e,n){if(t=Float64Array.from(Lpe(t)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return f4(t);if(e>=1)return c4(t);var i,r=(i-1)*e,a=Math.floor(r),s=c4(OG(t,a).subarray(0,a+1)),l=f4(t.subarray(a+1));return s+(l-s)*(r-a)}}function Wpe(t,e,n=RG){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,a=Math.floor(r),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(r-a)}}function qpe(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(r);++i<r;)a[i]=t+i*n;return a}function nl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Yc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const xO=Symbol("implicit");function GD(){var t=new l4,e=[],n=[],i=xO;function r(a){let s=t.get(a);if(s===void 0){if(i!==xO)return i;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return r.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new l4;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return r},r.range=function(a){return arguments.length?(n=Array.from(a),r):n.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return GD(e,n).unknown(i)},nl.apply(r,arguments),r}function WD(){var t=GD().unknown(void 0),e=t.domain,n=t.range,i=0,r=1,a,s,l=!1,c=0,h=0,p=.5;delete t.unknown;function g(){var v=e().length,x=r<i,_=x?r:i,w=x?i:r;a=(w-_)/Math.max(1,v-c+h*2),l&&(a=Math.floor(a)),_+=(w-_-a*(v-c))*p,s=a*(1-c),l&&(_=Math.round(_),s=Math.round(s));var S=qpe(v).map(function(M){return _+a*M});return n(x?S.reverse():S)}return t.domain=function(v){return arguments.length?(e(v),g()):e()},t.range=function(v){return arguments.length?([i,r]=v,i=+i,r=+r,g()):[i,r]},t.rangeRound=function(v){return[i,r]=v,i=+i,r=+r,l=!0,g()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(v){return arguments.length?(l=!!v,g()):l},t.padding=function(v){return arguments.length?(c=Math.min(1,h=+v),g()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),g()):c},t.paddingOuter=function(v){return arguments.length?(h=+v,g()):h},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},t.copy=function(){return WD(e(),[i,r]).round(l).paddingInner(c).paddingOuter(h).align(p)},nl.apply(g(),arguments)}function DG(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return DG(e())},t}function Xpe(){return DG(WD.apply(null,arguments).paddingInner(1))}function qD(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function IG(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function tb(){}var Mx=.7,lw=1/Mx,Tg="\\s*([+-]?\\d+)\\s*",wx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Uu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$pe=/^#([0-9a-f]{3,8})$/,Ype=new RegExp(`^rgb\\(${Tg},${Tg},${Tg}\\)$`),Zpe=new RegExp(`^rgb\\(${Uu},${Uu},${Uu}\\)$`),Kpe=new RegExp(`^rgba\\(${Tg},${Tg},${Tg},${wx}\\)$`),Qpe=new RegExp(`^rgba\\(${Uu},${Uu},${Uu},${wx}\\)$`),Jpe=new RegExp(`^hsl\\(${wx},${Uu},${Uu}\\)$`),eme=new RegExp(`^hsla\\(${wx},${Uu},${Uu},${wx}\\)$`),h4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qD(tb,Ex,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:d4,formatHex:d4,formatHex8:tme,formatHsl:nme,formatRgb:p4,toString:p4});function d4(){return this.rgb().formatHex()}function tme(){return this.rgb().formatHex8()}function nme(){return NG(this).formatHsl()}function p4(){return this.rgb().formatRgb()}function Ex(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$pe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?m4(e):n===3?new Hs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?a1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?a1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ype.exec(t))?new Hs(e[1],e[2],e[3],1):(e=Zpe.exec(t))?new Hs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Kpe.exec(t))?a1(e[1],e[2],e[3],e[4]):(e=Qpe.exec(t))?a1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Jpe.exec(t))?y4(e[1],e[2]/100,e[3]/100,1):(e=eme.exec(t))?y4(e[1],e[2]/100,e[3]/100,e[4]):h4.hasOwnProperty(t)?m4(h4[t]):t==="transparent"?new Hs(NaN,NaN,NaN,0):null}function m4(t){return new Hs(t>>16&255,t>>8&255,t&255,1)}function a1(t,e,n,i){return i<=0&&(t=e=n=NaN),new Hs(t,e,n,i)}function ime(t){return t instanceof tb||(t=Ex(t)),t?(t=t.rgb(),new Hs(t.r,t.g,t.b,t.opacity)):new Hs}function bO(t,e,n,i){return arguments.length===1?ime(t):new Hs(t,e,n,i??1)}function Hs(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}qD(Hs,bO,IG(tb,{brighter(t){return t=t==null?lw:Math.pow(lw,t),new Hs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Mx:Math.pow(Mx,t),new Hs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Hs(tp(this.r),tp(this.g),tp(this.b),uw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:g4,formatHex:g4,formatHex8:rme,formatRgb:v4,toString:v4}));function g4(){return`#${Xd(this.r)}${Xd(this.g)}${Xd(this.b)}`}function rme(){return`#${Xd(this.r)}${Xd(this.g)}${Xd(this.b)}${Xd((isNaN(this.opacity)?1:this.opacity)*255)}`}function v4(){const t=uw(this.opacity);return`${t===1?"rgb(":"rgba("}${tp(this.r)}, ${tp(this.g)}, ${tp(this.b)}${t===1?")":`, ${t})`}`}function uw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xd(t){return t=tp(t),(t<16?"0":"")+t.toString(16)}function y4(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Dl(t,e,n,i)}function NG(t){if(t instanceof Dl)return new Dl(t.h,t.s,t.l,t.opacity);if(t instanceof tb||(t=Ex(t)),!t)return new Dl;if(t instanceof Dl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),s=NaN,l=a-r,c=(a+r)/2;return l?(e===a?s=(n-i)/l+(n<i)*6:n===a?s=(i-e)/l+2:s=(e-n)/l+4,l/=c<.5?a+r:2-a-r,s*=60):l=c>0&&c<1?0:s,new Dl(s,l,c,t.opacity)}function ame(t,e,n,i){return arguments.length===1?NG(t):new Dl(t,e,n,i??1)}function Dl(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}qD(Dl,ame,IG(tb,{brighter(t){return t=t==null?lw:Math.pow(lw,t),new Dl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mx:Math.pow(Mx,t),new Dl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Hs(yR(t>=240?t-240:t+120,r,i),yR(t,r,i),yR(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Dl(x4(this.h),s1(this.s),s1(this.l),uw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=uw(this.opacity);return`${t===1?"hsl(":"hsla("}${x4(this.h)}, ${s1(this.s)*100}%, ${s1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function x4(t){return t=(t||0)%360,t<0?t+360:t}function s1(t){return Math.max(0,Math.min(1,t||0))}function yR(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const XD=t=>()=>t;function sme(t,e){return function(n){return t+n*e}}function ome(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function lme(t){return(t=+t)==1?LG:function(e,n){return n-e?ome(e,n,t):XD(isNaN(e)?n:e)}}function LG(t,e){var n=e-t;return n?sme(t,n):XD(isNaN(t)?e:t)}const b4=(function t(e){var n=lme(e);function i(r,a){var s=n((r=bO(r)).r,(a=bO(a)).r),l=n(r.g,a.g),c=n(r.b,a.b),h=LG(r.opacity,a.opacity);return function(p){return r.r=s(p),r.g=l(p),r.b=c(p),r.opacity=h(p),r+""}}return i.gamma=t,i})(1);function ume(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),r;return function(a){for(r=0;r<n;++r)i[r]=t[r]*(1-a)+e[r]*a;return i}}function cme(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fme(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),a=new Array(n),s;for(s=0;s<i;++s)r[s]=sv(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<i;++s)a[s]=r[s](l);return a}}function hme(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function cw(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function dme(t,e){var n={},i={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?n[r]=sv(t[r],e[r]):i[r]=e[r];return function(a){for(r in n)i[r]=n[r](a);return i}}var _O=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xR=new RegExp(_O.source,"g");function pme(t){return function(){return t}}function mme(t){return function(e){return t(e)+""}}function gme(t,e){var n=_O.lastIndex=xR.lastIndex=0,i,r,a,s=-1,l=[],c=[];for(t=t+"",e=e+"";(i=_O.exec(t))&&(r=xR.exec(e));)(a=r.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(i=i[0])===(r=r[0])?l[s]?l[s]+=r:l[++s]=r:(l[++s]=null,c.push({i:s,x:cw(i,r)})),n=xR.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?mme(c[0].x):pme(e):(e=c.length,function(h){for(var p=0,g;p<e;++p)l[(g=c[p]).i]=g.x(h);return l.join("")})}function sv(t,e){var n=typeof e,i;return e==null||n==="boolean"?XD(e):(n==="number"?cw:n==="string"?(i=Ex(e))?(e=i,b4):gme:e instanceof Ex?b4:e instanceof Date?hme:cme(e)?ume:Array.isArray(e)?fme:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dme:cw)(t,e)}function $D(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function vme(t,e){e===void 0&&(e=t,t=sv);for(var n=0,i=e.length-1,r=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(r,r=e[++n]);return function(s){var l=Math.max(0,Math.min(i-1,Math.floor(s*=i)));return a[l](s-l)}}function yme(t){return function(){return t}}function fw(t){return+t}var _4=[0,1];function ds(t){return t}function SO(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:yme(isNaN(e)?NaN:.5)}function xme(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function bme(t,e,n){var i=t[0],r=t[1],a=e[0],s=e[1];return r<i?(i=SO(r,i),a=n(s,a)):(i=SO(i,r),a=n(a,s)),function(l){return a(i(l))}}function _me(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=SO(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var c=eb(t,l,1,i)-1;return a[c](r[c](l))}}function nb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function VE(){var t=_4,e=_4,n=sv,i,r,a,s=ds,l,c,h;function p(){var v=Math.min(t.length,e.length);return s!==ds&&(s=xme(t[0],t[v-1])),l=v>2?_me:bme,c=h=null,g}function g(v){return v==null||isNaN(v=+v)?a:(c||(c=l(t.map(i),e,n)))(i(s(v)))}return g.invert=function(v){return s(r((h||(h=l(e,t.map(i),cw)))(v)))},g.domain=function(v){return arguments.length?(t=Array.from(v,fw),p()):t.slice()},g.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},g.rangeRound=function(v){return e=Array.from(v),n=$D,p()},g.clamp=function(v){return arguments.length?(s=v?!0:ds,p()):s!==ds},g.interpolate=function(v){return arguments.length?(n=v,p()):n},g.unknown=function(v){return arguments.length?(a=v,g):a},function(v,x){return i=v,r=x,p()}}function YD(){return VE()(ds,ds)}function Sme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hw(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Vg(t){return t=hw(Math.abs(t)),t?t[1]:NaN}function Mme(t,e){return function(n,i){for(var r=n.length,a=[],s=0,l=t[0],c=0;r>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),a.push(n.substring(r-=l,r+l)),!((c+=l+1)>i));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function wme(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Eme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ax(t){if(!(e=Eme.exec(t)))throw new Error("invalid format: "+t);var e;return new ZD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ax.prototype=ZD.prototype;function ZD(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ZD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ame(t){e:for(var e=t.length,n=1,i=-1,r;n<e;++n)switch(t[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(r+1):t}var dw;function Tme(t,e){var n=hw(t,e);if(!n)return dw=void 0,t.toPrecision(e);var i=n[0],r=n[1],a=r-(dw=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+hw(t,Math.max(0,e+a-1))[0]}function S4(t,e){var n=hw(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const M4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Sme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>S4(t*100,e),r:S4,s:Tme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function w4(t){return t}var E4=Array.prototype.map,A4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cme(t){var e=t.grouping===void 0||t.thousands===void 0?w4:Mme(E4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?w4:wme(E4.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function h(g,v){g=Ax(g);var x=g.fill,_=g.align,w=g.sign,S=g.symbol,M=g.zero,T=g.width,R=g.comma,P=g.precision,L=g.trim,I=g.type;I==="n"?(R=!0,I="g"):M4[I]||(P===void 0&&(P=12),L=!0,I="g"),(M||x==="0"&&_==="=")&&(M=!0,x="0",_="=");var B=(v&&v.prefix!==void 0?v.prefix:"")+(S==="$"?n:S==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():""),D=(S==="$"?i:/[%p]/.test(I)?s:"")+(v&&v.suffix!==void 0?v.suffix:""),z=M4[I],W=/[defgprs%]/.test(I);P=P===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function j(G){var J=B,te=D,ie,q,K;if(I==="c")te=z(G)+te,G="";else{G=+G;var pe=G<0||1/G<0;if(G=isNaN(G)?c:z(Math.abs(G),P),L&&(G=Ame(G)),pe&&+G==0&&w!=="+"&&(pe=!1),J=(pe?w==="("?w:l:w==="-"||w==="("?"":w)+J,te=(I==="s"&&!isNaN(G)&&dw!==void 0?A4[8+dw/3]:"")+te+(pe&&w==="("?")":""),W){for(ie=-1,q=G.length;++ie<q;)if(K=G.charCodeAt(ie),48>K||K>57){te=(K===46?r+G.slice(ie+1):G.slice(ie))+te,G=G.slice(0,ie);break}}}R&&!M&&(G=e(G,1/0));var de=J.length+G.length+te.length,_e=de<T?new Array(T-de+1).join(x):"";switch(R&&M&&(G=e(_e+G,_e.length?T-te.length:1/0),_e=""),_){case"<":G=J+G+te+_e;break;case"=":G=J+_e+G+te;break;case"^":G=_e.slice(0,de=_e.length>>1)+J+G+te+_e.slice(de);break;default:G=_e+J+G+te;break}return a(G)}return j.toString=function(){return g+""},j}function p(g,v){var x=Math.max(-8,Math.min(8,Math.floor(Vg(v)/3)))*3,_=Math.pow(10,-x),w=h((g=Ax(g),g.type="f",g),{suffix:A4[8+x/3]});return function(S){return w(_*S)}}return{format:h,formatPrefix:p}}var o1,KD,UG;Rme({thousands:",",grouping:[3],currency:["$",""]});function Rme(t){return o1=Cme(t),KD=o1.format,UG=o1.formatPrefix,o1}function Pme(t){return Math.max(0,-Vg(Math.abs(t)))}function Ome(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vg(e)/3)))*3-Vg(Math.abs(t)))}function Dme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vg(e)-Vg(t))+1}function zG(t,e,n,i){var r=yO(t,e,n),a;switch(i=Ax(i??",f"),i.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=Ome(r,s))&&(i.precision=a),UG(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=Dme(r,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=Pme(r))&&(i.precision=a-(i.type==="%")*2);break}}return KD(i)}function Ah(t){var e=t.domain;return t.ticks=function(n){var i=e();return gO(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var r=e();return zG(r[0],r[r.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),r=0,a=i.length-1,s=i[r],l=i[a],c,h,p=10;for(l<s&&(h=s,s=l,l=h,h=r,r=a,a=h);p-- >0;){if(h=vO(s,l,n),h===c)return i[r]=s,i[a]=l,e(i);if(h>0)s=Math.floor(s/h)*h,l=Math.ceil(l/h)*h;else if(h<0)s=Math.ceil(s*h)/h,l=Math.floor(l*h)/h;else break;c=h}return t},t}function BG(){var t=YD();return t.copy=function(){return nb(t,BG())},nl.apply(t,arguments),Ah(t)}function kG(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,fw),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return kG(t).unknown(e)},t=arguments.length?Array.from(t,fw):[0,1],Ah(n)}function FG(t,e){t=t.slice();var n=0,i=t.length-1,r=t[n],a=t[i],s;return a<r&&(s=n,n=i,i=s,s=r,r=a,a=s),t[n]=e.floor(r),t[i]=e.ceil(a),t}function T4(t){return Math.log(t)}function C4(t){return Math.exp(t)}function Ime(t){return-Math.log(-t)}function Nme(t){return-Math.exp(-t)}function Lme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ume(t){return t===10?Lme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function zme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function R4(t){return(e,n)=>-t(-e,n)}function QD(t){const e=t(T4,C4),n=e.domain;let i=10,r,a;function s(){return r=zme(i),a=Ume(i),n()[0]<0?(r=R4(r),a=R4(a),t(Ime,Nme)):t(T4,C4),e}return e.base=function(l){return arguments.length?(i=+l,s()):i},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let h=c[0],p=c[c.length-1];const g=p<h;g&&([h,p]=[p,h]);let v=r(h),x=r(p),_,w;const S=l==null?10:+l;let M=[];if(!(i%1)&&x-v<S){if(v=Math.floor(v),x=Math.ceil(x),h>0){for(;v<=x;++v)for(_=1;_<i;++_)if(w=v<0?_/a(-v):_*a(v),!(w<h)){if(w>p)break;M.push(w)}}else for(;v<=x;++v)for(_=i-1;_>=1;--_)if(w=v>0?_/a(-v):_*a(v),!(w<h)){if(w>p)break;M.push(w)}M.length*2<S&&(M=gO(h,p,S))}else M=gO(v,x,Math.min(x-v,S)).map(a);return g?M.reverse():M},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=i===10?"s":","),typeof c!="function"&&(!(i%1)&&(c=Ax(c)).precision==null&&(c.trim=!0),c=KD(c)),l===1/0)return c;const h=Math.max(1,i*l/e.ticks().length);return p=>{let g=p/a(Math.round(r(p)));return g*i<i-.5&&(g*=i),g<=h?c(p):""}},e.nice=()=>n(FG(n(),{floor:l=>a(Math.floor(r(l))),ceil:l=>a(Math.ceil(r(l)))})),e}function VG(){const t=QD(VE()).domain([1,10]);return t.copy=()=>nb(t,VG()).base(t.base()),nl.apply(t,arguments),t}function P4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function O4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function JD(t){var e=1,n=t(P4(e),O4(e));return n.constant=function(i){return arguments.length?t(P4(e=+i),O4(e)):e},Ah(n)}function HG(){var t=JD(VE());return t.copy=function(){return nb(t,HG()).constant(t.constant())},nl.apply(t,arguments)}function D4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Bme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function kme(t){return t<0?-t*t:t*t}function eI(t){var e=t(ds,ds),n=1;function i(){return n===1?t(ds,ds):n===.5?t(Bme,kme):t(D4(n),D4(1/n))}return e.exponent=function(r){return arguments.length?(n=+r,i()):n},Ah(e)}function tI(){var t=eI(VE());return t.copy=function(){return nb(t,tI()).exponent(t.exponent())},nl.apply(t,arguments),t}function Fme(){return tI.apply(null,arguments).exponent(.5)}function I4(t){return Math.sign(t)*t*t}function Vme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function jG(){var t=YD(),e=[0,1],n=!1,i;function r(a){var s=Vme(t(a));return isNaN(s)?i:n?Math.round(s):s}return r.invert=function(a){return t.invert(I4(a))},r.domain=function(a){return arguments.length?(t.domain(a),r):t.domain()},r.range=function(a){return arguments.length?(t.range((e=Array.from(a,fw)).map(I4)),r):e.slice()},r.rangeRound=function(a){return r.range(a).round(!0)},r.round=function(a){return arguments.length?(n=!!a,r):n},r.clamp=function(a){return arguments.length?(t.clamp(a),r):t.clamp()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return jG(t.domain(),e).round(n).clamp(t.clamp()).unknown(i)},nl.apply(r,arguments),Ah(r)}function GG(){var t=[],e=[],n=[],i;function r(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=Wpe(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?i:e[eb(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(fh),r()},a.range=function(s){return arguments.length?(e=Array.from(s),r()):e.slice()},a.unknown=function(s){return arguments.length?(i=s,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return GG().domain(t).range(e).unknown(i)},nl.apply(a,arguments)}function WG(){var t=0,e=1,n=1,i=[.5],r=[0,1],a;function s(c){return c!=null&&c<=c?r[eb(i,c,0,n)]:a}function l(){var c=-1;for(i=new Array(n);++c<n;)i[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(r=Array.from(c)).length-1,l()):r.slice()},s.invertExtent=function(c){var h=r.indexOf(c);return h<0?[NaN,NaN]:h<1?[t,i[0]]:h>=n?[i[n-1],e]:[i[h-1],i[h]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return i.slice()},s.copy=function(){return WG().domain([t,e]).range(r).unknown(a)},nl.apply(Ah(s),arguments)}function qG(){var t=[.5],e=[0,1],n,i=1;function r(a){return a!=null&&a<=a?e[eb(t,a,0,i)]:n}return r.domain=function(a){return arguments.length?(t=Array.from(a),i=Math.min(t.length,e.length-1),r):t.slice()},r.range=function(a){return arguments.length?(e=Array.from(a),i=Math.min(t.length,e.length-1),r):e.slice()},r.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},r.unknown=function(a){return arguments.length?(n=a,r):n},r.copy=function(){return qG().domain(t).range(e).unknown(n)},nl.apply(r,arguments)}const bR=new Date,_R=new Date;function qr(t,e,n,i){function r(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return r.floor=a=>(t(a=new Date(+a)),a),r.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),r.round=a=>{const s=r(a),l=r.ceil(a);return a-s<l-a?s:l},r.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),r.range=(a,s,l)=>{const c=[];if(a=r.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let h;do c.push(h=new Date(+a)),e(a,l),t(a);while(h<a&&a<s);return c},r.filter=a=>qr(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(r.count=(a,s)=>(bR.setTime(+a),_R.setTime(+s),t(bR),t(_R),Math.floor(n(bR,_R))),r.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?r.filter(i?s=>i(s)%a===0:s=>r.count(0,s)%a===0):r)),r}const pw=qr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);pw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?qr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):pw);pw.range;const Oc=1e3,Xo=Oc*60,Dc=Xo*60,kc=Dc*24,nI=kc*7,N4=kc*30,SR=kc*365,$d=qr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Oc)},(t,e)=>(e-t)/Oc,t=>t.getUTCSeconds());$d.range;const iI=qr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Oc)},(t,e)=>{t.setTime(+t+e*Xo)},(t,e)=>(e-t)/Xo,t=>t.getMinutes());iI.range;const rI=qr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Xo)},(t,e)=>(e-t)/Xo,t=>t.getUTCMinutes());rI.range;const aI=qr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Oc-t.getMinutes()*Xo)},(t,e)=>{t.setTime(+t+e*Dc)},(t,e)=>(e-t)/Dc,t=>t.getHours());aI.range;const sI=qr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Dc)},(t,e)=>(e-t)/Dc,t=>t.getUTCHours());sI.range;const ib=qr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Xo)/kc,t=>t.getDate()-1);ib.range;const HE=qr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/kc,t=>t.getUTCDate()-1);HE.range;const XG=qr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/kc,t=>Math.floor(t/kc));XG.range;function Sp(t){return qr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Xo)/nI)}const jE=Sp(0),mw=Sp(1),Hme=Sp(2),jme=Sp(3),Hg=Sp(4),Gme=Sp(5),Wme=Sp(6);jE.range;mw.range;Hme.range;jme.range;Hg.range;Gme.range;Wme.range;function Mp(t){return qr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/nI)}const GE=Mp(0),gw=Mp(1),qme=Mp(2),Xme=Mp(3),jg=Mp(4),$me=Mp(5),Yme=Mp(6);GE.range;gw.range;qme.range;Xme.range;jg.range;$me.range;Yme.range;const oI=qr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());oI.range;const lI=qr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());lI.range;const Fc=qr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Fc.range;const Vc=qr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vc.range;function $G(t,e,n,i,r,a){const s=[[$d,1,Oc],[$d,5,5*Oc],[$d,15,15*Oc],[$d,30,30*Oc],[a,1,Xo],[a,5,5*Xo],[a,15,15*Xo],[a,30,30*Xo],[r,1,Dc],[r,3,3*Dc],[r,6,6*Dc],[r,12,12*Dc],[i,1,kc],[i,2,2*kc],[n,1,nI],[e,1,N4],[e,3,3*N4],[t,1,SR]];function l(h,p,g){const v=p<h;v&&([h,p]=[p,h]);const x=g&&typeof g.range=="function"?g:c(h,p,g),_=x?x.range(h,+p+1):[];return v?_.reverse():_}function c(h,p,g){const v=Math.abs(p-h)/g,x=jD(([,,S])=>S).right(s,v);if(x===s.length)return t.every(yO(h/SR,p/SR,g));if(x===0)return pw.every(Math.max(yO(h,p,g),1));const[_,w]=s[v/s[x-1][2]<s[x][2]/v?x-1:x];return _.every(w)}return[l,c]}const[Zme,Kme]=$G(Vc,lI,GE,XG,sI,rI),[Qme,Jme]=$G(Fc,oI,jE,ib,aI,iI);function MR(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function wR(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function my(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ege(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,a=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,h=gy(r),p=vy(r),g=gy(a),v=vy(a),x=gy(s),_=vy(s),w=gy(l),S=vy(l),M=gy(c),T=vy(c),R={a:K,A:pe,b:de,B:_e,c:null,d:F4,e:F4,f:Mge,g:Ige,G:Lge,H:bge,I:_ge,j:Sge,L:YG,m:wge,M:Ege,p:Y,q:re,Q:j4,s:G4,S:Age,u:Tge,U:Cge,V:Rge,w:Pge,W:Oge,x:null,X:null,y:Dge,Y:Nge,Z:Uge,"%":H4},P={a:Me,A:ke,b:mt,B:me,c:null,d:V4,e:V4,f:Fge,g:Zge,G:Qge,H:zge,I:Bge,j:kge,L:KG,m:Vge,M:Hge,p:De,q:Ye,Q:j4,s:G4,S:jge,u:Gge,U:Wge,V:qge,w:Xge,W:$ge,x:null,X:null,y:Yge,Y:Kge,Z:Jge,"%":H4},L={a:W,A:j,b:G,B:J,c:te,d:B4,e:B4,f:gge,g:z4,G:U4,H:k4,I:k4,j:hge,L:mge,m:fge,M:dge,p:z,q:cge,Q:yge,s:xge,S:pge,u:age,U:sge,V:oge,w:rge,W:lge,x:ie,X:q,y:z4,Y:U4,Z:uge,"%":vge};R.x=I(n,R),R.X=I(i,R),R.c=I(e,R),P.x=I(n,P),P.X=I(i,P),P.c=I(e,P);function I(xe,ot){return function(xt){var je=[],Nt=-1,Pe=0,qe=xe.length,He,ft,ne;for(xt instanceof Date||(xt=new Date(+xt));++Nt<qe;)xe.charCodeAt(Nt)===37&&(je.push(xe.slice(Pe,Nt)),(ft=L4[He=xe.charAt(++Nt)])!=null?He=xe.charAt(++Nt):ft=He==="e"?" ":"0",(ne=ot[He])&&(He=ne(xt,ft)),je.push(He),Pe=Nt+1);return je.push(xe.slice(Pe,Nt)),je.join("")}}function B(xe,ot){return function(xt){var je=my(1900,void 0,1),Nt=D(je,xe,xt+="",0),Pe,qe;if(Nt!=xt.length)return null;if("Q"in je)return new Date(je.Q);if("s"in je)return new Date(je.s*1e3+("L"in je?je.L:0));if(ot&&!("Z"in je)&&(je.Z=0),"p"in je&&(je.H=je.H%12+je.p*12),je.m===void 0&&(je.m="q"in je?je.q:0),"V"in je){if(je.V<1||je.V>53)return null;"w"in je||(je.w=1),"Z"in je?(Pe=wR(my(je.y,0,1)),qe=Pe.getUTCDay(),Pe=qe>4||qe===0?gw.ceil(Pe):gw(Pe),Pe=HE.offset(Pe,(je.V-1)*7),je.y=Pe.getUTCFullYear(),je.m=Pe.getUTCMonth(),je.d=Pe.getUTCDate()+(je.w+6)%7):(Pe=MR(my(je.y,0,1)),qe=Pe.getDay(),Pe=qe>4||qe===0?mw.ceil(Pe):mw(Pe),Pe=ib.offset(Pe,(je.V-1)*7),je.y=Pe.getFullYear(),je.m=Pe.getMonth(),je.d=Pe.getDate()+(je.w+6)%7)}else("W"in je||"U"in je)&&("w"in je||(je.w="u"in je?je.u%7:"W"in je?1:0),qe="Z"in je?wR(my(je.y,0,1)).getUTCDay():MR(my(je.y,0,1)).getDay(),je.m=0,je.d="W"in je?(je.w+6)%7+je.W*7-(qe+5)%7:je.w+je.U*7-(qe+6)%7);return"Z"in je?(je.H+=je.Z/100|0,je.M+=je.Z%100,wR(je)):MR(je)}}function D(xe,ot,xt,je){for(var Nt=0,Pe=ot.length,qe=xt.length,He,ft;Nt<Pe;){if(je>=qe)return-1;if(He=ot.charCodeAt(Nt++),He===37){if(He=ot.charAt(Nt++),ft=L[He in L4?ot.charAt(Nt++):He],!ft||(je=ft(xe,xt,je))<0)return-1}else if(He!=xt.charCodeAt(je++))return-1}return je}function z(xe,ot,xt){var je=h.exec(ot.slice(xt));return je?(xe.p=p.get(je[0].toLowerCase()),xt+je[0].length):-1}function W(xe,ot,xt){var je=x.exec(ot.slice(xt));return je?(xe.w=_.get(je[0].toLowerCase()),xt+je[0].length):-1}function j(xe,ot,xt){var je=g.exec(ot.slice(xt));return je?(xe.w=v.get(je[0].toLowerCase()),xt+je[0].length):-1}function G(xe,ot,xt){var je=M.exec(ot.slice(xt));return je?(xe.m=T.get(je[0].toLowerCase()),xt+je[0].length):-1}function J(xe,ot,xt){var je=w.exec(ot.slice(xt));return je?(xe.m=S.get(je[0].toLowerCase()),xt+je[0].length):-1}function te(xe,ot,xt){return D(xe,e,ot,xt)}function ie(xe,ot,xt){return D(xe,n,ot,xt)}function q(xe,ot,xt){return D(xe,i,ot,xt)}function K(xe){return s[xe.getDay()]}function pe(xe){return a[xe.getDay()]}function de(xe){return c[xe.getMonth()]}function _e(xe){return l[xe.getMonth()]}function Y(xe){return r[+(xe.getHours()>=12)]}function re(xe){return 1+~~(xe.getMonth()/3)}function Me(xe){return s[xe.getUTCDay()]}function ke(xe){return a[xe.getUTCDay()]}function mt(xe){return c[xe.getUTCMonth()]}function me(xe){return l[xe.getUTCMonth()]}function De(xe){return r[+(xe.getUTCHours()>=12)]}function Ye(xe){return 1+~~(xe.getUTCMonth()/3)}return{format:function(xe){var ot=I(xe+="",R);return ot.toString=function(){return xe},ot},parse:function(xe){var ot=B(xe+="",!1);return ot.toString=function(){return xe},ot},utcFormat:function(xe){var ot=I(xe+="",P);return ot.toString=function(){return xe},ot},utcParse:function(xe){var ot=B(xe+="",!0);return ot.toString=function(){return xe},ot}}}var L4={"-":"",_:" ",0:"0"},la=/^\s*\d+/,tge=/^%/,nge=/[\\^$*+?|[\]().{}]/g;function Jn(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function ige(t){return t.replace(nge,"\\$&")}function gy(t){return new RegExp("^(?:"+t.map(ige).join("|")+")","i")}function vy(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function rge(t,e,n){var i=la.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function age(t,e,n){var i=la.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function sge(t,e,n){var i=la.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function oge(t,e,n){var i=la.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function lge(t,e,n){var i=la.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function U4(t,e,n){var i=la.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function z4(t,e,n){var i=la.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function uge(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function cge(t,e,n){var i=la.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function fge(t,e,n){var i=la.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function B4(t,e,n){var i=la.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function hge(t,e,n){var i=la.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function k4(t,e,n){var i=la.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function dge(t,e,n){var i=la.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function pge(t,e,n){var i=la.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function mge(t,e,n){var i=la.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function gge(t,e,n){var i=la.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function vge(t,e,n){var i=tge.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function yge(t,e,n){var i=la.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function xge(t,e,n){var i=la.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function F4(t,e){return Jn(t.getDate(),e,2)}function bge(t,e){return Jn(t.getHours(),e,2)}function _ge(t,e){return Jn(t.getHours()%12||12,e,2)}function Sge(t,e){return Jn(1+ib.count(Fc(t),t),e,3)}function YG(t,e){return Jn(t.getMilliseconds(),e,3)}function Mge(t,e){return YG(t,e)+"000"}function wge(t,e){return Jn(t.getMonth()+1,e,2)}function Ege(t,e){return Jn(t.getMinutes(),e,2)}function Age(t,e){return Jn(t.getSeconds(),e,2)}function Tge(t){var e=t.getDay();return e===0?7:e}function Cge(t,e){return Jn(jE.count(Fc(t)-1,t),e,2)}function ZG(t){var e=t.getDay();return e>=4||e===0?Hg(t):Hg.ceil(t)}function Rge(t,e){return t=ZG(t),Jn(Hg.count(Fc(t),t)+(Fc(t).getDay()===4),e,2)}function Pge(t){return t.getDay()}function Oge(t,e){return Jn(mw.count(Fc(t)-1,t),e,2)}function Dge(t,e){return Jn(t.getFullYear()%100,e,2)}function Ige(t,e){return t=ZG(t),Jn(t.getFullYear()%100,e,2)}function Nge(t,e){return Jn(t.getFullYear()%1e4,e,4)}function Lge(t,e){var n=t.getDay();return t=n>=4||n===0?Hg(t):Hg.ceil(t),Jn(t.getFullYear()%1e4,e,4)}function Uge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Jn(e/60|0,"0",2)+Jn(e%60,"0",2)}function V4(t,e){return Jn(t.getUTCDate(),e,2)}function zge(t,e){return Jn(t.getUTCHours(),e,2)}function Bge(t,e){return Jn(t.getUTCHours()%12||12,e,2)}function kge(t,e){return Jn(1+HE.count(Vc(t),t),e,3)}function KG(t,e){return Jn(t.getUTCMilliseconds(),e,3)}function Fge(t,e){return KG(t,e)+"000"}function Vge(t,e){return Jn(t.getUTCMonth()+1,e,2)}function Hge(t,e){return Jn(t.getUTCMinutes(),e,2)}function jge(t,e){return Jn(t.getUTCSeconds(),e,2)}function Gge(t){var e=t.getUTCDay();return e===0?7:e}function Wge(t,e){return Jn(GE.count(Vc(t)-1,t),e,2)}function QG(t){var e=t.getUTCDay();return e>=4||e===0?jg(t):jg.ceil(t)}function qge(t,e){return t=QG(t),Jn(jg.count(Vc(t),t)+(Vc(t).getUTCDay()===4),e,2)}function Xge(t){return t.getUTCDay()}function $ge(t,e){return Jn(gw.count(Vc(t)-1,t),e,2)}function Yge(t,e){return Jn(t.getUTCFullYear()%100,e,2)}function Zge(t,e){return t=QG(t),Jn(t.getUTCFullYear()%100,e,2)}function Kge(t,e){return Jn(t.getUTCFullYear()%1e4,e,4)}function Qge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?jg(t):jg.ceil(t),Jn(t.getUTCFullYear()%1e4,e,4)}function Jge(){return"+0000"}function H4(){return"%"}function j4(t){return+t}function G4(t){return Math.floor(+t/1e3)}var ag,JG,e9;eve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eve(t){return ag=ege(t),JG=ag.format,ag.parse,e9=ag.utcFormat,ag.utcParse,ag}function tve(t){return new Date(t)}function nve(t){return t instanceof Date?+t:+new Date(+t)}function uI(t,e,n,i,r,a,s,l,c,h){var p=YD(),g=p.invert,v=p.domain,x=h(".%L"),_=h(":%S"),w=h("%I:%M"),S=h("%I %p"),M=h("%a %d"),T=h("%b %d"),R=h("%B"),P=h("%Y");function L(I){return(c(I)<I?x:l(I)<I?_:s(I)<I?w:a(I)<I?S:i(I)<I?r(I)<I?M:T:n(I)<I?R:P)(I)}return p.invert=function(I){return new Date(g(I))},p.domain=function(I){return arguments.length?v(Array.from(I,nve)):v().map(tve)},p.ticks=function(I){var B=v();return t(B[0],B[B.length-1],I??10)},p.tickFormat=function(I,B){return B==null?L:h(B)},p.nice=function(I){var B=v();return(!I||typeof I.range!="function")&&(I=e(B[0],B[B.length-1],I??10)),I?v(FG(B,I)):p},p.copy=function(){return nb(p,uI(t,e,n,i,r,a,s,l,c,h))},p}function ive(){return nl.apply(uI(Qme,Jme,Fc,oI,jE,ib,aI,iI,$d,JG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rve(){return nl.apply(uI(Zme,Kme,Vc,lI,GE,HE,sI,rI,$d,e9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function WE(){var t=0,e=1,n,i,r,a,s=ds,l=!1,c;function h(g){return g==null||isNaN(g=+g)?c:s(r===0?.5:(g=(a(g)-n)*r,l?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=a(t=+t),i=a(e=+e),r=n===i?0:1/(i-n),h):[t,e]},h.clamp=function(g){return arguments.length?(l=!!g,h):l},h.interpolator=function(g){return arguments.length?(s=g,h):s};function p(g){return function(v){var x,_;return arguments.length?([x,_]=v,s=g(x,_),h):[s(0),s(1)]}}return h.range=p(sv),h.rangeRound=p($D),h.unknown=function(g){return arguments.length?(c=g,h):c},function(g){return a=g,n=g(t),i=g(e),r=n===i?0:1/(i-n),h}}function Th(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function t9(){var t=Ah(WE()(ds));return t.copy=function(){return Th(t,t9())},Yc.apply(t,arguments)}function n9(){var t=QD(WE()).domain([1,10]);return t.copy=function(){return Th(t,n9()).base(t.base())},Yc.apply(t,arguments)}function i9(){var t=JD(WE());return t.copy=function(){return Th(t,i9()).constant(t.constant())},Yc.apply(t,arguments)}function cI(){var t=eI(WE());return t.copy=function(){return Th(t,cI()).exponent(t.exponent())},Yc.apply(t,arguments)}function ave(){return cI.apply(null,arguments).exponent(.5)}function r9(){var t=[],e=ds;function n(i){if(i!=null&&!isNaN(i=+i))return e((eb(t,i,1)-1)/(t.length-1))}return n.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let r of i)r!=null&&!isNaN(r=+r)&&t.push(r);return t.sort(fh),n},n.interpolator=function(i){return arguments.length?(e=i,n):e},n.range=function(){return t.map((i,r)=>e(r/(t.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(r,a)=>Gpe(t,a/i))},n.copy=function(){return r9(e).domain(t)},Yc.apply(n,arguments)}function qE(){var t=0,e=.5,n=1,i=1,r,a,s,l,c,h=ds,p,g=!1,v;function x(w){return isNaN(w=+w)?v:(w=.5+((w=+p(w))-a)*(i*w<i*a?l:c),h(g?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,n]=w,r=p(t=+t),a=p(e=+e),s=p(n=+n),l=r===a?0:.5/(a-r),c=a===s?0:.5/(s-a),i=a<r?-1:1,x):[t,e,n]},x.clamp=function(w){return arguments.length?(g=!!w,x):g},x.interpolator=function(w){return arguments.length?(h=w,x):h};function _(w){return function(S){var M,T,R;return arguments.length?([M,T,R]=S,h=vme(w,[M,T,R]),x):[h(0),h(.5),h(1)]}}return x.range=_(sv),x.rangeRound=_($D),x.unknown=function(w){return arguments.length?(v=w,x):v},function(w){return p=w,r=w(t),a=w(e),s=w(n),l=r===a?0:.5/(a-r),c=a===s?0:.5/(s-a),i=a<r?-1:1,x}}function a9(){var t=Ah(qE()(ds));return t.copy=function(){return Th(t,a9())},Yc.apply(t,arguments)}function s9(){var t=QD(qE()).domain([.1,1,10]);return t.copy=function(){return Th(t,s9()).base(t.base())},Yc.apply(t,arguments)}function o9(){var t=JD(qE());return t.copy=function(){return Th(t,o9()).constant(t.constant())},Yc.apply(t,arguments)}function fI(){var t=eI(qE());return t.copy=function(){return Th(t,fI()).exponent(t.exponent())},Yc.apply(t,arguments)}function sve(){return fI.apply(null,arguments).exponent(.5)}const Ey=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:WD,scaleDiverging:a9,scaleDivergingLog:s9,scaleDivergingPow:fI,scaleDivergingSqrt:sve,scaleDivergingSymlog:o9,scaleIdentity:kG,scaleImplicit:xO,scaleLinear:BG,scaleLog:VG,scaleOrdinal:GD,scalePoint:Xpe,scalePow:tI,scaleQuantile:GG,scaleQuantize:WG,scaleRadial:jG,scaleSequential:t9,scaleSequentialLog:n9,scaleSequentialPow:cI,scaleSequentialQuantile:r9,scaleSequentialSqrt:ave,scaleSequentialSymlog:i9,scaleSqrt:Fme,scaleSymlog:HG,scaleThreshold:qG,scaleTime:ive,scaleUtc:rve,tickFormat:zG},Symbol.toStringTag,{value:"Module"}));var Zc=t=>t.chartData,l9=Ne([Zc],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),u9=(t,e,n,i)=>i?l9(t):Zc(t),ove=(t,e,n)=>n?l9(t):Zc(t);function Hc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ri(e)&&ri(n))return!0}return!1}function W4(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function c9(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,i]=t,r,a;if(ri(n))r=n;else if(typeof n=="function")return;if(ri(i))a=i;else if(typeof i=="function")return;var s=[r,a];if(Hc(s))return s}}function lve(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var i=t(e,n);if(Hc(i))return W4(i,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[r,a]=t,s,l;if(r==="auto")e!=null&&(s=Math.min(...e));else if(tn(r))s=r;else if(typeof r=="function")try{e!=null&&(s=r(e==null?void 0:e[0]))}catch{}else if(typeof r=="string"&&nF.test(r)){var c=nF.exec(r);if(c==null||c[1]==null||e==null)s=void 0;else{var h=+c[1];s=e[0]-h}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(tn(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&iF.test(a)){var p=iF.exec(a);if(p==null||p[1]==null||e==null)l=void 0;else{var g=+p[1];l=e[1]+g}}else l=e==null?void 0:e[1];var v=[s,l];if(Hc(v))return e==null?v:W4(v,e,n)}}}var ov=1e9,uve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dI,$i=!0,Jo="[DecimalError] ",np=Jo+"Invalid argument: ",hI=Jo+"Exponent out of range: ",lv=Math.floor,Ud=Math.pow,cve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,no,ia=1e7,Ui=7,f9=9007199254740991,vw=lv(f9/Ui),zt={};zt.absoluteValue=zt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};zt.comparedTo=zt.cmp=function(t){var e,n,i,r,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(i=a.d.length,r=t.d.length,e=0,n=i<r?i:r;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return i===r?0:i>r^a.s<0?1:-1};zt.decimalPlaces=zt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ui;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};zt.dividedBy=zt.div=function(t){return Nc(this,new this.constructor(t))};zt.dividedToIntegerBy=zt.idiv=function(t){var e=this,n=e.constructor;return bi(Nc(e,new n(t),0,1),n.precision)};zt.equals=zt.eq=function(t){return!this.cmp(t)};zt.exponent=function(){return Lr(this)};zt.greaterThan=zt.gt=function(t){return this.cmp(t)>0};zt.greaterThanOrEqualTo=zt.gte=function(t){return this.cmp(t)>=0};zt.isInteger=zt.isint=function(){return this.e>this.d.length-2};zt.isNegative=zt.isneg=function(){return this.s<0};zt.isPositive=zt.ispos=function(){return this.s>0};zt.isZero=function(){return this.s===0};zt.lessThan=zt.lt=function(t){return this.cmp(t)<0};zt.lessThanOrEqualTo=zt.lte=function(t){return this.cmp(t)<1};zt.logarithm=zt.log=function(t){var e,n=this,i=n.constructor,r=i.precision,a=r+5;if(t===void 0)t=new i(10);else if(t=new i(t),t.s<1||t.eq(no))throw Error(Jo+"NaN");if(n.s<1)throw Error(Jo+(n.s?"NaN":"-Infinity"));return n.eq(no)?new i(0):($i=!1,e=Nc(Tx(n,a),Tx(t,a),a),$i=!0,bi(e,r))};zt.minus=zt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?p9(e,t):h9(e,(t.s=-t.s,t))};zt.modulo=zt.mod=function(t){var e,n=this,i=n.constructor,r=i.precision;if(t=new i(t),!t.s)throw Error(Jo+"NaN");return n.s?($i=!1,e=Nc(n,t,0,1).times(t),$i=!0,n.minus(e)):bi(new i(n),r)};zt.naturalExponential=zt.exp=function(){return d9(this)};zt.naturalLogarithm=zt.ln=function(){return Tx(this)};zt.negated=zt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};zt.plus=zt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?h9(e,t):p9(e,(t.s=-t.s,t))};zt.precision=zt.sd=function(t){var e,n,i,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(np+t);if(e=Lr(r)+1,i=r.d.length-1,n=i*Ui+1,i=r.d[i],i){for(;i%10==0;i/=10)n--;for(i=r.d[0];i>=10;i/=10)n++}return t&&e>n?e:n};zt.squareRoot=zt.sqrt=function(){var t,e,n,i,r,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Jo+"NaN")}for(t=Lr(l),$i=!1,r=Math.sqrt(+l),r==0||r==1/0?(e=Nu(l.d),(e.length+t)%2==0&&(e+="0"),r=Math.sqrt(e),t=lv((t+1)/2)-(t<0||t%2),r==1/0?e="5e"+t:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),i=new c(e)):i=new c(r.toString()),n=c.precision,r=s=n+3;;)if(a=i,i=a.plus(Nc(l,a,s+2)).times(.5),Nu(a.d).slice(0,s)===(e=Nu(i.d)).slice(0,s)){if(e=e.slice(s-3,s+1),r==s&&e=="4999"){if(bi(a,n+1,0),a.times(a).eq(l)){i=a;break}}else if(e!="9999")break;s+=4}return $i=!0,bi(i,n)};zt.times=zt.mul=function(t){var e,n,i,r,a,s,l,c,h,p=this,g=p.constructor,v=p.d,x=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,c=v.length,h=x.length,c<h&&(a=v,v=x,x=a,s=c,c=h,h=s),a=[],s=c+h,i=s;i--;)a.push(0);for(i=h;--i>=0;){for(e=0,r=c+i;r>i;)l=a[r]+x[i]*v[r-i-1]+e,a[r--]=l%ia|0,e=l/ia|0;a[r]=(a[r]+e)%ia|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,$i?bi(t,g.precision):t};zt.toDecimalPlaces=zt.todp=function(t,e){var n=this,i=n.constructor;return n=new i(n),t===void 0?n:(Vu(t,0,ov),e===void 0?e=i.rounding:Vu(e,0,8),bi(n,t+Lr(n)+1,e))};zt.toExponential=function(t,e){var n,i=this,r=i.constructor;return t===void 0?n=gp(i,!0):(Vu(t,0,ov),e===void 0?e=r.rounding:Vu(e,0,8),i=bi(new r(i),t+1,e),n=gp(i,!0,t+1)),n};zt.toFixed=function(t,e){var n,i,r=this,a=r.constructor;return t===void 0?gp(r):(Vu(t,0,ov),e===void 0?e=a.rounding:Vu(e,0,8),i=bi(new a(r),t+Lr(r)+1,e),n=gp(i.abs(),!1,t+Lr(i)+1),r.isneg()&&!r.isZero()?"-"+n:n)};zt.toInteger=zt.toint=function(){var t=this,e=t.constructor;return bi(new e(t),Lr(t)+1,e.rounding)};zt.toNumber=function(){return+this};zt.toPower=zt.pow=function(t){var e,n,i,r,a,s,l=this,c=l.constructor,h=12,p=+(t=new c(t));if(!t.s)return new c(no);if(l=new c(l),!l.s){if(t.s<1)throw Error(Jo+"Infinity");return l}if(l.eq(no))return l;if(i=c.precision,t.eq(no))return bi(l,i);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=p<0?-p:p)<=f9){for(r=new c(no),e=Math.ceil(i/Ui+4),$i=!1;n%2&&(r=r.times(l),X4(r.d,e)),n=lv(n/2),n!==0;)l=l.times(l),X4(l.d,e);return $i=!0,t.s<0?new c(no).div(r):bi(r,i)}}else if(a<0)throw Error(Jo+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,$i=!1,r=t.times(Tx(l,i+h)),$i=!0,r=d9(r),r.s=a,r};zt.toPrecision=function(t,e){var n,i,r=this,a=r.constructor;return t===void 0?(n=Lr(r),i=gp(r,n<=a.toExpNeg||n>=a.toExpPos)):(Vu(t,1,ov),e===void 0?e=a.rounding:Vu(e,0,8),r=bi(new a(r),t,e),n=Lr(r),i=gp(r,t<=n||n<=a.toExpNeg,t)),i};zt.toSignificantDigits=zt.tosd=function(t,e){var n=this,i=n.constructor;return t===void 0?(t=i.precision,e=i.rounding):(Vu(t,1,ov),e===void 0?e=i.rounding:Vu(e,0,8)),bi(new i(n),t,e)};zt.toString=zt.valueOf=zt.val=zt.toJSON=zt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Lr(t),n=t.constructor;return gp(t,e<=n.toExpNeg||e>=n.toExpPos)};function h9(t,e){var n,i,r,a,s,l,c,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),$i?bi(e,g):e;if(c=t.d,h=e.d,s=t.e,r=e.e,c=c.slice(),a=s-r,a){for(a<0?(i=c,a=-a,l=h.length):(i=h,r=s,l=c.length),s=Math.ceil(g/Ui),l=s>l?s+1:l+1,a>l&&(a=l,i.length=1),i.reverse();a--;)i.push(0);i.reverse()}for(l=c.length,a=h.length,l-a<0&&(a=l,i=h,h=c,c=i),n=0;a;)n=(c[--a]=c[a]+h[a]+n)/ia|0,c[a]%=ia;for(n&&(c.unshift(n),++r),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=r,$i?bi(e,g):e}function Vu(t,e,n){if(t!==~~t||t<e||t>n)throw Error(np+t)}function Nu(t){var e,n,i,r=t.length-1,a="",s=t[0];if(r>0){for(a+=s,e=1;e<r;e++)i=t[e]+"",n=Ui-i.length,n&&(a+=th(n)),a+=i;s=t[e],i=s+"",n=Ui-i.length,n&&(a+=th(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Nc=(function(){function t(i,r){var a,s=0,l=i.length;for(i=i.slice();l--;)a=i[l]*r+s,i[l]=a%ia|0,s=a/ia|0;return s&&i.unshift(s),i}function e(i,r,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(i[l]!=r[l]){c=i[l]>r[l]?1:-1;break}return c}function n(i,r,a){for(var s=0;a--;)i[a]-=s,s=i[a]<r[a]?1:0,i[a]=s*ia+i[a]-r[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,a,s){var l,c,h,p,g,v,x,_,w,S,M,T,R,P,L,I,B,D,z=i.constructor,W=i.s==r.s?1:-1,j=i.d,G=r.d;if(!i.s)return new z(i);if(!r.s)throw Error(Jo+"Division by zero");for(c=i.e-r.e,B=G.length,L=j.length,x=new z(W),_=x.d=[],h=0;G[h]==(j[h]||0);)++h;if(G[h]>(j[h]||0)&&--c,a==null?T=a=z.precision:s?T=a+(Lr(i)-Lr(r))+1:T=a,T<0)return new z(0);if(T=T/Ui+2|0,h=0,B==1)for(p=0,G=G[0],T++;(h<L||p)&&T--;h++)R=p*ia+(j[h]||0),_[h]=R/G|0,p=R%G|0;else{for(p=ia/(G[0]+1)|0,p>1&&(G=t(G,p),j=t(j,p),B=G.length,L=j.length),P=B,w=j.slice(0,B),S=w.length;S<B;)w[S++]=0;D=G.slice(),D.unshift(0),I=G[0],G[1]>=ia/2&&++I;do p=0,l=e(G,w,B,S),l<0?(M=w[0],B!=S&&(M=M*ia+(w[1]||0)),p=M/I|0,p>1?(p>=ia&&(p=ia-1),g=t(G,p),v=g.length,S=w.length,l=e(g,w,v,S),l==1&&(p--,n(g,B<v?D:G,v))):(p==0&&(l=p=1),g=G.slice()),v=g.length,v<S&&g.unshift(0),n(w,g,S),l==-1&&(S=w.length,l=e(G,w,B,S),l<1&&(p++,n(w,B<S?D:G,S))),S=w.length):l===0&&(p++,w=[0]),_[h++]=p,l&&w[0]?w[S++]=j[P]||0:(w=[j[P]],S=1);while((P++<L||w[0]!==void 0)&&T--)}return _[0]||_.shift(),x.e=c,bi(x,s?a+Lr(x)+1:a)}})();function d9(t,e){var n,i,r,a,s,l,c=0,h=0,p=t.constructor,g=p.precision;if(Lr(t)>16)throw Error(hI+Lr(t));if(!t.s)return new p(no);for($i=!1,l=g,s=new p(.03125);t.abs().gte(.1);)t=t.times(s),h+=5;for(i=Math.log(Ud(2,h))/Math.LN10*2+5|0,l+=i,n=r=a=new p(no),p.precision=l;;){if(r=bi(r.times(t),l),n=n.times(++c),s=a.plus(Nc(r,n,l)),Nu(s.d).slice(0,l)===Nu(a.d).slice(0,l)){for(;h--;)a=bi(a.times(a),l);return p.precision=g,e==null?($i=!0,bi(a,g)):a}a=s}}function Lr(t){for(var e=t.e*Ui,n=t.d[0];n>=10;n/=10)e++;return e}function ER(t,e,n){if(e>t.LN10.sd())throw $i=!0,n&&(t.precision=n),Error(Jo+"LN10 precision limit exceeded");return bi(new t(t.LN10),e)}function th(t){for(var e="";t--;)e+="0";return e}function Tx(t,e){var n,i,r,a,s,l,c,h,p,g=1,v=10,x=t,_=x.d,w=x.constructor,S=w.precision;if(x.s<1)throw Error(Jo+(x.s?"NaN":"-Infinity"));if(x.eq(no))return new w(0);if(e==null?($i=!1,h=S):h=e,x.eq(10))return e==null&&($i=!0),ER(w,h);if(h+=v,w.precision=h,n=Nu(_),i=n.charAt(0),a=Lr(x),Math.abs(a)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)x=x.times(t),n=Nu(x.d),i=n.charAt(0),g++;a=Lr(x),i>1?(x=new w("0."+n),a++):x=new w(i+"."+n.slice(1))}else return c=ER(w,h+2,S).times(a+""),x=Tx(new w(i+"."+n.slice(1)),h-v).plus(c),w.precision=S,e==null?($i=!0,bi(x,S)):x;for(l=s=x=Nc(x.minus(no),x.plus(no),h),p=bi(x.times(x),h),r=3;;){if(s=bi(s.times(p),h),c=l.plus(Nc(s,new w(r),h)),Nu(c.d).slice(0,h)===Nu(l.d).slice(0,h))return l=l.times(2),a!==0&&(l=l.plus(ER(w,h+2,S).times(a+""))),l=Nc(l,new w(g),h),w.precision=S,e==null?($i=!0,bi(l,S)):l;l=c,r+=2}}function q4(t,e){var n,i,r;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,n=n-i-1,t.e=lv(n/Ui),t.d=[],i=(n+1)%Ui,n<0&&(i+=Ui),i<r){for(i&&t.d.push(+e.slice(0,i)),r-=Ui;i<r;)t.d.push(+e.slice(i,i+=Ui));e=e.slice(i),i=Ui-e.length}else i-=r;for(;i--;)e+="0";if(t.d.push(+e),$i&&(t.e>vw||t.e<-vw))throw Error(hI+n)}else t.s=0,t.e=0,t.d=[0];return t}function bi(t,e,n){var i,r,a,s,l,c,h,p,g=t.d;for(s=1,a=g[0];a>=10;a/=10)s++;if(i=e-s,i<0)i+=Ui,r=e,h=g[p=0];else{if(p=Math.ceil((i+1)/Ui),a=g.length,p>=a)return t;for(h=a=g[p],s=1;a>=10;a/=10)s++;i%=Ui,r=i-Ui+s}if(n!==void 0&&(a=Ud(10,s-r-1),l=h/a%10|0,c=e<0||g[p+1]!==void 0||h%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(i>0?r>0?h/Ud(10,s-r):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return c?(a=Lr(t),g.length=1,e=e-a-1,g[0]=Ud(10,(Ui-e%Ui)%Ui),t.e=lv(-e/Ui)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(i==0?(g.length=p,a=1,p--):(g.length=p+1,a=Ud(10,Ui-i),g[p]=r>0?(h/Ud(10,s-r)%Ud(10,r)|0)*a:0),c)for(;;)if(p==0){(g[0]+=a)==ia&&(g[0]=1,++t.e);break}else{if(g[p]+=a,g[p]!=ia)break;g[p--]=0,a=1}for(i=g.length;g[--i]===0;)g.pop();if($i&&(t.e>vw||t.e<-vw))throw Error(hI+Lr(t));return t}function p9(t,e){var n,i,r,a,s,l,c,h,p,g,v=t.constructor,x=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),$i?bi(e,x):e;if(c=t.d,g=e.d,i=e.e,h=t.e,c=c.slice(),s=h-i,s){for(p=s<0,p?(n=c,s=-s,l=g.length):(n=g,i=h,l=c.length),r=Math.max(Math.ceil(x/Ui),l)+2,s>r&&(s=r,n.length=1),n.reverse(),r=s;r--;)n.push(0);n.reverse()}else{for(r=c.length,l=g.length,p=r<l,p&&(l=r),r=0;r<l;r++)if(c[r]!=g[r]){p=c[r]<g[r];break}s=0}for(p&&(n=c,c=g,g=n,e.s=-e.s),l=c.length,r=g.length-l;r>0;--r)c[l++]=0;for(r=g.length;r>s;){if(c[--r]<g[r]){for(a=r;a&&c[--a]===0;)c[a]=ia-1;--c[a],c[r]+=ia}c[r]-=g[r]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--i;return c[0]?(e.d=c,e.e=i,$i?bi(e,x):e):new v(0)}function gp(t,e,n){var i,r=Lr(t),a=Nu(t.d),s=a.length;return e?(n&&(i=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+th(i):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r<0?"e":"e+")+r):r<0?(a="0."+th(-r-1)+a,n&&(i=n-s)>0&&(a+=th(i))):r>=s?(a+=th(r+1-s),n&&(i=n-r-1)>0&&(a=a+"."+th(i))):((i=r+1)<s&&(a=a.slice(0,i)+"."+a.slice(i)),n&&(i=n-s)>0&&(r+1===s&&(a+="."),a+=th(i))),t.s<0?"-"+a:a}function X4(t,e){if(t.length>e)return t.length=e,!0}function m9(t){var e,n,i;function r(a){var s=this;if(!(s instanceof r))return new r(a);if(s.constructor=r,a instanceof r){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(np+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return q4(s,a.toString())}else if(typeof a!="string")throw Error(np+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,cve.test(a))q4(s,a);else throw Error(np+a)}if(r.prototype=zt,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=m9,r.config=r.set=fve,t===void 0&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)t.hasOwnProperty(n=i[e++])||(t[n]=this[n]);return r.config(t),r}function fve(t){if(!t||typeof t!="object")throw Error(Jo+"Object expected");var e,n,i,r=["precision",1,ov,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=t[n=r[e]])!==void 0)if(lv(i)===i&&i>=r[e+1]&&i<=r[e+2])this[n]=i;else throw Error(np+n+": "+i);if((i=t[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(np+n+": "+i);return this}var dI=m9(uve);no=new dI(1);const li=dI;function g9(t){var e;return t===0?e=1:e=Math.floor(new li(t).abs().log(10).toNumber())+1,e}function v9(t,e,n){for(var i=new li(t),r=0,a=[];i.lt(e)&&r<1e5;)a.push(i.toNumber()),i=i.add(n),r++;return a}var y9=t=>{var[e,n]=t,[i,r]=[e,n];return e>n&&([i,r]=[n,e]),[i,r]},x9=(t,e,n)=>{if(t.lte(0))return new li(0);var i=g9(t.toNumber()),r=new li(10).pow(i),a=t.div(r),s=i!==1?.05:.1,l=new li(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=l.mul(r);return e?new li(c.toNumber()):new li(Math.ceil(c.toNumber()))},hve=(t,e,n)=>{var i=new li(1),r=new li(t);if(!r.isint()&&n){var a=Math.abs(t);a<1?(i=new li(10).pow(g9(t)-1),r=new li(Math.floor(r.div(i).toNumber())).mul(i)):a>1&&(r=new li(Math.floor(t)))}else t===0?r=new li(Math.floor((e-1)/2)):n||(r=new li(Math.floor(t)));for(var s=Math.floor((e-1)/2),l=[],c=0;c<e;c++)l.push(r.add(new li(c-s).mul(i)).toNumber());return l},b9=function(e,n,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(i-1)))return{step:new li(0),tickMin:new li(0),tickMax:new li(0)};var s=x9(new li(n).sub(e).div(i-1),r,a),l;e<=0&&n>=0?l=new li(0):(l=new li(e).add(n).div(2),l=l.sub(new li(l).mod(s)));var c=Math.ceil(l.sub(e).div(s).toNumber()),h=Math.ceil(new li(n).sub(l).div(s).toNumber()),p=c+h+1;return p>i?b9(e,n,i,r,a+1):(p<i&&(h=n>0?h+(i-p):h,c=n>0?c:c+(i-p)),{step:s,tickMin:l.sub(new li(c).mul(s)),tickMax:l.add(new li(h).mul(s))})},dve=function(e){var[n,i]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[l,c]=y9([n,i]);if(l===-1/0||c===1/0){var h=c===1/0?[l,...Array(r-1).fill(1/0)]:[...Array(r-1).fill(-1/0),c];return n>i?h.reverse():h}if(l===c)return hve(l,r,a);var{step:p,tickMin:g,tickMax:v}=b9(l,c,s,a,0),x=v9(g,v.add(new li(.1).mul(p)),p);return n>i?x.reverse():x},pve=function(e,n){var[i,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=y9([i,r]);if(s===-1/0||l===1/0)return[i,r];if(s===l)return[s];var c=Math.max(n,2),h=x9(new li(l).sub(s).div(c-1),a,0),p=[...v9(new li(s),new li(l),h),l];return a===!1&&(p=p.map(g=>Math.round(g))),i>r?p.reverse():p},_9=t=>t.rootProps.maxBarSize,mve=t=>t.rootProps.barGap,S9=t=>t.rootProps.barCategoryGap,gve=t=>t.rootProps.barSize,XE=t=>t.rootProps.stackOffset,M9=t=>t.rootProps.reverseStackOrder,pI=t=>t.options.chartName,mI=t=>t.rootProps.syncId,w9=t=>t.rootProps.syncMethod,gI=t=>t.options.eventEmitter,js={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Od={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Eu={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},$E=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function YE(t,e,n){if(n!=="auto")return n;if(t!=null)return Eh(t,e)?"category":"number"}function $4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function yw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(n),!0).forEach(function(i){vve(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function vve(t,e,n){return(e=yve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yve(t){var e=xve(t,"string");return typeof e=="symbol"?e:e+""}function xve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y4={allowDataOverflow:Od.allowDataOverflow,allowDecimals:Od.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Od.angleAxisId,includeHidden:!1,name:void 0,reversed:Od.reversed,scale:Od.scale,tick:Od.tick,tickCount:void 0,ticks:void 0,type:Od.type,unit:void 0},Z4={allowDataOverflow:Eu.allowDataOverflow,allowDecimals:Eu.allowDecimals,allowDuplicatedCategory:Eu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Eu.radiusAxisId,includeHidden:Eu.includeHidden,name:void 0,reversed:Eu.reversed,scale:Eu.scale,tick:Eu.tick,tickCount:Eu.tickCount,ticks:void 0,type:Eu.type,unit:void 0},bve=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},vI=Ne([bve,cG],(t,e)=>{var n;if(t!=null)return t;var i=(n=YE(e,"angleAxis",Y4.type))!==null&&n!==void 0?n:"category";return yw(yw({},Y4),{},{type:i})}),_ve=(t,e)=>t.polarAxis.radiusAxis[e],yI=Ne([_ve,cG],(t,e)=>{var n;if(t!=null)return t;var i=(n=YE(e,"radiusAxis",Z4.type))!==null&&n!==void 0?n:"category";return yw(yw({},Z4),{},{type:i})}),ZE=t=>t.polarOptions,xI=Ne([Xc,$c,oa],ype),E9=Ne([ZE,xI],(t,e)=>{if(t!=null)return Vl(t.innerRadius,e,0)}),A9=Ne([ZE,xI],(t,e)=>{if(t!=null)return Vl(t.outerRadius,e,e*.8)}),Sve=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},T9=Ne([ZE],Sve);Ne([vI,T9],$E);var C9=Ne([xI,E9,A9],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Ne([yI,C9],$E);var R9=Ne([_i,ZE,E9,A9,Xc,$c],(t,e,n,i,r,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||i==null)){var{cx:s,cy:l,startAngle:c,endAngle:h}=e;return{cx:Vl(s,r,r/2),cy:Vl(l,a,a/2),innerRadius:n,outerRadius:i,startAngle:c,endAngle:h,clockWise:!1}}}),ua=(t,e)=>e,KE=(t,e,n)=>n;function bI(t){return t==null?void 0:t.id}function P9(t,e,n){var{chartData:i=[]}=e,{allowDuplicatedCategory:r,dataKey:a}=n,s=new Map;return t.forEach(l=>{var c,h=(c=l.data)!==null&&c!==void 0?c:i;if(!(h==null||h.length===0)){var p=bI(l);h.forEach((g,v)=>{var x=a==null||r?v:String(Pa(g,a,null)),_=Pa(g,l.dataKey,0),w;s.has(x)?w=s.get(x):w={},Object.assign(w,{[p]:_}),s.set(x,w)})}}),Array.from(s.values())}function QE(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var JE=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function eA(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Mve(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var ca=t=>{var e=_i(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},uv=t=>t.tooltip.settings.axisId;function wve(t){if(t in Ey)return Ey[t]();var e="scale".concat($x(t));if(e in Ey)return Ey[e]()}function K4(t){var e=t.ticks,n=t.bandwidth,i=t.range(),r=[Math.min(...i),Math.max(...i)];return{domain:()=>t.domain(),range:(function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s})(()=>r),rangeMin:()=>r[0],rangeMax:()=>r[1],isInRange(a){var s=r[0],l=r[1];return s<=l?a>=s&&a<=l:a>=l&&a<=s},bandwidth:n?()=>n.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,s)=>{var l=t(a);if(l!=null){if(t.bandwidth&&s!==null&&s!==void 0&&s.position){var c=t.bandwidth();switch(s.position){case"middle":l+=c/2;break;case"end":l+=c;break}}return l}}}}function Q4(t,e,n){if(typeof t=="function")return K4(t.copy().domain(e).range(n));if(t!=null){var i=wve(t);if(i!=null)return i.domain(e).range(n),K4(i)}}var Eve=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Hc(e)){for(var n,i,r=0;r<e.length;r++){var a=e[r];ri(a)&&((n===void 0||a<n)&&(n=a),(i===void 0||a>i)&&(i=a))}return n!==void 0&&i!==void 0?[n,i]:void 0}return e}default:return e}};function J4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function xw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(n),!0).forEach(function(i){Ave(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Ave(t,e,n){return(e=Tve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tve(t){var e=Cve(t,"string");return typeof e=="symbol"?e:e+""}function Cve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MO=[0,"auto"],ta={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},O9=(t,e)=>t.cartesianAxis.xAxis[e],Kc=(t,e)=>{var n=O9(t,e);return n??ta},na={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:MO,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Kx},D9=(t,e)=>t.cartesianAxis.yAxis[e],Qc=(t,e)=>{var n=D9(t,e);return n??na},Rve={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_I=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Rve},xs=(t,e,n)=>{switch(e){case"xAxis":return Kc(t,n);case"yAxis":return Qc(t,n);case"zAxis":return _I(t,n);case"angleAxis":return vI(t,n);case"radiusAxis":return yI(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Pve=(t,e,n)=>{switch(e){case"xAxis":return Kc(t,n);case"yAxis":return Qc(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},rb=(t,e,n)=>{switch(e){case"xAxis":return Kc(t,n);case"yAxis":return Qc(t,n);case"angleAxis":return vI(t,n);case"radiusAxis":return yI(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},I9=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function N9(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var SI=t=>t.graphicalItems.cartesianItems,Ove=Ne([ua,KE],N9),L9=(t,e,n)=>t.filter(n).filter(i=>(e==null?void 0:e.includeHidden)===!0?!0:!i.hide),ab=Ne([SI,xs,Ove],L9,{memoizeOptions:{resultEqualityCheck:eA}}),U9=Ne([ab],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(QE)),z9=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Dve=Ne([ab],z9),B9=t=>t.map(e=>e.data).filter(Boolean).flat(1),Ive=Ne([ab],B9,{memoizeOptions:{resultEqualityCheck:eA}}),k9=(t,e)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:r}=e;return t.length>0?t:n.slice(i,r+1)},MI=Ne([Ive,u9],k9),F9=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:Pa(i,e.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>t.map(r=>({value:Pa(r,i)}))):t.map(i=>({value:i})),tA=Ne([MI,xs,ab],F9);function V9(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function T1(t){if(Fu(t)||t instanceof Date){var e=Number(t);if(ri(e))return e}}function e5(t){if(Array.isArray(t)){var e=[T1(t[0]),T1(t[1])];return Hc(e)?e:void 0}var n=T1(t);if(n!=null)return[n,n]}function jc(t){return t.map(T1).filter(Du)}function Nve(t,e,n){return!n||typeof e!="number"||ku(e)?[]:n.length?jc(n.flatMap(i=>{var r=Pa(t,i.dataKey),a,s;if(Array.isArray(r)?[a,s]=r:a=s=r,!(!ri(a)||!ri(s)))return[e-a,e+s]})):[]}var Xr=t=>{var e=ca(t),n=uv(t);return rb(t,e,n)},sb=Ne([Xr],t=>t==null?void 0:t.dataKey),Lve=Ne([U9,u9,Xr],P9),H9=(t,e,n,i)=>{var r={},a=e.reduce((s,l)=>{if(l.stackId==null)return s;var c=s[l.stackId];return c==null&&(c=[]),c.push(l),s[l.stackId]=c,s},r);return Object.fromEntries(Object.entries(a).map(s=>{var[l,c]=s,h=i?[...c].reverse():c,p=h.map(bI);return[l,{stackedData:ahe(t,p,n),graphicalItems:h}]}))},wO=Ne([Lve,U9,XE,M9],H9),j9=(t,e,n,i)=>{var{dataStartIndex:r,dataEndIndex:a}=e;if(i==null&&n!=="zAxis"){var s=che(t,r,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Uve=Ne([xs],t=>t.allowDataOverflow),wI=t=>{var e;if(t==null||!("domain"in t))return MO;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=jc(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:MO},G9=Ne([xs],wI),W9=Ne([G9,Uve],c9),zve=Ne([wO,Zc,ua,W9],j9,{memoizeOptions:{resultEqualityCheck:JE}}),EI=t=>t.errorBars,Bve=(t,e,n)=>t.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>V9(n,i)),bw=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=n.filter(Boolean);if(r.length!==0){var a=r.flat(),s=Math.min(...a),l=Math.max(...a);return[s,l]}},q9=(t,e,n,i,r)=>{var a,s;if(n.length>0&&t.forEach(l=>{n.forEach(c=>{var h,p,g=(h=i[c.id])===null||h===void 0?void 0:h.filter(M=>V9(r,M)),v=Pa(l,(p=e.dataKey)!==null&&p!==void 0?p:c.dataKey),x=Nve(l,v,g);if(x.length>=2){var _=Math.min(...x),w=Math.max(...x);(a==null||_<a)&&(a=_),(s==null||w>s)&&(s=w)}var S=e5(v);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),s=s==null?S[1]:Math.max(s,S[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(l=>{var c=e5(Pa(l,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),ri(a)&&ri(s))return[a,s]},kve=Ne([MI,xs,Dve,EI,ua],q9,{memoizeOptions:{resultEqualityCheck:JE}});function Fve(t){var{value:e}=t;if(Fu(e)||e instanceof Date)return e}var Vve=(t,e,n)=>{var i=t.map(Fve).filter(r=>r!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&hj(i))?CG(0,t.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},X9=t=>t.referenceElements.dots,cv=(t,e,n)=>t.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===n:i.yAxisId===n),Hve=Ne([X9,ua,KE],cv),$9=t=>t.referenceElements.areas,jve=Ne([$9,ua,KE],cv),Y9=t=>t.referenceElements.lines,Gve=Ne([Y9,ua,KE],cv),Z9=(t,e)=>{if(t!=null){var n=jc(t.map(i=>e==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Wve=Ne(Hve,ua,Z9),K9=(t,e)=>{if(t!=null){var n=jc(t.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},qve=Ne([jve,ua],K9);function Xve(t){var e;if(t.x!=null)return jc([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(i=>i.x);return n==null||n.length===0?[]:jc(n)}function $ve(t){var e;if(t.y!=null)return jc([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(i=>i.y);return n==null||n.length===0?[]:jc(n)}var Q9=(t,e)=>{if(t!=null){var n=t.flatMap(i=>e==="xAxis"?Xve(i):$ve(i));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Yve=Ne([Gve,ua],Q9),Zve=Ne(Wve,Yve,qve,(t,e,n)=>bw(t,n,e)),J9=(t,e,n,i,r,a,s,l)=>{if(n!=null)return n;var c=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",h=c?bw(i,a,r):bw(a,r);return lve(e,h,t.allowDataOverflow)},Kve=Ne([xs,G9,W9,zve,kve,Zve,_i,ua],J9,{memoizeOptions:{resultEqualityCheck:JE}}),Qve=[0,1],e7=(t,e,n,i,r,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:c}=t,h=Eh(e,a);if(h&&l==null){var p;return CG(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return c==="category"?Vve(i,t,h):r==="expand"?Qve:s}},AI=Ne([xs,_i,MI,tA,XE,ua,Kve],e7);function Jve(t){return t in Ey}var t7=(t,e,n)=>{if(t!=null){var{scale:i,type:r}=t;if(i==="auto")return r==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":r==="category"?"band":"linear";if(typeof i=="string"){var a="scale".concat($x(i));return Jve(a)?a:"point"}}},fv=Ne([xs,I9,pI],t7);function TI(t,e,n,i){if(!(n==null||i==null))return typeof t.scale=="function"?Q4(t.scale,n,i):Q4(e,n,i)}var n7=(t,e,n)=>{var i=wI(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Hc(t))return dve(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Hc(t))return pve(t,e.tickCount,e.allowDecimals)}},CI=Ne([AI,rb,fv],n7),i7=(t,e,n,i)=>{if(i!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Hc(e)&&Array.isArray(n)&&n.length>0){var r,a,s=e[0],l=(r=n[0])!==null&&r!==void 0?r:0,c=e[1],h=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,l),Math.max(c,h)]}return e},e0e=Ne([xs,AI,CI,ua],i7),t0e=Ne(tA,xs,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,i=Array.from(jc(t.map(g=>g.value))).sort((g,v)=>g-v),r=i[0],a=i[i.length-1];if(r==null||a==null)return 1/0;var s=a-r;if(s===0)return 1/0;for(var l=0;l<i.length-1;l++){var c=i[l],h=i[l+1];if(!(c==null||h==null)){var p=h-c;n=Math.min(n,p)}}return n/s}}),r7=Ne(t0e,_i,S9,oa,(t,e,n,i,r)=>r,(t,e,n,i,r)=>{if(!ri(t))return 0;var a=e==="vertical"?i.height:i.width;if(r==="gap")return t*a/2;if(r==="no-gap"){var s=Vl(n,t*a),l=t*a/2;return l-s-(l-s)/a*s}return 0}),n0e=(t,e,n)=>{var i=Kc(t,e);return i==null||typeof i.padding!="string"?0:r7(t,"xAxis",e,n,i.padding)},i0e=(t,e,n)=>{var i=Qc(t,e);return i==null||typeof i.padding!="string"?0:r7(t,"yAxis",e,n,i.padding)},r0e=Ne(Kc,n0e,(t,e)=>{var n,i;if(t==null)return{left:0,right:0};var{padding:r}=t;return typeof r=="string"?{left:e,right:e}:{left:((n=r.left)!==null&&n!==void 0?n:0)+e,right:((i=r.right)!==null&&i!==void 0?i:0)+e}}),a0e=Ne(Qc,i0e,(t,e)=>{var n,i;if(t==null)return{top:0,bottom:0};var{padding:r}=t;return typeof r=="string"?{top:e,bottom:e}:{top:((n=r.top)!==null&&n!==void 0?n:0)+e,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+e}}),s0e=Ne([oa,r0e,LE,NE,(t,e,n)=>n],(t,e,n,i,r)=>{var{padding:a}=i;return r?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),o0e=Ne([oa,_i,a0e,LE,NE,(t,e,n)=>n],(t,e,n,i,r,a)=>{var{padding:s}=r;return a?[i.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ob=(t,e,n,i)=>{var r;switch(e){case"xAxis":return s0e(t,n,i);case"yAxis":return o0e(t,n,i);case"zAxis":return(r=_I(t,n))===null||r===void 0?void 0:r.range;case"angleAxis":return T9(t);case"radiusAxis":return C9(t,n);default:return}},a7=Ne([xs,ob],$E),l0e=Ne([fv,e0e],Eve),nA=Ne([xs,fv,l0e,a7],TI);Ne([ab,EI,ua],Bve);function s7(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var iA=(t,e)=>e,rA=(t,e,n)=>n,u0e=Ne(DE,iA,rA,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(s7)),c0e=Ne(IE,iA,rA,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(s7)),o7=(t,e)=>({width:t.width,height:e.height}),f0e=(t,e)=>{var n=typeof e.width=="number"?e.width:Kx;return{width:n,height:t.height}},l7=Ne(oa,Kc,o7),h0e=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},d0e=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},p0e=Ne($c,oa,u0e,iA,rA,(t,e,n,i,r)=>{var a={},s;return n.forEach(l=>{var c=o7(e,l);s==null&&(s=h0e(e,i,t));var h=i==="top"&&!r||i==="bottom"&&r;a[l.id]=s-Number(h)*c.height,s+=(h?-1:1)*c.height}),a}),m0e=Ne(Xc,oa,c0e,iA,rA,(t,e,n,i,r)=>{var a={},s;return n.forEach(l=>{var c=f0e(e,l);s==null&&(s=d0e(e,i,t));var h=i==="left"&&!r||i==="right"&&r;a[l.id]=s-Number(h)*c.width,s+=(h?-1:1)*c.width}),a}),g0e=(t,e)=>{var n=Kc(t,e);if(n!=null)return p0e(t,n.orientation,n.mirror)},v0e=Ne([oa,Kc,g0e,(t,e)=>e],(t,e,n,i)=>{if(e!=null){var r=n==null?void 0:n[i];return r==null?{x:t.left,y:0}:{x:t.left,y:r}}}),y0e=(t,e)=>{var n=Qc(t,e);if(n!=null)return m0e(t,n.orientation,n.mirror)},x0e=Ne([oa,Qc,y0e,(t,e)=>e],(t,e,n,i)=>{if(e!=null){var r=n==null?void 0:n[i];return r==null?{x:0,y:t.top}:{x:r,y:t.top}}}),u7=Ne(oa,Qc,(t,e)=>{var n=typeof e.width=="number"?e.width:Kx;return{width:n,height:t.height}}),t5=(t,e,n)=>{switch(e){case"xAxis":return l7(t,n).width;case"yAxis":return u7(t,n).height;default:return}},c7=(t,e,n,i)=>{if(n!=null){var{allowDuplicatedCategory:r,type:a,dataKey:s}=n,l=Eh(t,i),c=e.map(h=>h.value);if(s&&l&&a==="category"&&r&&hj(c))return c}},RI=Ne([_i,tA,xs,ua],c7),f7=(t,e,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:r,scale:a}=n,s=Eh(t,i);if(s&&(r==="number"||a!=="auto"))return e.map(l=>l.value)}},PI=Ne([_i,tA,rb,ua],f7);Ne([_i,Pve,fv,nA,RI,PI,ob,CI,ua],(t,e,n,i,r,a,s,l,c)=>{if(e!=null){var h=Eh(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:r,isCategorical:h,niceTicks:l,range:s,realScaleType:n,scale:i}}});var b0e=(t,e,n,i,r,a,s,l,c)=>{if(!(e==null||i==null)){var h=Eh(t,c),{type:p,ticks:g,tickCount:v}=e,x=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,_=p==="category"&&i.bandwidth?i.bandwidth()/x:0;_=c==="angleAxis"&&a!=null&&a.length>=2?ro(a[0]-a[1])*2*_:_;var w=g||r;return w?w.map((S,M)=>{var T=s?s.indexOf(S):S,R=i.map(T);return ri(R)?{index:M,coordinate:R+_,value:S,offset:_}:null}).filter(Du):h&&l?l.map((S,M)=>{var T=i.map(S);return ri(T)?{coordinate:T+_,value:S,index:M,offset:_}:null}).filter(Du):i.ticks?i.ticks(v).map((S,M)=>{var T=i.map(S);return ri(T)?{coordinate:T+_,value:S,index:M,offset:_}:null}).filter(Du):i.domain().map((S,M)=>{var T=i.map(S);return ri(T)?{coordinate:T+_,value:s?s[S]:S,index:M,offset:_}:null}).filter(Du)}},h7=Ne([_i,rb,fv,nA,CI,ob,RI,PI,ua],b0e),_0e=(t,e,n,i,r,a,s)=>{if(!(e==null||n==null||i==null||i[0]===i[1])){var l=Eh(t,s),{tickCount:c}=e,h=0;return h=s==="angleAxis"&&(i==null?void 0:i.length)>=2?ro(i[0]-i[1])*2*h:h,l&&a?a.map((p,g)=>{var v=n.map(p);return ri(v)?{coordinate:v+h,value:p,index:g,offset:h}:null}).filter(Du):n.ticks?n.ticks(c).map((p,g)=>{var v=n.map(p);return ri(v)?{coordinate:v+h,value:p,index:g,offset:h}:null}).filter(Du):n.domain().map((p,g)=>{var v=n.map(p);return ri(v)?{coordinate:v+h,value:r?r[p]:p,index:g,offset:h}:null}).filter(Du)}},Gg=Ne([_i,rb,nA,ob,RI,PI,ua],_0e),Wg=Ne(xs,nA,(t,e)=>{if(!(t==null||e==null))return xw(xw({},t),{},{scale:e})}),S0e=Ne([xs,fv,AI,a7],TI);Ne((t,e,n)=>_I(t,n),S0e,(t,e)=>{if(!(t==null||e==null))return xw(xw({},t),{},{scale:e})});var M0e=Ne([_i,DE,IE],(t,e,n)=>{switch(t){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),d7=t=>t.options.defaultTooltipEventType,p7=t=>t.options.validateTooltipEventTypes;function m7(t,e,n){if(t==null)return e;var i=t?"axis":"item";return n==null?e:n.includes(i)?i:e}function OI(t,e){var n=d7(t),i=p7(t);return m7(e,n,i)}function w0e(t){return sn(e=>OI(e,t))}var g7=(t,e)=>{var n,i=Number(e);if(!(ku(i)||e==null))return i>=0?t==null||(n=t[i])===null||n===void 0?void 0:n.value:void 0},E0e=t=>t.tooltip.settings,rh={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},A0e={itemInteraction:{click:rh,hover:rh},axisInteraction:{click:rh,hover:rh},keyboardInteraction:rh,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},v7=Ws({name:"tooltip",initialState:A0e,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Xi()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:i}=e.payload,r=zl(t).tooltipItemPayloads.indexOf(n);r>-1&&(t.tooltipItemPayloads[r]=i)},prepare:Xi()},removeTooltipEntrySettings:{reducer(t,e){var n=zl(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Xi()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:T0e,replaceTooltipEntrySettings:C0e,removeTooltipEntrySettings:R0e,setTooltipSettingsState:P0e,setActiveMouseOverItemIndex:y7,mouseLeaveItem:O0e,mouseLeaveChart:x7,setActiveClickItemIndex:D0e,setMouseOverAxisIndex:b7,setMouseClickAxisIndex:I0e,setSyncInteraction:EO,setKeyboardInteraction:AO}=v7.actions,N0e=v7.reducer;function n5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function l1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(n),!0).forEach(function(i){L0e(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function L0e(t,e,n){return(e=U0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U0e(t){var e=z0e(t,"string");return typeof e=="symbol"?e:e+""}function z0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B0e(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function k0e(t){return t.index!=null}var _7=(t,e,n,i)=>{if(e==null)return rh;var r=B0e(t,e,n);if(r==null)return rh;if(r.active)return r;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(k0e(r)){if(a)return l1(l1({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return l1(l1({},rh),{},{coordinate:r.coordinate})};function F0e(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function V0e(t,e){var n=F0e(t),i=e[0],r=e[1];if(n===void 0)return!1;var a=Math.min(i,r),s=Math.max(i,r);return n>=a&&n<=s}function H0e(t,e,n){if(n==null||e==null)return!0;var i=Pa(t,e);return i==null||!Hc(n)?!0:V0e(i,n)}var DI=(t,e,n,i)=>{var r=t==null?void 0:t.index;if(r==null)return null;var a=Number(r);if(!ri(a))return r;var s=0,l=1/0;e.length>0&&(l=e.length-1);var c=Math.max(s,Math.min(a,l)),h=e[c];return h==null||H0e(h,n,i)?String(c):null},S7=(t,e,n,i,r,a,s)=>{if(a!=null){var l=s[0],c=l==null?void 0:l.getPosition(a);if(c!=null)return c;var h=r==null?void 0:r[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(i.top+e)/2};default:return{x:(i.left+t)/2,y:h.coordinate}}}},M7=(t,e,n,i)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var r;if(n==="hover"?r=t.itemInteraction.hover.graphicalItemId:r=t.itemInteraction.click.graphicalItemId,r==null&&i!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.graphicalItemId)===r})},w7=t=>t.options.tooltipPayloadSearcher,hv=t=>t.tooltip;function i5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function r5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i5(Object(n),!0).forEach(function(i){j0e(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function j0e(t,e,n){return(e=G0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G0e(t){var e=W0e(t,"string");return typeof e=="symbol"?e:e+""}function W0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q0e(t,e){return t??e}var E7=(t,e,n,i,r,a,s)=>{if(!(e==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((v,x)=>{var _,{dataDefinedOnItem:w,settings:S}=x,M=q0e(w,l),T=Array.isArray(M)?iG(M,h,p):M,R=(_=S==null?void 0:S.dataKey)!==null&&_!==void 0?_:i,P=S==null?void 0:S.nameKey,L;if(i&&Array.isArray(T)&&!Array.isArray(T[0])&&s==="axis"?L=Gue(T,i,r):L=a(T,e,c,P),Array.isArray(L))L.forEach(B=>{var D=r5(r5({},S),{},{name:B.name,unit:B.unit,color:void 0,fill:void 0});v.push(rF({tooltipEntrySettings:D,dataKey:B.dataKey,payload:B.payload,value:Pa(B.payload,B.dataKey),name:B.name}))});else{var I;v.push(rF({tooltipEntrySettings:S,dataKey:R,payload:L,value:Pa(L,R),name:(I=Pa(L,P))!==null&&I!==void 0?I:S==null?void 0:S.name}))}return v},g)}},II=Ne([Xr,I9,pI],t7),X0e=Ne([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),$0e=Ne([ca,uv],N9),dv=Ne([X0e,Xr,$0e],L9,{memoizeOptions:{resultEqualityCheck:eA}}),Y0e=Ne([dv],t=>t.filter(QE)),Z0e=Ne([dv],B9,{memoizeOptions:{resultEqualityCheck:eA}}),pv=Ne([Z0e,Zc],k9),K0e=Ne([Y0e,Zc,Xr],P9),NI=Ne([pv,Xr,dv],F9),A7=Ne([Xr],wI),Q0e=Ne([Xr],t=>t.allowDataOverflow),T7=Ne([A7,Q0e],c9),J0e=Ne([dv],t=>t.filter(QE)),eye=Ne([K0e,J0e,XE,M9],H9),tye=Ne([eye,Zc,ca,T7],j9),nye=Ne([dv],z9),iye=Ne([pv,Xr,nye,EI,ca],q9,{memoizeOptions:{resultEqualityCheck:JE}}),rye=Ne([X9,ca,uv],cv),aye=Ne([rye,ca],Z9),sye=Ne([$9,ca,uv],cv),oye=Ne([sye,ca],K9),lye=Ne([Y9,ca,uv],cv),uye=Ne([lye,ca],Q9),cye=Ne([aye,uye,oye],bw),fye=Ne([Xr,A7,T7,tye,iye,cye,_i,ca],J9),lb=Ne([Xr,_i,pv,NI,XE,ca,fye],e7),hye=Ne([lb,Xr,II],n7),dye=Ne([Xr,lb,hye,ca],i7),C7=t=>{var e=ca(t),n=uv(t),i=!1;return ob(t,e,n,i)},R7=Ne([Xr,C7],$E),P7=Ne([Xr,II,dye,R7],TI),pye=Ne([_i,NI,Xr,ca],c7),mye=Ne([_i,NI,Xr,ca],f7),gye=(t,e,n,i,r,a,s,l)=>{if(e){var{type:c}=e,h=Eh(t,l);if(i){var p=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,g=c==="category"&&i.bandwidth?i.bandwidth()/p:0;return g=l==="angleAxis"&&r!=null&&(r==null?void 0:r.length)>=2?ro(r[0]-r[1])*2*g:g,h&&s?s.map((v,x)=>{var _=i.map(v);return ri(_)?{coordinate:_+g,value:v,index:x,offset:g}:null}).filter(Du):i.domain().map((v,x)=>{var _=i.map(v);return ri(_)?{coordinate:_+g,value:a?a[v]:v,index:x,offset:g}:null}).filter(Du)}}},Jc=Ne([_i,Xr,II,P7,C7,pye,mye,ca],gye),LI=Ne([d7,p7,E0e],(t,e,n)=>m7(n.shared,t,e)),O7=t=>t.tooltip.settings.trigger,UI=t=>t.tooltip.settings.defaultIndex,ub=Ne([hv,LI,O7,UI],_7),qg=Ne([ub,pv,sb,lb],DI),D7=Ne([Jc,qg],g7),I7=Ne([ub],t=>{if(t)return t.dataKey});Ne([ub],t=>{if(t)return t.graphicalItemId});var N7=Ne([hv,LI,O7,UI],M7),vye=Ne([Xc,$c,_i,oa,Jc,UI,N7],S7),yye=Ne([ub,vye],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),xye=Ne([ub],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),bye=Ne([N7,qg,Zc,sb,D7,w7,LI],E7);Ne([bye],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function a5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function s5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(n),!0).forEach(function(i){_ye(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _ye(t,e,n){return(e=Sye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sye(t){var e=Mye(t,"string");return typeof e=="symbol"?e:e+""}function Mye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wye=()=>sn(Xr),Eye=()=>{var t=wye(),e=sn(Jc),n=sn(P7);return QM(!t||!n?void 0:s5(s5({},t),{},{scale:n}),e)};function o5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(n),!0).forEach(function(i){Aye(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Aye(t,e,n){return(e=Tye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tye(t){var e=Cye(t,"string");return typeof e=="symbol"?e:e+""}function Cye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rye=(t,e,n,i)=>{var r=e.find(a=>a&&a.index===n);if(r){if(t==="horizontal")return{x:r.coordinate,y:i.chartY};if(t==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},Pye=(t,e,n,i)=>{var r=e.find(h=>h&&h.index===n);if(r){if(t==="centric"){var a=r.coordinate,{radius:s}=i;return sg(sg(sg({},i),Ca(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=r.coordinate,{angle:c}=i;return sg(sg(sg({},i),Ca(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Oye(t,e){var{chartX:n,chartY:i}=t;return n>=e.left&&n<=e.left+e.width&&i>=e.top&&i<=e.top+e.height}var L7=(t,e,n,i,r)=>{var a,s=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(s<=1||t==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var l=0;l<s;l++){var c,h,p,g,v,x=l>0?(c=n[l-1])===null||c===void 0?void 0:c.coordinate:(h=n[s-1])===null||h===void 0?void 0:h.coordinate,_=(p=n[l])===null||p===void 0?void 0:p.coordinate,w=l>=s-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(v=n[l+1])===null||v===void 0?void 0:v.coordinate,S=void 0;if(!(x==null||_==null||w==null))if(ro(_-x)!==ro(w-_)){var M=[];if(ro(w-_)===ro(r[1]-r[0])){S=w;var T=_+r[1]-r[0];M[0]=Math.min(T,(T+x)/2),M[1]=Math.max(T,(T+x)/2)}else{S=x;var R=w+r[1]-r[0];M[0]=Math.min(_,(R+_)/2),M[1]=Math.max(_,(R+_)/2)}var P=[Math.min(_,(S+_)/2),Math.max(_,(S+_)/2)];if(t>P[0]&&t<=P[1]||t>=M[0]&&t<=M[1]){var L;return(L=n[l])===null||L===void 0?void 0:L.index}}else{var I=Math.min(x,w),B=Math.max(x,w);if(t>(I+_)/2&&t<=(B+_)/2){var D;return(D=n[l])===null||D===void 0?void 0:D.index}}}else if(e)for(var z=0;z<s;z++){var W=e[z];if(W!=null){var j=e[z+1],G=e[z-1];if(z===0&&j!=null&&t<=(W.coordinate+j.coordinate)/2||z===s-1&&G!=null&&t>(W.coordinate+G.coordinate)/2||z>0&&z<s-1&&G!=null&&j!=null&&t>(W.coordinate+G.coordinate)/2&&t<=(W.coordinate+j.coordinate)/2)return W.index}}return-1},Dye=()=>sn(pI),zI=(t,e)=>e,U7=(t,e,n)=>n,BI=(t,e,n,i)=>i,Iye=Ne(Jc,t=>SE(t,e=>e.coordinate)),kI=Ne([hv,zI,U7,BI],_7),FI=Ne([kI,pv,sb,lb],DI),Nye=(t,e,n)=>{if(e!=null){var i=hv(t);return e==="axis"?n==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:n==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},z7=Ne([hv,zI,U7,BI],M7),_w=Ne([Xc,$c,_i,oa,Jc,BI,z7],S7),Lye=Ne([kI,_w],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),B7=Ne([Jc,FI],g7),Uye=Ne([z7,FI,Zc,sb,B7,w7,zI],E7),zye=Ne([kI,FI],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Bye=(t,e,n,i,r,a,s)=>{if(!(!t||!n||!i||!r)&&Oye(t,s)){var l=fhe(t,e),c=L7(l,a,r,n,i),h=Rye(e,r,c,t);return{activeIndex:String(c),activeCoordinate:h}}},kye=(t,e,n,i,r,a,s)=>{if(!(!t||!i||!r||!a||!n)){var l=Mpe(t,n);if(l){var c=hhe(l,e),h=L7(c,s,a,i,r),p=Pye(e,a,h,l);return{activeIndex:String(h),activeCoordinate:p}}}},Fye=(t,e,n,i,r,a,s,l)=>{if(!(!t||!e||!i||!r||!a))return e==="horizontal"||e==="vertical"?Bye(t,e,i,r,a,s,l):kye(t,e,n,i,r,a,s)},Vye=Ne(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var i=t[e];if(i!=null)return n?i.panoramaElement:i.element}}),Hye=Ne(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(i=>parseInt(i,10)).concat(Object.values(js)),n=Array.from(new Set(e));return n.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:Mve}});function l5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function u5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(n),!0).forEach(function(i){jye(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function jye(t,e,n){return(e=Gye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gye(t){var e=Wye(t,"string");return typeof e=="symbol"?e:e+""}function Wye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qye={},Xye={zIndexMap:Object.values(js).reduce((t,e)=>u5(u5({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),qye)},$ye=new Set(Object.values(js));function Yye(t){return $ye.has(t)}var k7=Ws({name:"zIndex",initialState:Xye,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Xi()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Yye(n)&&delete t.zIndexMap[n])},prepare:Xi()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:i,isPanorama:r}=e.payload;t.zIndexMap[n]?r?t.zIndexMap[n].panoramaElement=i:t.zIndexMap[n].element=i:t.zIndexMap[n]={consumers:0,element:r?void 0:i,panoramaElement:r?i:void 0}},prepare:Xi()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Xi()}}}),{registerZIndexPortal:Zye,unregisterZIndexPortal:Kye,registerZIndexPortalElement:Qye,unregisterZIndexPortalElement:Jye}=k7.actions,exe=k7.reducer;function Ch(t){var{zIndex:e,children:n}=t,i=$he(),r=i&&e!==void 0&&e!==0,a=ho(),s=wr();U.useLayoutEffect(()=>r?(s(Zye({zIndex:e})),()=>{s(Kye({zIndex:e}))}):rv,[s,e,r]);var l=sn(c=>Vye(c,e,a));return r?l?$2.createPortal(n,l):null:n}function TO(){return TO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},TO.apply(null,arguments)}function c5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function u1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c5(Object(n),!0).forEach(function(i){txe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function txe(t,e,n){return(e=nxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nxe(t){var e=ixe(t,"string");return typeof e=="symbol"?e:e+""}function ixe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rxe(t){var{cursor:e,cursorComp:n,cursorProps:i}=t;return U.isValidElement(e)?U.cloneElement(e,i):U.createElement(n,i)}function axe(t){var e,{coordinate:n,payload:i,index:r,offset:a,tooltipAxisBandSize:s,layout:l,cursor:c,tooltipEventType:h,chartName:p}=t,g=n,v=i,x=r;if(!c||!g||p!=="ScatterChart"&&h!=="axis")return null;var _,w,S;if(p==="ScatterChart")_=g,w=Ude,S=js.cursorLine;else if(p==="BarChart")_=zde(l,g,a,s),w=wG,S=js.cursorRectangle;else if(l==="radial"&&mj(g)){var{cx:M,cy:T,radius:R,startAngle:P,endAngle:L}=EG(g);_={cx:M,cy:T,startAngle:P,endAngle:L,innerRadius:R,outerRadius:R},w=TG,S=js.cursorLine}else _={points:Tpe(l,g,a)},w=xG,S=js.cursorLine;var I=typeof c=="object"&&"className"in c?c.className:void 0,B=u1(u1(u1(u1({stroke:"#ccc",pointerEvents:"none"},a),_),xD(c)),{},{payload:v,payloadIndex:x,className:ki("recharts-tooltip-cursor",I)});return U.createElement(Ch,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},U.createElement(rxe,{cursor:c,cursorComp:w,cursorProps:B}))}function sxe(t){var e=Eye(),n=Whe(),i=av(),r=Dye();return e==null||n==null||i==null||r==null?null:U.createElement(axe,TO({},t,{offset:n,layout:i,tooltipAxisBandSize:e,chartName:r}))}var F7=U.createContext(null),oxe=()=>U.useContext(F7),AR={exports:{}},f5;function lxe(){return f5||(f5=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function r(c,h,p){this.fn=c,this.context=h,this.once=p||!1}function a(c,h,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new r(p,g||c,v),_=n?n+h:h;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],x]:c._events[_].push(x):(c._events[_]=x,c._eventsCount++),c}function s(c,h){--c._eventsCount===0?c._events=new i:delete c._events[h]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},l.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,x=g.length,_=new Array(x);v<x;v++)_[v]=g[v].fn;return _},l.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},l.prototype.emit=function(h,p,g,v,x,_){var w=n?n+h:h;if(!this._events[w])return!1;var S=this._events[w],M=arguments.length,T,R;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),M){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,v),!0;case 5:return S.fn.call(S.context,p,g,v,x),!0;case 6:return S.fn.call(S.context,p,g,v,x,_),!0}for(R=1,T=new Array(M-1);R<M;R++)T[R-1]=arguments[R];S.fn.apply(S.context,T)}else{var P=S.length,L;for(R=0;R<P;R++)switch(S[R].once&&this.removeListener(h,S[R].fn,void 0,!0),M){case 1:S[R].fn.call(S[R].context);break;case 2:S[R].fn.call(S[R].context,p);break;case 3:S[R].fn.call(S[R].context,p,g);break;case 4:S[R].fn.call(S[R].context,p,g,v);break;default:if(!T)for(L=1,T=new Array(M-1);L<M;L++)T[L-1]=arguments[L];S[R].fn.apply(S[R].context,T)}}return!0},l.prototype.on=function(h,p,g){return a(this,h,p,g,!1)},l.prototype.once=function(h,p,g){return a(this,h,p,g,!0)},l.prototype.removeListener=function(h,p,g,v){var x=n?n+h:h;if(!this._events[x])return this;if(!p)return s(this,x),this;var _=this._events[x];if(_.fn)_.fn===p&&(!v||_.once)&&(!g||_.context===g)&&s(this,x);else{for(var w=0,S=[],M=_.length;w<M;w++)(_[w].fn!==p||v&&!_[w].once||g&&_[w].context!==g)&&S.push(_[w]);S.length?this._events[x]=S.length===1?S[0]:S:s(this,x)}return this},l.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&s(this,p)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(AR)),AR.exports}var uxe=lxe();const cxe=jl(uxe);var Cx=new cxe,CO="recharts.syncEvent.tooltip",h5="recharts.syncEvent.brush",fxe=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!ku(n))return t[n]}},hxe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},V7=Ws({name:"options",initialState:hxe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dxe=V7.reducer,{createEventEmitter:pxe}=V7.actions;function mxe(t){return t.tooltip.syncInteraction}var gxe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},H7=Ws({name:"chartData",initialState:gxe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:i}=e.payload;n!=null&&(t.dataStartIndex=n),i!=null&&(t.dataEndIndex=i)}}}),{setChartData:d5,setDataStartEndIndexes:vxe,setComputedData:Vwe}=H7.actions,yxe=H7.reducer,xxe=["x","y"];function p5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p5(Object(n),!0).forEach(function(i){bxe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function bxe(t,e,n){return(e=_xe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _xe(t){var e=Sxe(t,"string");return typeof e=="symbol"?e:e+""}function Sxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mxe(t,e){if(t==null)return{};var n,i,r=wxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wxe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Exe(){var t=sn(mI),e=sn(gI),n=wr(),i=sn(w9),r=sn(Jc),a=av(),s=UE(),l=sn(c=>c.rootProps.className);U.useEffect(()=>{if(t==null)return rv;var c=(h,p,g)=>{if(e!==g&&t===h){if(i==="index"){var v;if(s&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var x=p.payload.coordinate,{x:_,y:w}=x,S=Mxe(x,xxe),{x:M,y:T,width:R,height:P}=p.payload.sourceViewBox,L=og(og({},S),{},{x:s.x+(R?(_-M)/R:0)*s.width,y:s.y+(P?(w-T)/P:0)*s.height});n(og(og({},p),{},{payload:og(og({},p.payload),{},{coordinate:L})}))}else n(p);return}if(r!=null){var I;if(typeof i=="function"){var B={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},D=i(r,B);I=r[D]}else i==="value"&&(I=r.find(q=>String(q.value)===p.payload.label));var{coordinate:z}=p.payload;if(I==null||p.payload.active===!1||z==null||s==null){n(EO({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:W,y:j}=z,G=Math.min(W,s.x+s.width),J=Math.min(j,s.y+s.height),te={x:a==="horizontal"?I.coordinate:G,y:a==="horizontal"?J:I.coordinate},ie=EO({active:p.payload.active,coordinate:te,dataKey:p.payload.dataKey,index:String(I.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(ie)}}};return Cx.on(CO,c),()=>{Cx.off(CO,c)}},[l,n,e,t,i,r,a,s])}function Axe(){var t=sn(mI),e=sn(gI),n=wr();U.useEffect(()=>{if(t==null)return rv;var i=(r,a,s)=>{e!==s&&t===r&&n(vxe(a))};return Cx.on(h5,i),()=>{Cx.off(h5,i)}},[n,e,t])}function Txe(){var t=wr();U.useEffect(()=>{t(pxe())},[t]),Exe(),Axe()}function Cxe(t,e,n,i,r,a){var s=sn(x=>Nye(x,t,e)),l=sn(gI),c=sn(mI),h=sn(w9),p=sn(mxe),g=p==null?void 0:p.active,v=UE();U.useEffect(()=>{if(!g&&c!=null&&l!=null){var x=EO({active:a,coordinate:n,dataKey:s,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:v,graphicalItemId:void 0});Cx.emit(CO,c,x,l)}},[g,n,s,r,i,l,c,h,a,v])}function m5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function g5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m5(Object(n),!0).forEach(function(i){Rxe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Rxe(t,e,n){return(e=Pxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pxe(t){var e=Oxe(t,"string");return typeof e=="symbol"?e:e+""}function Oxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dxe(t){return t.dataKey}function Ixe(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(mde,e)}var v5=[],Nxe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Lxe(t){var e,n,i=tl(t,Nxe),{active:r,allowEscapeViewBox:a,animationDuration:s,animationEasing:l,content:c,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:v,position:x,reverseDirection:_,useTranslate3d:w,wrapperStyle:S,cursor:M,shared:T,trigger:R,defaultIndex:P,portal:L,axisId:I}=i,B=wr(),D=typeof P=="number"?String(P):P;U.useEffect(()=>{B(P0e({shared:T,trigger:R,axisId:I,active:r,defaultIndex:D}))},[B,T,R,I,r,D]);var z=UE(),W=yG(),j=w0e(T),{activeIndex:G,isActive:J}=(e=sn(De=>zye(De,j,R,D)))!==null&&e!==void 0?e:{},te=sn(De=>Uye(De,j,R,D)),ie=sn(De=>B7(De,j,R,D)),q=sn(De=>Lye(De,j,R,D)),K=te,pe=oxe(),de=(n=r??J)!==null&&n!==void 0?n:!1,[_e,Y]=Zce([K,de]),re=j==="axis"?ie:void 0;Cxe(j,R,q,re,G,de);var Me=L??pe;if(Me==null||z==null||j==null)return null;var ke=K??v5;de||(ke=v5),h&&ke.length&&(ke=Tce(ke.filter(De=>De.value!=null&&(De.hide!==!0||i.includeHidden)),v,Dxe));var mt=ke.length>0,me=U.createElement(Sde,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:p,active:de,coordinate:q,hasPayload:mt,offset:g,position:x,reverseDirection:_,useTranslate3d:w,viewBox:z,wrapperStyle:S,lastBoundingBox:_e,innerRef:Y,hasPortalFromProps:!!L},Ixe(c,g5(g5({},i),{},{payload:ke,label:re,active:de,activeIndex:G,coordinate:q,accessibilityLayer:W})));return U.createElement(U.Fragment,null,$2.createPortal(me,Me),de&&U.createElement(sxe,{cursor:M,tooltipEventType:j,coordinate:q,payload:ke,index:G}))}var VI=t=>null;VI.displayName="Cell";function Uxe(t,e,n){return(e=zxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zxe(t){var e=Bxe(t,"string");return typeof e=="symbol"?e:e+""}function Bxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class kxe{constructor(e){Uxe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function y5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Fxe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y5(Object(n),!0).forEach(function(i){Vxe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Vxe(t,e,n){return(e=Hxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hxe(t){var e=jxe(t,"string");return typeof e=="symbol"?e:e+""}function jxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gxe={cacheSize:2e3,enableCache:!0},j7=Fxe({},Gxe),x5=new kxe(j7.cacheSize),Wxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},b5="recharts_measurement_span";function qxe(t,e){var n=e.fontSize||"",i=e.fontFamily||"",r=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(i,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(l)}var _5=(t,e)=>{try{var n=document.getElementById(b5);n||(n=document.createElement("span"),n.setAttribute("id",b5),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Wxe,e),n.textContent="".concat(t);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},Gy=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||FE.isSsr)return{width:0,height:0};if(!j7.enableCache)return _5(e,n);var i=qxe(e,n),r=x5.get(i);if(r)return r;var a=_5(e,n);return x5.set(i,a),a},G7;function Xxe(t,e,n){return(e=$xe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $xe(t){var e=Yxe(t,"string");return typeof e=="symbol"?e:e+""}function Yxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,M5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Kxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Qxe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jxe=["cm","mm","pt","pc","in","Q","px"];function ebe(t){return Jxe.includes(t)}var xg="NaN";function tbe(t,e){return t*Qxe[e]}class Ea{static parse(e){var n,[,i,r]=(n=Kxe.exec(e))!==null&&n!==void 0?n:[];return i==null?Ea.NaN:new Ea(parseFloat(i),r??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ku(e)&&(this.unit=""),n!==""&&!Zxe.test(n)&&(this.num=NaN,this.unit=""),ebe(n)&&(this.num=tbe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ea(NaN,""):new Ea(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ea(NaN,""):new Ea(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ea(NaN,""):new Ea(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ea(NaN,""):new Ea(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ku(this.num)}}G7=Ea;Xxe(Ea,"NaN",new G7(NaN,""));function W7(t){if(t==null||t.includes(xg))return xg;for(var e=t;e.includes("*")||e.includes("/");){var n,[,i,r,a]=(n=S5.exec(e))!==null&&n!==void 0?n:[],s=Ea.parse(i??""),l=Ea.parse(a??""),c=r==="*"?s.multiply(l):s.divide(l);if(c.isNaN())return xg;e=e.replace(S5,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,v]=(h=M5.exec(e))!==null&&h!==void 0?h:[],x=Ea.parse(p??""),_=Ea.parse(v??""),w=g==="+"?x.add(_):x.subtract(_);if(w.isNaN())return xg;e=e.replace(M5,w.toString())}return e}var w5=/\(([^()]*)\)/;function nbe(t){for(var e=t,n;(n=w5.exec(e))!=null;){var[,i]=n;e=e.replace(w5,W7(i))}return e}function ibe(t){var e=t.replace(/\s+/g,"");return e=nbe(e),e=W7(e),e}function rbe(t){try{return ibe(t)}catch{return xg}}function TR(t){var e=rbe(t.slice(5,-1));return e===xg?"":e}var abe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],sbe=["dx","dy","angle","className","breakAll"];function RO(){return RO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},RO.apply(null,arguments)}function E5(t,e){if(t==null)return{};var n,i,r=obe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function obe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var q7=/[ \f\n\r\t\v\u2028\u2029]+/,X7=t=>{var{children:e,breakAll:n,style:i}=t;try{var r=[];sa(e)||(n?r=e.toString().split(""):r=e.toString().split(q7));var a=r.map(l=>({word:l,width:Gy(l,i).width})),s=n?0:Gy("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function lbe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var $7=(t,e,n,i)=>t.reduce((r,a)=>{var{word:s,width:l}=a,c=r[r.length-1];if(c&&l!=null&&(e==null||i||c.width+l+n<Number(e)))c.words.push(s),c.width+=l+n;else{var h={words:[s],width:l};r.push(h)}return r},[]),Y7=t=>t.reduce((e,n)=>e.width>n.width?e:n),ube="",A5=(t,e,n,i,r,a,s,l)=>{var c=t.slice(0,e),h=X7({breakAll:n,style:i,children:c+ube});if(!h)return[!1,[]];var p=$7(h.wordsWithComputedWidth,a,s,l),g=p.length>r||Y7(p).width>Number(a);return[g,p]},cbe=(t,e,n,i,r)=>{var{maxLines:a,children:s,style:l,breakAll:c}=t,h=tn(a),p=String(s),g=$7(e,i,n,r);if(!h||r)return g;var v=g.length>a||Y7(g).width>Number(i);if(!v)return g;for(var x=0,_=p.length-1,w=0,S;x<=_&&w<=p.length-1;){var M=Math.floor((x+_)/2),T=M-1,[R,P]=A5(p,T,c,l,a,i,n,r),[L]=A5(p,M,c,l,a,i,n,r);if(!R&&!L&&(x=M+1),R&&L&&(_=M-1),!R&&L){S=P;break}w++}return S||g},T5=t=>{var e=sa(t)?[]:t.toString().split(q7);return[{words:e,width:void 0}]},fbe=t=>{var{width:e,scaleToFit:n,children:i,style:r,breakAll:a,maxLines:s}=t;if((e||n)&&!FE.isSsr){var l,c,h=X7({breakAll:a,children:i,style:r});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;l=p,c=g}else return T5(i);return cbe({breakAll:a,children:i,maxLines:s,style:r},l,c,e,!!n)}return T5(i)},Z7="#808080",hbe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Z7,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},HI=U.forwardRef((t,e)=>{var n=tl(t,hbe),{x:i,y:r,lineHeight:a,capHeight:s,fill:l,scaleToFit:c,textAnchor:h,verticalAnchor:p}=n,g=E5(n,abe),v=U.useMemo(()=>fbe({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:c,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,c,g.style,g.width]),{dx:x,dy:_,angle:w,className:S,breakAll:M}=g,T=E5(g,sbe);if(!Fu(i)||!Fu(r)||v.length===0)return null;var R=Number(i)+(tn(x)?x:0),P=Number(r)+(tn(_)?_:0);if(!ri(R)||!ri(P))return null;var L;switch(p){case"start":L=TR("calc(".concat(s,")"));break;case"middle":L=TR("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:L=TR("calc(".concat(v.length-1," * -").concat(a,")"));break}var I=[],B=v[0];if(c&&B!=null){var D=B.width,{width:z}=g;I.push("scale(".concat(tn(z)&&tn(D)?z/D:1,")"))}return w&&I.push("rotate(".concat(w,", ").concat(R,", ").concat(P,")")),I.length&&(T.transform=I.join(" ")),U.createElement("text",RO({},Ko(T),{ref:e,x:R,y:P,className:ki("recharts-text",S),textAnchor:h,fill:l.includes("url")?Z7:l}),v.map((W,j)=>{var G=W.words.join(M?"":" ");return U.createElement("tspan",{x:R,dy:j===0?L:a,key:"".concat(G,"-").concat(j)},G)}))});HI.displayName="Text";function C5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C5(Object(n),!0).forEach(function(i){dbe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function dbe(t,e,n){return(e=pbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pbe(t){var e=mbe(t,"string");return typeof e=="symbol"?e:e+""}function mbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gbe=t=>{var{viewBox:e,position:n,offset:i=0,parentViewBox:r}=t,{x:a,y:s,height:l,upperWidth:c,lowerWidth:h}=BD(e),p=a,g=a+(c-h)/2,v=(p+g)/2,x=(c+h)/2,_=p+c/2,w=l>=0?1:-1,S=w*i,M=w>0?"end":"start",T=w>0?"start":"end",R=c>=0?1:-1,P=R*i,L=R>0?"end":"start",I=R>0?"start":"end",B=r;if(n==="top"){var D={x:p+c/2,y:s-S,horizontalAnchor:"middle",verticalAnchor:M};return B&&(D.height=Math.max(s-B.y,0),D.width=c),D}if(n==="bottom"){var z={x:g+h/2,y:s+l+S,horizontalAnchor:"middle",verticalAnchor:T};return B&&(z.height=Math.max(B.y+B.height-(s+l),0),z.width=h),z}if(n==="left"){var W={x:v-P,y:s+l/2,horizontalAnchor:L,verticalAnchor:"middle"};return B&&(W.width=Math.max(W.x-B.x,0),W.height=l),W}if(n==="right"){var j={x:v+x+P,y:s+l/2,horizontalAnchor:I,verticalAnchor:"middle"};return B&&(j.width=Math.max(B.x+B.width-j.x,0),j.height=l),j}var G=B?{width:x,height:l}:{};return n==="insideLeft"?Au({x:v+P,y:s+l/2,horizontalAnchor:I,verticalAnchor:"middle"},G):n==="insideRight"?Au({x:v+x-P,y:s+l/2,horizontalAnchor:L,verticalAnchor:"middle"},G):n==="insideTop"?Au({x:p+c/2,y:s+S,horizontalAnchor:"middle",verticalAnchor:T},G):n==="insideBottom"?Au({x:g+h/2,y:s+l-S,horizontalAnchor:"middle",verticalAnchor:M},G):n==="insideTopLeft"?Au({x:p+P,y:s+S,horizontalAnchor:I,verticalAnchor:T},G):n==="insideTopRight"?Au({x:p+c-P,y:s+S,horizontalAnchor:L,verticalAnchor:T},G):n==="insideBottomLeft"?Au({x:g+P,y:s+l-S,horizontalAnchor:I,verticalAnchor:M},G):n==="insideBottomRight"?Au({x:g+h-P,y:s+l-S,horizontalAnchor:L,verticalAnchor:M},G):n&&typeof n=="object"&&(tn(n.x)||hp(n.x))&&(tn(n.y)||hp(n.y))?Au({x:a+Vl(n.x,x),y:s+Vl(n.y,l),horizontalAnchor:"end",verticalAnchor:"end"},G):Au({x:_,y:s+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},G)},vbe=["labelRef"],ybe=["content"];function R5(t,e){if(t==null)return{};var n,i,r=xbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xbe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function P5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P5(Object(n),!0).forEach(function(i){bbe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function bbe(t,e,n){return(e=_be(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _be(t){var e=Sbe(t,"string");return typeof e=="symbol"?e:e+""}function Sbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pc.apply(null,arguments)}var K7=U.createContext(null),Mbe=t=>{var{x:e,y:n,upperWidth:i,lowerWidth:r,width:a,height:s,children:l}=t,c=U.useMemo(()=>({x:e,y:n,upperWidth:i,lowerWidth:r,width:a,height:s}),[e,n,i,r,a,s]);return U.createElement(K7.Provider,{value:c},l)},Q7=()=>{var t=U.useContext(K7),e=UE();return t||(e?BD(e):void 0)},wbe=U.createContext(null),Ebe=()=>{var t=U.useContext(wbe),e=sn(R9);return t||e},Abe=t=>{var{value:e,formatter:n}=t,i=sa(t.children)?e:t.children;return typeof n=="function"?n(i):i},jI=t=>t!=null&&typeof t=="function",Tbe=(t,e)=>{var n=ro(e-t),i=Math.min(Math.abs(e-t),360);return n*i},Cbe=(t,e,n,i,r)=>{var{offset:a,className:s}=t,{cx:l,cy:c,innerRadius:h,outerRadius:p,startAngle:g,endAngle:v,clockWise:x}=r,_=(h+p)/2,w=Tbe(g,v),S=w>=0?1:-1,M,T;switch(e){case"insideStart":M=g+S*a,T=x;break;case"insideEnd":M=v-S*a,T=!x;break;case"end":M=v+S*a,T=x;break;default:throw new Error("Unsupported position ".concat(e))}T=w<=0?T:!T;var R=Ca(l,c,_,M),P=Ca(l,c,_,M+(T?1:-1)*359),L="M".concat(R.x,",").concat(R.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(T?0:1,`,
    `).concat(P.x,",").concat(P.y),I=sa(t.id)?mx("recharts-radial-line-"):t.id;return U.createElement("text",Pc({},i,{dominantBaseline:"central",className:ki("recharts-radial-bar-label",s)}),U.createElement("defs",null,U.createElement("path",{id:I,d:L})),U.createElement("textPath",{xlinkHref:"#".concat(I)},n))},Rbe=(t,e,n)=>{var{cx:i,cy:r,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=t,h=(l+c)/2;if(n==="outside"){var{x:p,y:g}=Ca(i,r,s+e,h);return{x:p,y:g,textAnchor:p>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var v=(a+s)/2,{x,y:_}=Ca(i,r,v,h);return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},C1=t=>t!=null&&"cx"in t&&tn(t.cx),Pbe={angle:0,offset:5,zIndex:js.label,position:"middle",textBreakAll:!1};function Obe(t){if(!C1(t))return t;var{cx:e,cy:n,outerRadius:i}=t,r=i*2;return{x:e-i,y:n-i,width:r,upperWidth:r,lowerWidth:r,height:r}}function nh(t){var e=tl(t,Pbe),{viewBox:n,parentViewBox:i,position:r,value:a,children:s,content:l,className:c="",textBreakAll:h,labelRef:p}=e,g=Ebe(),v=Q7(),x=r==="center"?v:g??v,_,w,S;n==null?_=x:C1(n)?_=n:_=BD(n);var M=Obe(_);if(!_||sa(a)&&sa(s)&&!U.isValidElement(l)&&typeof l!="function")return null;var T=Ay(Ay({},e),{},{viewBox:_});if(U.isValidElement(l)){var{labelRef:R}=T,P=R5(T,vbe);return U.cloneElement(l,P)}if(typeof l=="function"){var{content:L}=T,I=R5(T,ybe);if(w=U.createElement(l,I),U.isValidElement(w))return w}else w=Abe(e);var B=Ko(e);if(C1(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Cbe(e,r,w,B,_);S=Rbe(_,e.offset,e.position)}else{if(!M)return null;var D=gbe({viewBox:M,position:r,offset:e.offset,parentViewBox:C1(i)?void 0:i});S=Ay(Ay({x:D.x,y:D.y,textAnchor:D.horizontalAnchor,verticalAnchor:D.verticalAnchor},D.width!==void 0?{width:D.width}:{}),D.height!==void 0?{height:D.height}:{})}return U.createElement(Ch,{zIndex:e.zIndex},U.createElement(HI,Pc({ref:p,className:ki("recharts-label",c)},B,S,{textAnchor:lbe(B.textAnchor)?B.textAnchor:S.textAnchor,breakAll:h}),w))}nh.displayName="Label";var Dbe=(t,e,n)=>{if(!t)return null;var i={viewBox:e,labelRef:n};return t===!0?U.createElement(nh,Pc({key:"label-implicit"},i)):Fu(t)?U.createElement(nh,Pc({key:"label-implicit",value:t},i)):U.isValidElement(t)?t.type===nh?U.cloneElement(t,Ay({key:"label-implicit"},i)):U.createElement(nh,Pc({key:"label-implicit",content:t},i)):jI(t)?U.createElement(nh,Pc({key:"label-implicit",content:t},i)):t&&typeof t=="object"?U.createElement(nh,Pc({},t,{key:"label-implicit"},i)):null};function Ibe(t){var{label:e,labelRef:n}=t,i=Q7();return Dbe(e,i,n)||null}var CR={},RR={},O5;function Nbe(){return O5||(O5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(RR)),RR}var PR={},D5;function Lbe(){return D5||(D5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(PR)),PR}var I5;function Ube(){return I5||(I5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nbe(),n=Lbe(),i=TD();function r(a){if(i.isArrayLike(a))return e.last(n.toArray(a))}t.last=r})(CR)),CR}var OR,N5;function zbe(){return N5||(N5=1,OR=Ube().last),OR}var Bbe=zbe();const kbe=jl(Bbe);var Fbe=["valueAccessor"],Vbe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Sw.apply(null,arguments)}function L5(t,e){if(t==null)return{};var n,i,r=Hbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hbe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var jbe=t=>Array.isArray(t.value)?kbe(t.value):t.value,J7=U.createContext(void 0),Gbe=J7.Provider,eW=U.createContext(void 0);eW.Provider;function Wbe(){return U.useContext(J7)}function qbe(){return U.useContext(eW)}function R1(t){var{valueAccessor:e=jbe}=t,n=L5(t,Fbe),{dataKey:i,clockWise:r,id:a,textBreakAll:s,zIndex:l}=n,c=L5(n,Vbe),h=Wbe(),p=qbe(),g=h||p;return!g||!g.length?null:U.createElement(Ch,{zIndex:l??js.label},U.createElement(zc,{className:"recharts-label-list"},g.map((v,x)=>{var _,w=sa(i)?e(v,x):Pa(v.payload,i),S=sa(a)?{}:{id:"".concat(a,"-").concat(x)};return U.createElement(nh,Sw({key:"label-".concat(x)},Ko(v),c,S,{fill:(_=n.fill)!==null&&_!==void 0?_:v.fill,parentViewBox:v.parentViewBox,value:w,textBreakAll:s,viewBox:v.viewBox,index:x,zIndex:0}))})))}R1.displayName="LabelList";function Xbe(t){var{label:e}=t;return e?e===!0?U.createElement(R1,{key:"labelList-implicit"}):U.isValidElement(e)||jI(e)?U.createElement(R1,{key:"labelList-implicit",content:e}):typeof e=="object"?U.createElement(R1,Sw({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var $be={radiusAxis:{},angleAxis:{}},tW=Ws({name:"polarAxis",initialState:$be,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Hwe,removeRadiusAxis:jwe,addAngleAxis:Gwe,removeAngleAxis:Wwe}=tW.actions,Ybe=tW.reducer;function Zbe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var DR={exports:{}},pi={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U5;function Kbe(){if(U5)return pi;U5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function _(w){if(typeof w=="object"&&w!==null){var S=w.$$typeof;switch(S){case t:switch(w=w.type,w){case n:case r:case i:case c:case h:case v:return w;default:switch(w=w&&w.$$typeof,w){case s:case l:case g:case p:return w;case a:return w;default:return S}}case e:return S}}}return pi.ContextConsumer=a,pi.ContextProvider=s,pi.Element=t,pi.ForwardRef=l,pi.Fragment=n,pi.Lazy=g,pi.Memo=p,pi.Portal=e,pi.Profiler=r,pi.StrictMode=i,pi.Suspense=c,pi.SuspenseList=h,pi.isContextConsumer=function(w){return _(w)===a},pi.isContextProvider=function(w){return _(w)===s},pi.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},pi.isForwardRef=function(w){return _(w)===l},pi.isFragment=function(w){return _(w)===n},pi.isLazy=function(w){return _(w)===g},pi.isMemo=function(w){return _(w)===p},pi.isPortal=function(w){return _(w)===e},pi.isProfiler=function(w){return _(w)===r},pi.isStrictMode=function(w){return _(w)===i},pi.isSuspense=function(w){return _(w)===c},pi.isSuspenseList=function(w){return _(w)===h},pi.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===r||w===i||w===c||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===p||w.$$typeof===s||w.$$typeof===a||w.$$typeof===l||w.$$typeof===x||w.getModuleId!==void 0)},pi.typeOf=_,pi}var z5;function Qbe(){return z5||(z5=1,DR.exports=Kbe()),DR.exports}var Jbe=Qbe(),B5=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",k5=null,IR=null,nW=t=>{if(t===k5&&Array.isArray(IR))return IR;var e=[];return U.Children.forEach(t,n=>{sa(n)||(Jbe.isFragment(n)?e=e.concat(nW(n.props.children)):e.push(n))}),IR=e,k5=t,e};function e_e(t,e){var n=[],i=[];return Array.isArray(e)?i=e.map(r=>B5(r)):i=[B5(e)],nW(t).forEach(r=>{var a=Bg(r,"type.displayName")||Bg(r,"type.name");a&&i.indexOf(a)!==-1&&n.push(r)}),n}var NR={},F5;function t_e(){return F5||(F5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${a}]`}let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}t.isPlainObject=e})(NR)),NR}var LR,V5;function n_e(){return V5||(V5=1,LR=t_e().isPlainObject),LR}var i_e=n_e();const r_e=jl(i_e);var H5,j5,G5,W5,q5;function X5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function $5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X5(Object(n),!0).forEach(function(i){a_e(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function a_e(t,e,n){return(e=s_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s_e(t){var e=o_e(t,"string");return typeof e=="symbol"?e:e+""}function o_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Mw.apply(null,arguments)}function yy(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Y5=(t,e,n,i,r)=>{var a=n-i,s;return s=dr(H5||(H5=yy(["M ",",",""])),t,e),s+=dr(j5||(j5=yy(["L ",",",""])),t+n,e),s+=dr(G5||(G5=yy(["L ",",",""])),t+n-a/2,e+r),s+=dr(W5||(W5=yy(["L ",",",""])),t+n-a/2-i,e+r),s+=dr(q5||(q5=yy(["L ",","," Z"])),t,e),s},l_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},u_e=t=>{var e=tl(t,l_e),{x:n,y:i,upperWidth:r,lowerWidth:a,height:s,className:l}=e,{animationEasing:c,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,v=U.useRef(null),[x,_]=U.useState(-1),w=U.useRef(r),S=U.useRef(a),M=U.useRef(s),T=U.useRef(n),R=U.useRef(i),P=HD(t,"trapezoid-");if(U.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var te=v.current.getTotalLength();te&&_(te)}catch{}},[]),n!==+n||i!==+i||r!==+r||a!==+a||s!==+s||r===0&&a===0||s===0)return null;var L=ki("recharts-trapezoid",l);if(!g)return U.createElement("g",null,U.createElement("path",Mw({},Ko(e),{className:L,d:Y5(n,i,r,a,s)})));var I=w.current,B=S.current,D=M.current,z=T.current,W=R.current,j="0px ".concat(x===-1?1:x,"px"),G="".concat(x,"px 0px"),J=bG(["strokeDasharray"],h,c);return U.createElement(VD,{animationId:P,key:P,canBegin:x>0,duration:h,easing:c,isActive:g,begin:p},te=>{var ie=Aa(I,r,te),q=Aa(B,a,te),K=Aa(D,s,te),pe=Aa(z,n,te),de=Aa(W,i,te);v.current&&(w.current=ie,S.current=q,M.current=K,T.current=pe,R.current=de);var _e=te>0?{transition:J,strokeDasharray:G}:{strokeDasharray:j};return U.createElement("path",Mw({},Ko(e),{className:L,d:Y5(pe,de,ie,q,K),ref:v,style:$5($5({},_e),e.style)}))})},c_e=["option","shapeType","activeClassName"];function f_e(t,e){if(t==null)return{};var n,i,r=h_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function h_e(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ww(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(n),!0).forEach(function(i){d_e(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function d_e(t,e,n){return(e=p_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p_e(t){var e=m_e(t,"string");return typeof e=="symbol"?e:e+""}function m_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g_e(t,e){return ww(ww({},e),t)}function v_e(t,e){return t==="symbols"}function K5(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return U.createElement(wG,n);case"trapezoid":return U.createElement(u_e,n);case"sector":return U.createElement(TG,n);case"symbols":if(v_e(e))return U.createElement(pj,n);break;case"curve":return U.createElement(xG,n);default:return null}}function y_e(t){return U.isValidElement(t)?t.props:t}function x_e(t){var{option:e,shapeType:n,activeClassName:i="recharts-active-shape"}=t,r=f_e(t,c_e),a;if(U.isValidElement(e))a=U.cloneElement(e,ww(ww({},r),y_e(e)));else if(typeof e=="function")a=e(r,r.index);else if(r_e(e)&&typeof e!="boolean"){var s=g_e(e,r);a=U.createElement(K5,{shapeType:n,elementProps:s})}else{var l=r;a=U.createElement(K5,{shapeType:n,elementProps:l})}return r.isActive?U.createElement(zc,{className:i},a):a}var iW=(t,e,n)=>{var i=wr();return(r,a)=>s=>{t==null||t(r,a,s),i(y7({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:n}))}},rW=t=>{var e=wr();return(n,i)=>r=>{t==null||t(n,i,r),e(O0e())}},aW=(t,e,n)=>{var i=wr();return(r,a)=>s=>{t==null||t(r,a,s),i(D0e({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:n}))}};function b_e(t){var{tooltipEntrySettings:e}=t,n=wr(),i=ho(),r=U.useRef(null);return U.useLayoutEffect(()=>{i||(r.current===null?n(T0e(e)):r.current!==e&&n(C0e({prev:r.current,next:e})),r.current=e)},[e,n,i]),U.useLayoutEffect(()=>()=>{r.current&&(n(R0e(r.current)),r.current=null)},[n]),null}function __e(t){var{legendPayload:e}=t,n=wr(),i=ho(),r=U.useRef(null);return U.useLayoutEffect(()=>{i||(r.current===null?n(ode(e)):r.current!==e&&n(lde({prev:r.current,next:e})),r.current=e)},[n,i,e]),U.useLayoutEffect(()=>()=>{r.current&&(n(ude(r.current)),r.current=null)},[n]),null}var UR,S_e=()=>{var[t]=U.useState(()=>mx("uid-"));return t},M_e=(UR=xq.useId)!==null&&UR!==void 0?UR:S_e;function w_e(t,e){var n=M_e();return e||(t?"".concat(t,"-").concat(n):n)}var E_e=U.createContext(void 0),A_e=t=>{var{id:e,type:n,children:i}=t,r=w_e("recharts-".concat(n),e);return U.createElement(E_e.Provider,{value:r},i(r))},T_e={cartesianItems:[],polarItems:[]},sW=Ws({name:"graphicalItems",initialState:T_e,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Xi()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:i}=e.payload,r=zl(t).cartesianItems.indexOf(n);r>-1&&(t.cartesianItems[r]=i)},prepare:Xi()},removeCartesianGraphicalItem:{reducer(t,e){var n=zl(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Xi()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Xi()},removePolarGraphicalItem:{reducer(t,e){var n=zl(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Xi()}}}),{addCartesianGraphicalItem:C_e,replaceCartesianGraphicalItem:R_e,removeCartesianGraphicalItem:P_e,addPolarGraphicalItem:qwe,removePolarGraphicalItem:Xwe}=sW.actions,O_e=sW.reducer,D_e=t=>{var e=wr(),n=U.useRef(null);return U.useLayoutEffect(()=>{n.current===null?e(C_e(t)):n.current!==t&&e(R_e({prev:n.current,next:t})),n.current=t},[e,t]),U.useLayoutEffect(()=>()=>{n.current&&(e(P_e(n.current)),n.current=null)},[e]),null},I_e=U.memo(D_e);function Q5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function J5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q5(Object(n),!0).forEach(function(i){N_e(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function N_e(t,e,n){return(e=L_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L_e(t){var e=U_e(t,"string");return typeof e=="symbol"?e:e+""}function U_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oW=0,z_e={xAxis:{},yAxis:{},zAxis:{}},lW=Ws({name:"cartesianAxis",initialState:z_e,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Xi()},replaceXAxis:{reducer(t,e){var{prev:n,next:i}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==i.id&&delete t.xAxis[n.id],t.xAxis[i.id]=i)},prepare:Xi()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Xi()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Xi()},replaceYAxis:{reducer(t,e){var{prev:n,next:i}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==i.id&&delete t.yAxis[n.id],t.yAxis[i.id]=i)},prepare:Xi()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Xi()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Xi()},replaceZAxis:{reducer(t,e){var{prev:n,next:i}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==i.id&&delete t.zAxis[n.id],t.zAxis[i.id]=i)},prepare:Xi()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Xi()},updateYAxisWidth(t,e){var{id:n,width:i}=e.payload,r=t.yAxis[n];if(r){var a,s=r.widthHistory||[];if(s.length===3&&s[0]===s[2]&&i===s[1]&&i!==r.width&&Math.abs(i-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var l=[...s,i].slice(-3);t.yAxis[n]=J5(J5({},r),{},{width:i,widthHistory:l})}}}}),{addXAxis:B_e,replaceXAxis:k_e,removeXAxis:F_e,addYAxis:V_e,replaceYAxis:H_e,removeYAxis:j_e,addZAxis:$we,replaceZAxis:Ywe,removeZAxis:Zwe,updateYAxisWidth:G_e}=lW.actions,W_e=lW.reducer,q_e=Ne([oa],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),X_e=Ne([q_e,Xc,$c],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),uW=()=>sn(X_e),eV=(t,e,n)=>{var i=n??t;if(!sa(i))return Vl(i,e,0)},$_e=(t,e,n)=>{var i={},r=t.filter(QE),a=t.filter(h=>h.stackId==null),s=r.reduce((h,p)=>{var g=h[p.stackId];return g==null&&(g=[]),g.push(p),h[p.stackId]=g,h},i),l=Object.entries(s).map(h=>{var p,[g,v]=h,x=v.map(w=>w.dataKey),_=eV(e,n,(p=v[0])===null||p===void 0?void 0:p.barSize);return{stackId:g,dataKeys:x,barSize:_}}),c=a.map(h=>{var p=[h.dataKey].filter(v=>v!=null),g=eV(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...l,...c]};function tV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function c1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tV(Object(n),!0).forEach(function(i){Y_e(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tV(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Y_e(t,e,n){return(e=Z_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z_e(t){var e=K_e(t,"string");return typeof e=="symbol"?e:e+""}function K_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q_e(t,e,n,i,r){var a,s=i.length;if(!(s<1)){var l=Vl(t,n,0,!0),c,h=[];if(ri((a=i[0])===null||a===void 0?void 0:a.barSize)){var p=!1,g=n/s,v=i.reduce((T,R)=>T+(R.barSize||0),0);v+=(s-1)*l,v>=n&&(v-=(s-1)*l,l=0),v>=n&&g>0&&(p=!0,g*=.9,v=s*g);var x=(n-v)/2>>0,_={offset:x-l,size:0};c=i.reduce((T,R)=>{var P,L={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:_.offset+_.size+l,size:p?g:(P=R.barSize)!==null&&P!==void 0?P:0}},I=[...T,L];return _=L.position,I},h)}else{var w=Vl(e,n,0,!0);n-2*w-(s-1)*l<=0&&(l=0);var S=(n-2*w-(s-1)*l)/s;S>1&&(S>>=0);var M=ri(r)?Math.min(S,r):S;c=i.reduce((T,R,P)=>[...T,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:w+(S+l)*P+(S-M)/2,size:M}}],h)}return c}}var J_e=(t,e,n,i,r,a,s)=>{var l=sa(s)?e:s,c=Q_e(n,i,r!==a?r:a,t,l);return r!==a&&c!=null&&(c=c.map(h=>c1(c1({},h),{},{position:c1(c1({},h.position),{},{offset:h.position.offset-r/2})}))),c},eSe=(t,e)=>{var n=bI(e);if(!(!t||n==null||e==null)){var{stackId:i}=e;if(i!=null){var r=t[i];if(r){var{stackedData:a}=r;if(a)return a.find(s=>s.key===n)}}}},tSe=(t,e)=>{if(!(t==null||e==null)){var n=t.find(i=>i.stackId===e.stackId&&e.dataKey!=null&&i.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function nSe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&ri(t.zIndex)?t.zIndex:e}var iSe=t=>{var{chartData:e}=t,n=wr(),i=ho();return U.useEffect(()=>i?()=>{}:(n(d5(e)),()=>{n(d5(void 0))}),[e,n,i]),null},nV={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},cW=Ws({name:"brush",initialState:nV,reducers:{setBrushSettings(t,e){return e.payload==null?nV:e.payload}}}),{setBrushSettings:Kwe}=cW.actions,rSe=cW.reducer;function aSe(t){return(t%180+180)%180}var sSe=function(e){var{width:n,height:i}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=aSe(r),s=a*Math.PI/180,l=Math.atan(i/n),c=s>l&&s<Math.PI-l?i/Math.sin(s):n/Math.cos(s);return Math.abs(c)},oSe={dots:[],areas:[],lines:[]},fW=Ws({name:"referenceElements",initialState:oSe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=zl(t).dots.findIndex(i=>i===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=zl(t).areas.findIndex(i=>i===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=zl(t).lines.findIndex(i=>i===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Qwe,removeDot:Jwe,addArea:eEe,removeArea:tEe,addLine:nEe,removeLine:iEe}=fW.actions,lSe=fW.reducer,uSe=U.createContext(void 0),cSe=t=>{var{children:e}=t,[n]=U.useState("".concat(mx("recharts"),"-clip")),i=uW();if(i==null)return null;var{x:r,y:a,width:s,height:l}=i;return U.createElement(uSe.Provider,{value:n},U.createElement("defs",null,U.createElement("clipPath",{id:n},U.createElement("rect",{x:r,y:a,height:l,width:s}))),e)};function hW(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],i=0;i<t.length;i+=e){var r=t[i];r!==void 0&&n.push(r)}return n}function fSe(t,e,n){var i={width:t.width+e.width,height:t.height+e.height};return sSe(i,n)}function hSe(t,e,n){var i=n==="width",{x:r,y:a,width:s,height:l}=t;return e===1?{start:i?r:a,end:i?r+s:a+l}:{start:i?r+s:a+l,end:i?r:a}}function Rx(t,e,n,i,r){if(t*e<t*i||t*e>t*r)return!1;var a=n();return t*(e-t*a/2-i)>=0&&t*(e+t*a/2-r)<=0}function dSe(t,e){return hW(t,e+1)}function pSe(t,e,n,i,r){for(var a=(i||[]).slice(),{start:s,end:l}=e,c=0,h=1,p=s,g=function(){var _=i==null?void 0:i[c];if(_===void 0)return{v:hW(i,h)};var w=c,S,M=()=>(S===void 0&&(S=n(_,w)),S),T=_.coordinate,R=c===0||Rx(t,T,M,p,l);R||(c=0,p=s,h+=1),R&&(p=T+t*(M()/2+r),c+=h)},v;h<=a.length;)if(v=g(),v)return v.v;return[]}function mSe(t,e,n,i,r){var a=(i||[]).slice(),s=a.length;if(s===0)return[];for(var{start:l,end:c}=e,h=1;h<=s;h++){for(var p=(s-1)%h,g=l,v=!0,x=function(){var P=i[w];if(P==null)return 0;var L=w,I,B=()=>(I===void 0&&(I=n(P,L)),I),D=P.coordinate,z=w===p||Rx(t,D,B,g,c);if(!z)return v=!1,1;z&&(g=D+t*(B()/2+r))},_,w=p;w<s&&(_=x(),!(_!==0&&_===1));w+=h);if(v){for(var S=[],M=p;M<s;M+=h){var T=i[M];T!=null&&S.push(T)}return S}}return[]}function iV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iV(Object(n),!0).forEach(function(i){gSe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iV(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function gSe(t,e,n){return(e=vSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vSe(t){var e=ySe(t,"string");return typeof e=="symbol"?e:e+""}function ySe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xSe(t,e,n,i,r){for(var a=(i||[]).slice(),s=a.length,{start:l}=e,{end:c}=e,h=function(v){var x=a[v];if(x==null)return 1;var _=x,w,S=()=>(w===void 0&&(w=n(x,v)),w);if(v===s-1){var M=t*(_.coordinate+t*S()/2-c);a[v]=_=Wa(Wa({},_),{},{tickCoord:M>0?_.coordinate-M*t:_.coordinate})}else a[v]=_=Wa(Wa({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var T=Rx(t,_.tickCoord,S,l,c);T&&(c=_.tickCoord-t*(S()/2+r),a[v]=Wa(Wa({},_),{},{isShow:!0}))}},p=s-1;p>=0;p--)h(p);return a}function bSe(t,e,n,i,r,a){var s=(i||[]).slice(),l=s.length,{start:c,end:h}=e;if(a){var p=i[l-1];if(p!=null){var g=n(p,l-1),v=t*(p.coordinate+t*g/2-h);if(s[l-1]=p=Wa(Wa({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate}),p.tickCoord!=null){var x=Rx(t,p.tickCoord,()=>g,c,h);x&&(h=p.tickCoord-t*(g/2+r),s[l-1]=Wa(Wa({},p),{},{isShow:!0}))}}}for(var _=a?l-1:l,w=function(T){var R=s[T];if(R==null)return 1;var P=R,L,I=()=>(L===void 0&&(L=n(R,T)),L);if(T===0){var B=t*(P.coordinate-t*I()/2-c);s[T]=P=Wa(Wa({},P),{},{tickCoord:B<0?P.coordinate-B*t:P.coordinate})}else s[T]=P=Wa(Wa({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var D=Rx(t,P.tickCoord,I,c,h);D&&(c=P.tickCoord+t*(I()/2+r),s[T]=Wa(Wa({},P),{},{isShow:!0}))}},S=0;S<_;S++)w(S);return s}function _Se(t,e,n){var{tick:i,ticks:r,viewBox:a,minTickGap:s,orientation:l,interval:c,tickFormatter:h,unit:p,angle:g}=t;if(!r||!r.length||!i)return[];if(tn(c)||FE.isSsr){var v;return(v=dSe(r,tn(c)?c:0))!==null&&v!==void 0?v:[]}var x=[],_=l==="top"||l==="bottom"?"width":"height",w=p&&_==="width"?Gy(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(L,I)=>{var B=typeof h=="function"?h(L.value,I):L.value;return _==="width"?fSe(Gy(B,{fontSize:e,letterSpacing:n}),w,g):Gy(B,{fontSize:e,letterSpacing:n})[_]},M=r[0],T=r[1],R=r.length>=2&&M!=null&&T!=null?ro(T.coordinate-M.coordinate):1,P=hSe(a,R,_);return c==="equidistantPreserveStart"?pSe(R,P,S,r,s):c==="equidistantPreserveEnd"?mSe(R,P,S,r,s):(c==="preserveStart"||c==="preserveStartEnd"?x=bSe(R,P,S,r,s,c==="preserveStartEnd"):x=xSe(R,P,S,r,s),x.filter(L=>L.isShow))}var SSe=t=>{var{ticks:e,label:n,labelGapWithTick:i=5,tickSize:r=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>s&&(s=g.width)}});var l=n?n.getBoundingClientRect().width:0,c=r+a,h=s+c+l+(n?i:0);return Math.round(h)}return 0},MSe=["axisLine","width","height","className","hide","ticks","axisType"];function wSe(t,e){if(t==null)return{};var n,i,r=ESe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ESe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function vp(){return vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vp.apply(null,arguments)}function rV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(n),!0).forEach(function(i){ASe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ASe(t,e,n){return(e=TSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TSe(t){var e=CSe(t,"string");return typeof e=="symbol"?e:e+""}function CSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ip={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:js.axis};function RSe(t){var{x:e,y:n,width:i,height:r,orientation:a,mirror:s,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var h=fr(fr(fr({},c),yh(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var p=+(a==="top"&&!s||a==="bottom"&&s);h=fr(fr({},h),{},{x1:e,y1:n+p*r,x2:e+i,y2:n+p*r})}else{var g=+(a==="left"&&!s||a==="right"&&s);h=fr(fr({},h),{},{x1:e+g*i,y1:n,x2:e+g*i,y2:n+r})}return U.createElement("line",vp({},h,{className:ki("recharts-cartesian-axis-line",Bg(l,"className"))}))}function PSe(t,e,n,i,r,a,s,l,c){var h,p,g,v,x,_,w=l?-1:1,S=t.tickSize||s,M=tn(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":h=p=t.coordinate,v=n+ +!l*r,g=v-w*S,_=g-w*c,x=M;break;case"left":g=v=t.coordinate,p=e+ +!l*i,h=p-w*S,x=h-w*c,_=M;break;case"right":g=v=t.coordinate,p=e+ +l*i,h=p+w*S,x=h+w*c,_=M;break;default:h=p=t.coordinate,v=n+ +l*r,g=v+w*S,_=g+w*c,x=M;break}return{line:{x1:h,y1:g,x2:p,y2:v},tick:{x,y:_}}}function OSe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function DSe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function ISe(t){var{option:e,tickProps:n,value:i}=t,r,a=ki(n.className,"recharts-cartesian-axis-tick-value");if(U.isValidElement(e))r=U.cloneElement(e,fr(fr({},n),{},{className:a}));else if(typeof e=="function")r=e(fr(fr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=ki(s,Zbe(e))),r=U.createElement(HI,vp({},n,{className:s}),i)}return r}var NSe=U.forwardRef((t,e)=>{var{ticks:n=[],tick:i,tickLine:r,stroke:a,tickFormatter:s,unit:l,padding:c,tickTextProps:h,orientation:p,mirror:g,x:v,y:x,width:_,height:w,tickSize:S,tickMargin:M,fontSize:T,letterSpacing:R,getTicksConfig:P,events:L,axisType:I}=t,B=_Se(fr(fr({},P),{},{ticks:n}),T,R),D=OSe(p,g),z=DSe(p,g),W=yh(P),j=xD(i),G={};typeof r=="object"&&(G=r);var J=fr(fr({},W),{},{fill:"none"},G),te=B.map(K=>fr({entry:K},PSe(K,v,x,_,w,p,S,g,M))),ie=te.map(K=>{var{entry:pe,line:de}=K;return U.createElement(zc,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(pe.value,"-").concat(pe.coordinate,"-").concat(pe.tickCoord)},r&&U.createElement("line",vp({},J,de,{className:ki("recharts-cartesian-axis-tick-line",Bg(r,"className"))})))}),q=te.map((K,pe)=>{var de,_e,{entry:Y,tick:re}=K,Me=fr(fr(fr(fr({verticalAnchor:z},W),{},{textAnchor:D,stroke:"none",fill:a},re),{},{index:pe,payload:Y,visibleTicksCount:B.length,tickFormatter:s,padding:c},h),{},{angle:(de=(_e=h==null?void 0:h.angle)!==null&&_e!==void 0?_e:W.angle)!==null&&de!==void 0?de:0}),ke=fr(fr({},Me),j);return U.createElement(zc,vp({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},AD(L,Y,pe)),i&&U.createElement(ISe,{option:i,tickProps:ke,value:"".concat(typeof s=="function"?s(Y.value,pe):Y.value).concat(l||"")}))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(I,"-ticks")},q.length>0&&U.createElement(Ch,{zIndex:js.label},U.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(I,"-tick-labels"),ref:e},q)),ie.length>0&&U.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(I,"-tick-lines")},ie))}),LSe=U.forwardRef((t,e)=>{var{axisLine:n,width:i,height:r,className:a,hide:s,ticks:l,axisType:c}=t,h=wSe(t,MSe),[p,g]=U.useState(""),[v,x]=U.useState(""),_=U.useRef(null);U.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return SSe({ticks:_.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var w=U.useCallback(S=>{if(S){var M=S.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=M;var T=M[0];if(T){var R=window.getComputedStyle(T),P=R.fontSize,L=R.letterSpacing;(P!==p||L!==v)&&(g(P),x(L))}}},[p,v]);return s||i!=null&&i<=0||r!=null&&r<=0?null:U.createElement(Ch,{zIndex:t.zIndex},U.createElement(zc,{className:ki("recharts-cartesian-axis",a)},U.createElement(RSe,{x:t.x,y:t.y,width:i,height:r,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:yh(t)}),U.createElement(NSe,{ref:w,axisType:c,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:v,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),U.createElement(Mbe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},U.createElement(Ibe,{label:t.label,labelRef:t.labelRef}),t.children)))}),GI=U.forwardRef((t,e)=>{var n=tl(t,ip);return U.createElement(LSe,vp({},n,{ref:e}))});GI.displayName="CartesianAxis";var USe={},dW=Ws({name:"errorBars",initialState:USe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]||(t[n]=[]),t[n].push(i)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:i,next:r}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===i.dataKey&&a.direction===i.direction?r:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]&&(t[n]=t[n].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:rEe,replaceErrorBar:aEe,removeErrorBar:sEe}=dW.actions,zSe=dW.reducer,BSe=["children"];function kSe(t,e){if(t==null)return{};var n,i,r=FSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FSe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var VSe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},HSe=U.createContext(VSe);function jSe(t){var{children:e}=t,n=kSe(t,BSe);return U.createElement(HSe.Provider,{value:n},e)}function pW(t,e){var n,i,r=sn(h=>Kc(h,t)),a=sn(h=>Qc(h,e)),s=(n=r==null?void 0:r.allowDataOverflow)!==null&&n!==void 0?n:ta.allowDataOverflow,l=(i=a==null?void 0:a.allowDataOverflow)!==null&&i!==void 0?i:na.allowDataOverflow,c=s||l;return{needClip:c,needClipX:s,needClipY:l}}function GSe(t){var{xAxisId:e,yAxisId:n,clipPathId:i}=t,r=uW(),{needClipX:a,needClipY:s,needClip:l}=pW(e,n);if(!l||!r)return null;var{x:c,y:h,width:p,height:g}=r;return U.createElement("clipPath",{id:"clipPath-".concat(i)},U.createElement("rect",{x:a?c:c-p/2,y:s?h:h-g/2,width:a?p:p*2,height:s?g:g*2}))}var zR={exports:{}},BR={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aV;function WSe(){if(aV)return BR;aV=1;var t=Xg();function e(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,r=t.useRef,a=t.useEffect,s=t.useMemo,l=t.useDebugValue;return BR.useSyncExternalStoreWithSelector=function(c,h,p,g,v){var x=r(null);if(x.current===null){var _={hasValue:!1,value:null};x.current=_}else _=x.current;x=s(function(){function S(L){if(!M){if(M=!0,T=L,L=g(L),v!==void 0&&_.hasValue){var I=_.value;if(v(I,L))return R=I}return R=L}if(I=R,n(T,L))return I;var B=g(L);return v!==void 0&&v(I,B)?(T=L,I):(T=L,R=B)}var M=!1,T,R,P=p===void 0?null:p;return[function(){return S(h())},P===null?void 0:function(){return S(P())}]},[h,p,g,v]);var w=i(c,x[0],x[1]);return a(function(){_.hasValue=!0,_.value=w},[w]),l(w),w},BR}var sV;function qSe(){return sV||(sV=1,zR.exports=WSe()),zR.exports}qSe();function XSe(t){t()}function $Se(){let t=null,e=null;return{clear(){t=null,e=null},notify(){XSe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!i||t===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var oV={notify(){},get:()=>[]};function YSe(t,e){let n,i=oV,r=0,a=!1;function s(w){p();const S=i.subscribe(w);let M=!1;return()=>{M||(M=!0,S(),g())}}function l(){i.notify()}function c(){_.onStateChange&&_.onStateChange()}function h(){return a}function p(){r++,n||(n=t.subscribe(c),i=$Se())}function g(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=oV)}function v(){a||(a=!0,p())}function x(){a&&(a=!1,g())}const _={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:h,trySubscribe:v,tryUnsubscribe:x,getListeners:()=>i};return _}var ZSe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KSe=ZSe(),QSe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",JSe=QSe(),e1e=()=>KSe||JSe?U.useLayoutEffect:U.useEffect,t1e=e1e();function lV(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function n1e(t,e){if(lV(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!lV(t[n[r]],e[n[r]]))return!1;return!0}var kR=Symbol.for("react-redux-context"),FR=typeof globalThis<"u"?globalThis:{};function i1e(){if(!U.createContext)return{};const t=FR[kR]??(FR[kR]=new Map);let e=t.get(U.createContext);return e||(e=U.createContext(null),t.set(U.createContext,e)),e}var r1e=i1e();function a1e(t){const{children:e,context:n,serverState:i,store:r}=t,a=U.useMemo(()=>{const c=YSe(r);return{store:r,subscription:c,getServerState:i?()=>i:void 0}},[r,i]),s=U.useMemo(()=>r.getState(),[r]);t1e(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==r.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const l=n||r1e;return U.createElement(l.Provider,{value:a},e)}var s1e=a1e,o1e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function l1e(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function WI(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var i of n)if(o1e.has(i)){if(t[i]==null&&e[i]==null)continue;if(!n1e(t[i],e[i]))return!1}else if(!l1e(t[i],e[i]))return!1;return!0}function wp(t,e){var n,i;return(n=(i=t.graphicalItems.cartesianItems.find(r=>r.id===e))===null||i===void 0?void 0:i.xAxisId)!==null&&n!==void 0?n:oW}function Ep(t,e){var n,i;return(n=(i=t.graphicalItems.cartesianItems.find(r=>r.id===e))===null||i===void 0?void 0:i.yAxisId)!==null&&n!==void 0?n:oW}var u1e="Invariant failed";function c1e(t,e){throw new Error(u1e)}function PO(){return PO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},PO.apply(null,arguments)}function Ew(t){return U.createElement(x_e,PO({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var f1e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,r)=>{if(tn(e))return e;var a=tn(i)||sa(i);return a?e(i,r):(a||c1e(),n)}},h1e=(t,e,n)=>n,d1e=(t,e)=>e,cb=Ne([SI,d1e],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),p1e=Ne([cb],t=>t==null?void 0:t.maxBarSize),m1e=(t,e,n,i)=>i,g1e=Ne([_i,SI,wp,Ep,h1e],(t,e,n,i,r)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===i).filter(a=>a.isPanorama===r).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),v1e=(t,e,n)=>{var i=_i(t),r=wp(t,e),a=Ep(t,e);if(!(r==null||a==null))return i==="horizontal"?wO(t,"yAxis",a,n):wO(t,"xAxis",r,n)},y1e=(t,e)=>{var n=_i(t),i=wp(t,e),r=Ep(t,e);if(!(i==null||r==null))return n==="horizontal"?t5(t,"xAxis",i):t5(t,"yAxis",r)},x1e=Ne([g1e,gve,y1e],$_e),b1e=(t,e,n)=>{var i,r,a=cb(t,e);if(a==null)return 0;var s=wp(t,e),l=Ep(t,e);if(s==null||l==null)return 0;var c=_i(t),h=_9(t),{maxBarSize:p}=a,g=sa(p)?h:p,v,x;return c==="horizontal"?(v=Wg(t,"xAxis",s,n),x=Gg(t,"xAxis",s,n)):(v=Wg(t,"yAxis",l,n),x=Gg(t,"yAxis",l,n)),(i=(r=QM(v,x,!0))!==null&&r!==void 0?r:g)!==null&&i!==void 0?i:0},mW=(t,e,n)=>{var i=_i(t),r=wp(t,e),a=Ep(t,e);if(!(r==null||a==null)){var s,l;return i==="horizontal"?(s=Wg(t,"xAxis",r,n),l=Gg(t,"xAxis",r,n)):(s=Wg(t,"yAxis",a,n),l=Gg(t,"yAxis",a,n)),QM(s,l)}},_1e=Ne([x1e,_9,mve,S9,b1e,mW,p1e],J_e),S1e=(t,e,n)=>{var i=wp(t,e);if(i!=null)return Wg(t,"xAxis",i,n)},M1e=(t,e,n)=>{var i=Ep(t,e);if(i!=null)return Wg(t,"yAxis",i,n)},w1e=(t,e,n)=>{var i=wp(t,e);if(i!=null)return Gg(t,"xAxis",i,n)},E1e=(t,e,n)=>{var i=Ep(t,e);if(i!=null)return Gg(t,"yAxis",i,n)},A1e=Ne([_1e,cb],tSe),T1e=Ne([v1e,cb],eSe),C1e=Ne([oa,UD,S1e,M1e,w1e,E1e,A1e,_i,ove,mW,T1e,cb,m1e],(t,e,n,i,r,a,s,l,c,h,p,g,v)=>{var{chartData:x,dataStartIndex:_,dataEndIndex:w}=c;if(!(g==null||s==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||i==null||r==null||a==null||h==null)){var{data:S}=g,M;if(S!=null&&S.length>0?M=S:M=x==null?void 0:x.slice(_,w+1),M!=null)return nMe({layout:l,barSettings:g,pos:s,parentViewBox:e,bandSize:h,xAxis:n,yAxis:i,xAxisTicks:r,yAxisTicks:a,stackedData:p,displayedData:M,offset:t,cells:v,dataStartIndex:_})}}),R1e=["index"];function OO(){return OO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},OO.apply(null,arguments)}function P1e(t,e){if(t==null)return{};var n,i,r=O1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O1e(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var gW=U.createContext(void 0),D1e=t=>{var e=U.useContext(gW);if(e!=null)return e.stackId;if(t!=null)return she(t)},I1e=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),N1e=t=>{var e=U.useContext(gW);if(e!=null){var{stackId:n}=e;return"url(#".concat(I1e(n,t),")")}},vW=t=>{var{index:e}=t,n=P1e(t,R1e),i=N1e(e);return U.createElement(zc,OO({className:"recharts-bar-stack-layer",clipPath:i},n))},L1e=["onMouseEnter","onMouseLeave","onClick"],U1e=["value","background","tooltipPosition"],z1e=["id"],B1e=["onMouseEnter","onClick","onMouseLeave"];function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gc.apply(null,arguments)}function uV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(n),!0).forEach(function(i){k1e(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uV(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function k1e(t,e,n){return(e=F1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F1e(t){var e=V1e(t,"string");return typeof e=="symbol"?e:e+""}function V1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aw(t,e){if(t==null)return{};var n,i,r=H1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function H1e(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var j1e=t=>{var{dataKey:e,name:n,fill:i,legendType:r,hide:a}=t;return[{inactive:a,dataKey:e,type:r,color:i,value:rG(n,e),payload:t}]},G1e=U.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:i,fill:r,name:a,hide:s,unit:l,tooltipType:c,id:h}=t,p={dataDefinedOnItem:void 0,getPosition:rv,settings:{stroke:n,strokeWidth:i,fill:r,dataKey:e,nameKey:void 0,name:rG(a,e),hide:s,type:c,color:r,unit:l,graphicalItemId:h}};return U.createElement(b_e,{tooltipEntrySettings:p})});function W1e(t){var e=sn(qg),{data:n,dataKey:i,background:r,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:l,onClick:c}=a,h=Aw(a,L1e),p=iW(s,i,a.id),g=rW(l),v=aW(c,i,a.id);if(!r||n==null)return null;var x=xD(r);return U.createElement(Ch,{zIndex:nSe(r,js.barBackground)},n.map((_,w)=>{var{value:S,background:M,tooltipPosition:T}=_,R=Aw(_,U1e);if(!M)return null;var P=p(_,w),L=g(_,w),I=v(_,w),B=us(us(us(us(us({option:r,isActive:String(w)===e},R),{},{fill:"#eee"},M),x),AD(h,_,w)),{},{onMouseEnter:P,onMouseLeave:L,onClick:I,dataKey:i,index:w,className:"recharts-bar-background-rectangle"});return U.createElement(Ew,Gc({key:"background-bar-".concat(w)},B))}))}function q1e(t){var{showLabels:e,children:n,rects:i}=t,r=i==null?void 0:i.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return us(us({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return U.createElement(Gbe,{value:e?r:void 0},n)}function X1e(t){var{shape:e,activeBar:n,baseProps:i,entry:r,index:a,dataKey:s}=t,l=sn(qg),c=sn(I7),h=n&&String(a)===l&&(c==null||s===c),p=h?n:e;return h?U.createElement(Ch,{zIndex:js.activeBar},U.createElement(vW,{index:a},U.createElement(Ew,Gc({},i,{name:String(i.name)},r,{isActive:h,option:p,index:a,dataKey:s})))):U.createElement(Ew,Gc({},i,{name:String(i.name)},r,{isActive:h,option:p,index:a,dataKey:s}))}function $1e(t){var{shape:e,baseProps:n,entry:i,index:r,dataKey:a}=t;return U.createElement(Ew,Gc({},n,{name:String(n.name)},i,{isActive:!1,option:e,index:r,dataKey:a}))}function Y1e(t){var e,{data:n,props:i}=t,r=(e=yh(i))!==null&&e!==void 0?e:{},{id:a}=r,s=Aw(r,z1e),{shape:l,dataKey:c,activeBar:h}=i,{onMouseEnter:p,onClick:g,onMouseLeave:v}=i,x=Aw(i,B1e),_=iW(p,c,a),w=rW(v),S=aW(g,c,a);return n?U.createElement(U.Fragment,null,n.map((M,T)=>U.createElement(vW,Gc({index:T,key:"rectangle-".concat(M==null?void 0:M.x,"-").concat(M==null?void 0:M.y,"-").concat(M==null?void 0:M.value,"-").concat(T),className:"recharts-bar-rectangle"},AD(x,M,T),{onMouseEnter:_(M,T),onMouseLeave:w(M,T),onClick:S(M,T)}),h?U.createElement(X1e,{shape:l,activeBar:h,baseProps:s,entry:M,index:T,dataKey:c}):U.createElement($1e,{shape:l,baseProps:s,entry:M,index:T,dataKey:c})))):null}function Z1e(t){var{props:e,previousRectanglesRef:n}=t,{data:i,layout:r,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,v=HD(e,"recharts-bar-"),[x,_]=U.useState(!1),w=!x,S=U.useCallback(()=>{typeof h=="function"&&h(),_(!1)},[h]),M=U.useCallback(()=>{typeof p=="function"&&p(),_(!0)},[p]);return U.createElement(q1e,{showLabels:w,rects:i},U.createElement(VD,{animationId:v,begin:s,duration:l,isActive:a,easing:c,onAnimationEnd:S,onAnimationStart:M,key:v},T=>{var R=T===1?i:i==null?void 0:i.map((P,L)=>{var I=g&&g[L];if(I)return us(us({},P),{},{x:Aa(I.x,P.x,T),y:Aa(I.y,P.y,T),width:Aa(I.width,P.width,T),height:Aa(I.height,P.height,T)});if(r==="horizontal"){var B=Aa(0,P.height,T),D=Aa(P.stackedBarStart,P.y,T);return us(us({},P),{},{y:D,height:B})}var z=Aa(0,P.width,T),W=Aa(P.stackedBarStart,P.x,T);return us(us({},P),{},{width:z,x:W})});return T>0&&(n.current=R??null),R==null?null:U.createElement(zc,null,U.createElement(Y1e,{props:e,data:R}))}),U.createElement(Xbe,{label:e.label}),e.children)}function K1e(t){var e=U.useRef(null);return U.createElement(Z1e,{previousRectanglesRef:e,props:t})}var yW=0,Q1e=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Pa(t,e)}};class J1e extends U.PureComponent{render(){var{hide:e,data:n,dataKey:i,className:r,xAxisId:a,yAxisId:s,needClip:l,background:c,id:h}=this.props;if(e||n==null)return null;var p=ki("recharts-bar",r),g=h;return U.createElement(zc,{className:p,id:h},l&&U.createElement("defs",null,U.createElement(GSe,{clipPathId:g,xAxisId:a,yAxisId:s})),U.createElement(zc,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(g,")"):void 0},U.createElement(W1e,{data:n,dataKey:i,background:c,allOtherBarProps:this.props}),U.createElement(K1e,this.props)))}}var eMe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:yW,xAxisId:0,yAxisId:0,zIndex:js.bar};function tMe(t){var{xAxisId:e,yAxisId:n,hide:i,legendType:r,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=pW(e,n),v=av(),x=ho(),_=e_e(t.children,VI),w=sn(T=>C1e(T,t.id,x,_));if(v!=="vertical"&&v!=="horizontal")return null;var S,M=w==null?void 0:w[0];return M==null||M.height==null||M.width==null?S=0:S=v==="vertical"?M.height/2:M.width/2,U.createElement(jSe,{xAxisId:e,yAxisId:n,data:w,dataPointFormatter:Q1e,errorBarOffset:S},U.createElement(J1e,Gc({},t,{layout:v,needClip:g,data:w,xAxisId:e,yAxisId:n,hide:i,legendType:r,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:h,isAnimationActive:p})))}function nMe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:i},pos:r,bandSize:a,xAxis:s,yAxis:l,xAxisTicks:c,yAxisTicks:h,stackedData:p,displayedData:g,offset:v,cells:x,parentViewBox:_,dataStartIndex:w}=t,S=e==="horizontal"?l:s,M=p?S.scale.domain():null,T=ohe({numericAxis:S}),R=S.scale.map(T);return g.map((P,L)=>{var I,B,D,z,W,j;if(p){var G=p[L+w];if(G==null)return null;I=the(G,M)}else I=Pa(P,n),Array.isArray(I)||(I=[T,I]);var J=f1e(i,yW)(I[1],L);if(e==="horizontal"){var te,ie=l.scale.map(I[0]),q=l.scale.map(I[1]);if(ie==null||q==null)return null;B=tF({axis:s,ticks:c,bandSize:a,offset:r.offset,entry:P,index:L}),D=(te=q??ie)!==null&&te!==void 0?te:void 0,z=r.size;var K=ie-q;if(W=ku(K)?0:K,j={x:B,y:v.top,width:z,height:v.height},Math.abs(J)>0&&Math.abs(W)<Math.abs(J)){var pe=ro(W||J)*(Math.abs(J)-Math.abs(W));D-=pe,W+=pe}}else{var de=s.scale.map(I[0]),_e=s.scale.map(I[1]);if(de==null||_e==null)return null;if(B=de,D=tF({axis:l,ticks:h,bandSize:a,offset:r.offset,entry:P,index:L}),z=_e-de,W=r.size,j={x:v.left,y:D,width:v.width,height:W},Math.abs(J)>0&&Math.abs(z)<Math.abs(J)){var Y=ro(z||J)*(Math.abs(J)-Math.abs(z));z+=Y}}if(B==null||D==null||z==null||W==null)return null;var re=us(us({},P),{},{stackedBarStart:R,x:B,y:D,width:z,height:W,value:p?I:I[1],payload:P,background:j,tooltipPosition:{x:B+z/2,y:D+W/2},parentViewBox:_},x&&x[L]&&x[L].props);return re}).filter(Boolean)}function iMe(t){var e=tl(t,eMe),n=D1e(e.stackId),i=ho();return U.createElement(A_e,{id:e.id,type:"bar"},r=>U.createElement(U.Fragment,null,U.createElement(__e,{legendPayload:j1e(e)}),U.createElement(G1e,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),U.createElement(I_e,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:i}),U.createElement(Ch,{zIndex:e.zIndex},U.createElement(tMe,Gc({},e,{id:r})))))}var xW=U.memo(iMe,WI);xW.displayName="Bar";var rMe=["domain","range"],aMe=["domain","range"];function cV(t,e){if(t==null)return{};var n,i,r=sMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sMe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function fV(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function bW(t,e){if(t===e)return!0;var{domain:n,range:i}=t,r=cV(t,rMe),{domain:a,range:s}=e,l=cV(e,aMe);return!fV(n,a)||!fV(i,s)?!1:WI(r,l)}var oMe=["type"],lMe=["dangerouslySetInnerHTML","ticks","scale"],uMe=["id","scale"];function DO(){return DO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},DO.apply(null,arguments)}function hV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function dV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(n),!0).forEach(function(i){cMe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hV(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function cMe(t,e,n){return(e=fMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fMe(t){var e=hMe(t,"string");return typeof e=="symbol"?e:e+""}function hMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IO(t,e){if(t==null)return{};var n,i,r=dMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dMe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function pMe(t){var e=wr(),n=U.useRef(null),i=uG(),{type:r}=t,a=IO(t,oMe),s=YE(i,"xAxis",r),l=U.useMemo(()=>{if(s!=null)return dV(dV({},a),{},{type:s})},[a,s]);return U.useLayoutEffect(()=>{l!=null&&(n.current===null?e(B_e(l)):n.current!==l&&e(k_e({prev:n.current,next:l})),n.current=l)},[l,e]),U.useLayoutEffect(()=>()=>{n.current&&(e(F_e(n.current)),n.current=null)},[e]),null}var mMe=t=>{var{xAxisId:e,className:n}=t,i=sn(UD),r=ho(),a="xAxis",s=sn(M=>h7(M,a,e,r)),l=sn(M=>l7(M,e)),c=sn(M=>v0e(M,e)),h=sn(M=>O9(M,e));if(l==null||c==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:v}=t,x=IO(t,lMe),{id:_,scale:w}=h,S=IO(h,uMe);return U.createElement(GI,DO({},x,S,{x:c.x,y:c.y,width:l.width,height:l.height,className:ki("recharts-".concat(a," ").concat(a),n),viewBox:i,ticks:s,axisType:a}))},gMe={allowDataOverflow:ta.allowDataOverflow,allowDecimals:ta.allowDecimals,allowDuplicatedCategory:ta.allowDuplicatedCategory,angle:ta.angle,axisLine:ip.axisLine,height:ta.height,hide:!1,includeHidden:ta.includeHidden,interval:ta.interval,label:!1,minTickGap:ta.minTickGap,mirror:ta.mirror,orientation:ta.orientation,padding:ta.padding,reversed:ta.reversed,scale:ta.scale,tick:ta.tick,tickCount:ta.tickCount,tickLine:ip.tickLine,tickSize:ip.tickSize,type:ta.type,xAxisId:0},vMe=t=>{var e=tl(t,gMe);return U.createElement(U.Fragment,null,U.createElement(pMe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),U.createElement(mMe,e))},_W=U.memo(vMe,bW);_W.displayName="XAxis";var yMe=["type"],xMe=["dangerouslySetInnerHTML","ticks","scale"],bMe=["id","scale"];function NO(){return NO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},NO.apply(null,arguments)}function pV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function mV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(n),!0).forEach(function(i){_Me(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pV(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _Me(t,e,n){return(e=SMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SMe(t){var e=MMe(t,"string");return typeof e=="symbol"?e:e+""}function MMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LO(t,e){if(t==null)return{};var n,i,r=wMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wMe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function EMe(t){var e=wr(),n=U.useRef(null),i=uG(),{type:r}=t,a=LO(t,yMe),s=YE(i,"yAxis",r),l=U.useMemo(()=>{if(s!=null)return mV(mV({},a),{},{type:s})},[s,a]);return U.useLayoutEffect(()=>{l!=null&&(n.current===null?e(V_e(l)):n.current!==l&&e(H_e({prev:n.current,next:l})),n.current=l)},[l,e]),U.useLayoutEffect(()=>()=>{n.current&&(e(j_e(n.current)),n.current=null)},[e]),null}function AMe(t){var{yAxisId:e,className:n,width:i,label:r}=t,a=U.useRef(null),s=U.useRef(null),l=sn(UD),c=ho(),h=wr(),p="yAxis",g=sn(I=>u7(I,e)),v=sn(I=>x0e(I,e)),x=sn(I=>h7(I,p,e,c)),_=sn(I=>D9(I,e));if(U.useLayoutEffect(()=>{if(!(i!=="auto"||!g||jI(r)||U.isValidElement(r)||_==null)){var I=a.current;if(I){var B=I.getCalculatedWidth();Math.round(g.width)!==Math.round(B)&&h(G_e({id:e,width:B}))}}},[x,g,h,r,e,i,_]),g==null||v==null||_==null)return null;var{dangerouslySetInnerHTML:w,ticks:S,scale:M}=t,T=LO(t,xMe),{id:R,scale:P}=_,L=LO(_,bMe);return U.createElement(GI,NO({},T,L,{ref:a,labelRef:s,x:v.x,y:v.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:g.width,height:g.height,className:ki("recharts-".concat(p," ").concat(p),n),viewBox:l,ticks:x,axisType:p}))}var TMe={allowDataOverflow:na.allowDataOverflow,allowDecimals:na.allowDecimals,allowDuplicatedCategory:na.allowDuplicatedCategory,angle:na.angle,axisLine:ip.axisLine,hide:!1,includeHidden:na.includeHidden,interval:na.interval,label:!1,minTickGap:na.minTickGap,mirror:na.mirror,orientation:na.orientation,padding:na.padding,reversed:na.reversed,scale:na.scale,tick:na.tick,tickCount:na.tickCount,tickLine:ip.tickLine,tickSize:ip.tickSize,type:na.type,width:na.width,yAxisId:0},CMe=t=>{var e=tl(t,TMe);return U.createElement(U.Fragment,null,U.createElement(EMe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),U.createElement(AMe,e))},SW=U.memo(CMe,bW);SW.displayName="YAxis";var RMe=(t,e)=>e,qI=Ne([RMe,_i,R9,ca,R7,Jc,Iye,oa],Fye),XI=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,i=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/i)}},MW=Qo("mouseClick"),wW=Zx();wW.startListening({actionCreator:MW,effect:(t,e)=>{var n=t.payload,i=qI(e.getState(),XI(n));(i==null?void 0:i.activeIndex)!=null&&e.dispatch(I0e({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var UO=Qo("mouseMove"),EW=Zx(),f1=null;EW.startListening({actionCreator:UO,effect:(t,e)=>{var n=t.payload;f1!==null&&cancelAnimationFrame(f1);var i=XI(n);f1=requestAnimationFrame(()=>{var r=e.getState(),a=OI(r,r.tooltip.settings.shared);if(a==="axis"){var s=qI(r,i);(s==null?void 0:s.activeIndex)!=null?e.dispatch(b7({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(x7())}f1=null})}});function PMe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var gV={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},AW=Ws({name:"rootProps",initialState:gV,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:gV.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),OMe=AW.reducer,{updateOptions:DMe}=AW.actions,IMe=null,NMe={updatePolarOptions:(t,e)=>e.payload},TW=Ws({name:"polarOptions",initialState:IMe,reducers:NMe}),{updatePolarOptions:oEe}=TW.actions,LMe=TW.reducer,CW=Qo("keyDown"),RW=Qo("focus"),$I=Zx();$I.startListening({actionCreator:CW,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=DI(r,pv(n),sb(n),lb(n)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var c=Jc(n);if(a==="Enter"){var h=_w(n,"axis","hover",String(r.index));e.dispatch(AO({active:!r.active,activeIndex:r.index,activeCoordinate:h}));return}var p=M0e(n),g=p==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,x=l+v*g;if(!(c==null||x>=c.length||x<0)){var _=_w(n,"axis","hover",String(x));e.dispatch(AO({active:!0,activeIndex:x.toString(),activeCoordinate:_}))}}}}}});$I.startListening({actionCreator:RW,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&r.index==null){var a="0",s=_w(n,"axis","hover",String(a));e.dispatch(AO({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Go=Qo("externalEvent"),PW=Zx(),VR=new Map;PW.startListening({actionCreator:Go,effect:(t,e)=>{var{handler:n,reactEvent:i}=t.payload;if(n!=null){i.persist();var r=i.type,a=VR.get(r);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var l=e.getState(),c={activeCoordinate:yye(l),activeDataKey:I7(l),activeIndex:qg(l),activeLabel:D7(l),activeTooltipIndex:qg(l),isTooltipActive:xye(l)};n(c,i)}finally{VR.delete(r)}});VR.set(r,s)}}});var UMe=Ne([hv],t=>t.tooltipItemPayloads),zMe=Ne([UMe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var i=t.find(a=>a.settings.graphicalItemId===n);if(i!=null){var{getPosition:r}=i;if(r!=null)return r(e)}}}),OW=Qo("touchMove"),DW=Zx();DW.startListening({actionCreator:OW,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var i=e.getState(),r=OI(i,i.tooltip.settings.shared);if(r==="axis"){var a=n.touches[0];if(a==null)return;var s=qI(i,XI({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(b7({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(r==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var h=document.elementFromPoint(c.clientX,c.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(phe),g=(l=h.getAttribute(mhe))!==null&&l!==void 0?l:void 0,v=dv(i).find(w=>w.id===g);if(p==null||v==null||g==null)return;var{dataKey:x}=v,_=zMe(i,p,g);e.dispatch(y7({activeDataKey:x,activeIndex:p,activeCoordinate:_,activeGraphicalItemId:g}))}}}});var BMe=Rj({brush:rSe,cartesianAxis:W_e,chartData:yxe,errorBars:zSe,graphicalItems:O_e,layout:Zfe,legend:cde,options:dxe,polarAxis:Ybe,polarOptions:LMe,referenceElements:lSe,rootProps:OMe,tooltip:N0e,zIndex:exe}),kMe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return _fe({reducer:BMe,preloadedState:e,middleware:i=>{var r;return i({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([wW.middleware,EW.middleware,$I.middleware,PW.middleware,DW.middleware])},enhancers:i=>{var r=i;return typeof i=="function"&&(r=i()),r.concat(Gj({type:"raf"}))},devTools:{serialize:{replacer:PMe},name:"recharts-".concat(n)}})};function FMe(t){var{preloadedState:e,children:n,reduxStoreName:i}=t,r=ho(),a=U.useRef(null);if(r)return n;a.current==null&&(a.current=kMe(e,i));var s=RD;return U.createElement(s1e,{context:s,store:a.current},n)}function VMe(t){var{layout:e,margin:n}=t,i=wr(),r=ho();return U.useEffect(()=>{r||(i(Xfe(e)),i(qfe(n)))},[i,r,e,n]),null}var HMe=U.memo(VMe,WI);function jMe(t){var e=wr();return U.useEffect(()=>{e(DMe(t))},[e,t]),null}function vV(t){var{zIndex:e,isPanorama:n}=t,i=U.useRef(null),r=wr();return U.useLayoutEffect(()=>(i.current&&r(Qye({zIndex:e,element:i.current,isPanorama:n})),()=>{r(Jye({zIndex:e,isPanorama:n}))}),[r,e,n]),U.createElement("g",{tabIndex:-1,ref:i})}function yV(t){var{children:e,isPanorama:n}=t,i=sn(Hye);if(!i||i.length===0)return e;var r=i.filter(s=>s<0),a=i.filter(s=>s>0);return U.createElement(U.Fragment,null,r.map(s=>U.createElement(vV,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>U.createElement(vV,{key:s,zIndex:s,isPanorama:n})))}var GMe=["children"];function WMe(t,e){if(t==null)return{};var n,i,r=qMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qMe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Tw.apply(null,arguments)}var XMe={width:"100%",height:"100%",display:"block"},$Me=U.forwardRef((t,e)=>{var n=qhe(),i=Xhe(),r=yG();if(!xh(n)||!xh(i))return null;var{children:a,otherAttributes:s,title:l,desc:c}=t,h,p;return s!=null&&(typeof s.tabIndex=="number"?h=s.tabIndex:h=r?0:void 0,typeof s.role=="string"?p=s.role:p=r?"application":void 0),U.createElement(X2,Tw({},s,{title:l,desc:c,role:p,tabIndex:h,width:n,height:i,style:XMe,ref:e}),a)}),YMe=t=>{var{children:e}=t,n=sn(LE);if(!n)return null;var{width:i,height:r,y:a,x:s}=n;return U.createElement(X2,{width:i,height:r,x:s,y:a},e)},xV=U.forwardRef((t,e)=>{var{children:n}=t,i=WMe(t,GMe),r=ho();return r?U.createElement(YMe,null,U.createElement(yV,{isPanorama:!0},n)):U.createElement($Me,Tw({ref:e},i),U.createElement(yV,{isPanorama:!1},n))});function ZMe(){var t=wr(),[e,n]=U.useState(null),i=sn(dhe);return U.useEffect(()=>{if(e!=null){var r=e.getBoundingClientRect(),a=r.width/e.offsetWidth;ri(a)&&a!==i&&t(Yfe(a))}},[e,t,i]),n}function bV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function KMe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(n),!0).forEach(function(i){QMe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bV(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function QMe(t,e,n){return(e=JMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JMe(t){var e=ewe(t,"string");return typeof e=="symbol"?e:e+""}function ewe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hh.apply(null,arguments)}var twe=()=>(Txe(),null);function Cw(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var nwe=U.forwardRef((t,e)=>{var n,i,r=U.useRef(null),[a,s]=U.useState({containerWidth:Cw((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Cw((i=t.style)===null||i===void 0?void 0:i.height)}),l=U.useCallback((h,p)=>{s(g=>{var v=Math.round(h),x=Math.round(p);return g.containerWidth===v&&g.containerHeight===x?g:{containerWidth:v,containerHeight:x}})},[]),c=U.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();l(p,g);var v=_=>{var w=_[0];if(w!=null){var{width:S,height:M}=w.contentRect;l(S,M)}},x=new ResizeObserver(v);x.observe(h),r.current=x}},[e,l]);return U.useEffect(()=>()=>{var h=r.current;h!=null&&h.disconnect()},[l]),U.createElement(U.Fragment,null,U.createElement(Qx,{width:a.containerWidth,height:a.containerHeight}),U.createElement("div",hh({ref:c},t)))}),iwe=U.forwardRef((t,e)=>{var{width:n,height:i}=t,[r,a]=U.useState({containerWidth:Cw(n),containerHeight:Cw(i)}),s=U.useCallback((c,h)=>{a(p=>{var g=Math.round(c),v=Math.round(h);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),l=U.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:h,height:p}=c.getBoundingClientRect();s(h,p)}},[e,s]);return U.createElement(U.Fragment,null,U.createElement(Qx,{width:r.containerWidth,height:r.containerHeight}),U.createElement("div",hh({ref:l},t)))}),rwe=U.forwardRef((t,e)=>{var{width:n,height:i}=t;return U.createElement(U.Fragment,null,U.createElement(Qx,{width:n,height:i}),U.createElement("div",hh({ref:e},t)))}),awe=U.forwardRef((t,e)=>{var{width:n,height:i}=t;return typeof n=="string"||typeof i=="string"?U.createElement(iwe,hh({},t,{ref:e})):typeof n=="number"&&typeof i=="number"?U.createElement(rwe,hh({},t,{width:n,height:i,ref:e})):U.createElement(U.Fragment,null,U.createElement(Qx,{width:n,height:i}),U.createElement("div",hh({ref:e},t)))});function swe(t){return t?nwe:awe}var owe=U.forwardRef((t,e)=>{var{children:n,className:i,height:r,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:x,onTouchMove:_,onTouchStart:w,style:S,width:M,responsive:T,dispatchTouchEvents:R=!0}=t,P=U.useRef(null),L=wr(),[I,B]=U.useState(null),[D,z]=U.useState(null),W=ZMe(),j=zD(),G=(j==null?void 0:j.width)>0?j.width:M,J=(j==null?void 0:j.height)>0?j.height:r,te=U.useCallback(xe=>{W(xe),typeof e=="function"&&e(xe),B(xe),z(xe),xe!=null&&(P.current=xe)},[W,e,B,z]),ie=U.useCallback(xe=>{L(MW(xe)),L(Go({handler:a,reactEvent:xe}))},[L,a]),q=U.useCallback(xe=>{L(UO(xe)),L(Go({handler:h,reactEvent:xe}))},[L,h]),K=U.useCallback(xe=>{L(x7()),L(Go({handler:p,reactEvent:xe}))},[L,p]),pe=U.useCallback(xe=>{L(UO(xe)),L(Go({handler:g,reactEvent:xe}))},[L,g]),de=U.useCallback(()=>{L(RW())},[L]),_e=U.useCallback(xe=>{L(CW(xe.key))},[L]),Y=U.useCallback(xe=>{L(Go({handler:s,reactEvent:xe}))},[L,s]),re=U.useCallback(xe=>{L(Go({handler:l,reactEvent:xe}))},[L,l]),Me=U.useCallback(xe=>{L(Go({handler:c,reactEvent:xe}))},[L,c]),ke=U.useCallback(xe=>{L(Go({handler:v,reactEvent:xe}))},[L,v]),mt=U.useCallback(xe=>{L(Go({handler:w,reactEvent:xe}))},[L,w]),me=U.useCallback(xe=>{R&&L(OW(xe)),L(Go({handler:_,reactEvent:xe}))},[L,R,_]),De=U.useCallback(xe=>{L(Go({handler:x,reactEvent:xe}))},[L,x]),Ye=swe(T);return U.createElement(F7.Provider,{value:I},U.createElement(rue.Provider,{value:D},U.createElement(Ye,{width:G??(S==null?void 0:S.width),height:J??(S==null?void 0:S.height),className:ki("recharts-wrapper",i),style:KMe({position:"relative",cursor:"default",width:G,height:J},S),onClick:ie,onContextMenu:Y,onDoubleClick:re,onFocus:de,onKeyDown:_e,onMouseDown:Me,onMouseEnter:q,onMouseLeave:K,onMouseMove:pe,onMouseUp:ke,onTouchEnd:De,onTouchMove:me,onTouchStart:mt,ref:te},U.createElement(twe,null),n)))}),lwe=["width","height","responsive","children","className","style","compact","title","desc"];function uwe(t,e){if(t==null)return{};var n,i,r=cwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cwe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var fwe=U.forwardRef((t,e)=>{var{width:n,height:i,responsive:r,children:a,className:s,style:l,compact:c,title:h,desc:p}=t,g=uwe(t,lwe),v=yh(g);return c?U.createElement(U.Fragment,null,U.createElement(Qx,{width:n,height:i}),U.createElement(xV,{otherAttributes:v,title:h,desc:p},a)):U.createElement(owe,{className:s,style:l,width:n,height:i,responsive:r??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},U.createElement(xV,{otherAttributes:v,title:h,desc:p,ref:e},U.createElement(cSe,null,a)))});function zO(){return zO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},zO.apply(null,arguments)}var hwe={top:5,right:5,bottom:5,left:5},dwe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:hwe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},pwe=U.forwardRef(function(e,n){var i,r=tl(e.categoricalChartProps,dwe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:h}=e,p={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return U.createElement(FMe,{preloadedState:{options:p},reduxStoreName:(i=h.id)!==null&&i!==void 0?i:a},U.createElement(iSe,{chartData:h.data}),U.createElement(HMe,{layout:r.layout,margin:r.margin}),U.createElement(jMe,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),U.createElement(fwe,zO({},r,{ref:n})))}),mwe=["axis","item"],gwe=U.forwardRef((t,e)=>U.createElement(pwe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mwe,tooltipPayloadSearcher:fxe,categoricalChartProps:t,ref:e}));const vwe=({count:t=2e3,color:e="#10b981"})=>{const n=U.useMemo(()=>{const a=new Float32Array(t*3);for(let s=0;s<t;s++)a[s*3]=(Math.random()-.5)*10,a[s*3+1]=(Math.random()-.5)*10,a[s*3+2]=(Math.random()-.5)*10;return a},[t]),i=dE(),r=U.useRef(null);return qc(a=>{const s=i.range(0,1);r.current&&(r.current.rotation.y+=.001,r.current.rotation.x+=5e-4,r.current.position.z=s*5)}),ye.jsx(jie,{ref:r,positions:n,stride:3,frustumCulled:!1,children:ye.jsx(Sie,{transparent:!0,color:e,size:.02,sizeAttenuation:!0,depthWrite:!1,blending:P1})})},ywe=()=>{const t=dE(),e=U.useRef(null),n=U.useMemo(()=>{const i=[],r=[],s=new ee(0,7,0),l=ye.jsx("meshStandardMaterial",{color:"#55a336",roughness:.8}),c=ye.jsx("meshStandardMaterial",{color:"#0088cc",emissive:"#0088cc",emissiveIntensity:2}),h=ye.jsx("lineBasicMaterial",{color:"#0088cc",transparent:!0,opacity:.3}),p=(S,M,T)=>{i.push(ye.jsxs("mesh",{position:S,children:[ye.jsx("sphereGeometry",{args:[M,16,16]}),l]},`joint-${T}`))},g=(S,M,T,R,P)=>{const L=new ee().subVectors(M,S),I=L.length(),B=new Mr().setFromUnitVectors(new ee(0,1,0),L.clone().normalize());i.push(ye.jsxs("mesh",{position:S.clone().add(L.clone().multiplyScalar(.5)),quaternion:B,children:[ye.jsx("cylinderGeometry",{args:[R,T,I,12]}),l]},`branch-${P}`)),p(M,R,P)},v=95;for(let S=0;S<v;S++){const M=Math.acos(1-S/(v-1)*.75),T=Math.PI*(1+Math.sqrt(5))*S,R=new ee().setFromSphericalCoords(9.5,M,T).add(s);r.push(R),i.push(ye.jsxs("mesh",{position:R,children:[ye.jsx("sphereGeometry",{args:[.18,16,16]}),c]},`node-${S}`))}const x=new ee(0,1,0),_=new ee(0,7,0);for(let S=0;S<5;S++){const M=S/5*Math.PI*2,T=new ee(Math.cos(M)*2.5,-.5,Math.sin(M)*2.5);g(x,T,1.1,.3,`root-${S}`)}p(x,1.2,"trunk-base"),g(x,_,1.1,.6,"trunk");for(let S=0;S<5;S++){const M=S/5*Math.PI*2,T=new ee(Math.cos(M)*3.5,9.5,Math.sin(M)*3.5);g(_,T,.6,.4,`main-${S}`);for(let R=0;R<2;R++){const P=M+(R===0?-.45:.45),L=new ee(Math.cos(P)*5.5,11.5,Math.sin(P)*5.5);g(T,L,.4,.2,`sub-${S}-${R}`),[...r].sort((B,D)=>B.distanceTo(L)-D.distanceTo(L)).slice(0,2).forEach((B,D)=>{g(L,B,.2,.02,`ext-${S}-${R}-${D}`)})}}const w=[];for(let S=0;S<r.length;S++)for(let M=S+1;M<r.length;M++)r[S].distanceTo(r[M])<4.5&&w.push(r[S],r[M]);return i.push(ye.jsxs("lineSegments",{children:[ye.jsx("bufferGeometry",{attach:"geometry",children:ye.jsx("bufferAttribute",{attach:"attributes-position",count:w.length,array:new Float32Array(w.flatMap(S=>[S.x,S.y,S.z])),itemSize:3})}),h]},"network")),i},[]);return qc(i=>{const r=t.range(0,.125);t.range(1/8,2/8);const a=t.range(2/8,3/8);if(e.current){e.current.rotation.y=i.clock.getElapsedTime()*.1+t.offset*Math.PI*2;const s=.35+r*.05+a*.1;e.current.scale.setScalar(s),e.current.position.y=-4.5,e.current.position.x=Math.sin(t.offset*Math.PI*2)*1.5}}),ye.jsx("group",{ref:e,children:n})},xwe=()=>ye.jsxs(ye.Fragment,{children:[ye.jsx("color",{attach:"background",args:["#020617"]}),ye.jsx("ambientLight",{intensity:.4}),ye.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1,intensity:2,castShadow:!0}),ye.jsx("pointLight",{position:[-10,-10,-10],color:"#0ea5e9",intensity:1.5}),ye.jsx(ywe,{}),ye.jsx(vwe,{count:4e3,color:"#0ea5e9"}),ye.jsx(kie,{preset:"city"})]}),YI=({className:t=""})=>ye.jsxs("div",{className:`flex items-center gap-4 ${t}`,children:[ye.jsx("a",{href:"https://www.instagram.com/agrimeshteam",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform",children:ye.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/e/e7/Instagram_logo_2016.svg",alt:"Instagram",className:"w-5 h-5",referrerPolicy:"no-referrer"})}),ye.jsx("a",{href:"https://www.linkedin.com/company/agrimeshcompany/",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform",children:ye.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/ca/LinkedIn_logo_initials.png",alt:"LinkedIn",className:"w-5 h-5",referrerPolicy:"no-referrer"})}),ye.jsx("a",{href:"https://www.youtube.com/@AgriMesh-MMPS",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform",children:ye.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/0/09/YouTube_full-color_icon_%282017%29.svg",alt:"YouTube",className:"w-5 h-5",referrerPolicy:"no-referrer"})}),ye.jsx("a",{href:"https://wa.me/221772954349",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform",children:ye.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg",alt:"WhatsApp",className:"w-5 h-5",referrerPolicy:"no-referrer"})})]}),bwe=({isOpen:t,onClose:e,onNavigate:n})=>ye.jsx(Poe,{children:t&&ye.jsxs(My.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 z-[100] bg-[#020617] flex flex-col p-8",children:[ye.jsxs("div",{className:"flex justify-between items-center mb-16",children:[ye.jsx("img",{src:"https://res.cloudinary.com/dkpqkwjgo/image/upload/v1772236684/agriMesh_logo_nobg_uhl9k9.png",alt:"AgriMesh Logo",className:"h-8 w-auto"}),ye.jsx("button",{onClick:e,className:"p-2 text-white",children:ye.jsx($le,{size:32})})]}),ye.jsx("div",{className:"flex flex-col gap-8",children:["crisis","solution","technology","team"].map(i=>ye.jsx("button",{onClick:()=>{n(i),e()},className:"text-4xl font-black uppercase tracking-tighter text-left hover:text-sky-400 transition-colors",children:i==="crisis"?"The Crisis":i==="solution"?"Our Solution":i},i))}),ye.jsxs("div",{className:"mt-auto pt-12 border-t border-white/10",children:[ye.jsx("p",{className:"text-[10px] uppercase tracking-widest font-bold text-zinc-500 mb-6",children:"Follow Us"}),ye.jsx(YI,{})]})]})}),_we=({onMenuToggle:t})=>{const e=n=>{const i=document.getElementById(n);i&&i.scrollIntoView({behavior:"smooth"})};return ye.jsxs("nav",{className:"fixed top-0 left-0 w-full z-50 flex items-center justify-between px-4 md:px-8 py-4 md:py-6 pointer-events-auto bg-[#020617]/80 backdrop-blur-md border-b border-white/5",children:[ye.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>e("hero"),children:[ye.jsx("img",{src:"https://res.cloudinary.com/dkpqkwjgo/image/upload/v1772236684/agriMesh_logo_nobg_uhl9k9.png",alt:"AgriMesh Logo",className:"h-8 md:h-10 w-auto",referrerPolicy:"no-referrer"}),ye.jsx("span",{className:"font-sans text-lg md:text-xl tracking-tighter font-black text-white",children:"AgriMesh"})]}),ye.jsxs("div",{className:"hidden lg:flex items-center gap-8 text-[10px] uppercase tracking-[0.2em] font-bold text-white",children:[ye.jsx("button",{onClick:()=>e("crisis"),className:"hover:text-sky-400 transition-colors",children:"The Crisis"}),ye.jsx("button",{onClick:()=>e("solution"),className:"hover:text-sky-400 transition-colors",children:"Our Solution"}),ye.jsx("button",{onClick:()=>e("technology"),className:"hover:text-sky-400 transition-colors",children:"Technology"}),ye.jsx("button",{onClick:()=>e("team"),className:"hover:text-sky-400 transition-colors",children:"Team"})]}),ye.jsxs("div",{className:"flex items-center gap-4 md:gap-6 text-white",children:[ye.jsx(YI,{className:"hidden md:flex"}),ye.jsx("button",{onClick:t,className:"lg:hidden p-1 hover:text-sky-400 transition-colors",children:ye.jsx(qle,{size:24})})]})]})},Tu=({id:t,title:e,subtitle:n,description:i,align:r="center",isHero:a=!1,children:s})=>{const l={left:"items-start text-left",right:"items-end text-right",center:"items-center text-center"}[r];return ye.jsx("section",{id:t,className:`min-h-screen w-full flex flex-col justify-center px-6 md:px-24 py-20 md:py-32 ${l}`,children:ye.jsxs("div",{className:`max-w-4xl w-full ${r==="center"?"flex flex-col items-center":""}`,children:[n&&ye.jsx(My.span,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},className:"font-mono text-[10px] md:text-[11px] uppercase tracking-[0.5em] text-sky-400 font-bold mb-6 block",children:n}),ye.jsx(My.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,ease:"circOut"},className:`${a?"text-5xl md:text-[12vw]":"text-4xl md:text-8xl"} font-sans font-black leading-[0.9] md:leading-[0.8] uppercase tracking-tighter mb-8 md:mb-10`,children:e}),i&&ye.jsx(My.p,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.4,duration:1},className:"text-base md:text-lg text-zinc-200 leading-relaxed font-normal max-w-xl mb-10 md:mb-12 drop-shadow-sm",children:i}),s&&ye.jsx(My.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.6},className:"w-full",children:s}),a&&ye.jsx("div",{className:"mt-12 md:mt-20 animate-bounce flex justify-center w-full",children:ye.jsx(Gle,{size:32,className:"text-sky-500/50"})})]})})},h1=({title:t,url:e})=>ye.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl overflow-hidden group hover:border-sky-500/50 transition-all duration-500",children:[ye.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[ye.jsx("h3",{className:"font-sans font-bold text-sm uppercase tracking-widest",children:t}),ye.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full animate-pulse"})]}),ye.jsx("div",{className:"aspect-square w-full bg-black/40",children:ye.jsx("iframe",{title:t,className:"w-full h-full border-0",allowFullScreen:!0,allow:"autoplay; fullscreen; xr-spatial-tracking",src:e})})]}),d1=({name:t,role:e,bio:n,image:i})=>ye.jsxs("div",{className:"p-8 bg-white/5 border border-white/10 rounded-3xl hover:bg-white/10 transition-colors group",children:[ye.jsx("div",{className:"w-full aspect-square bg-sky-500/10 rounded-2xl mb-6 overflow-hidden border border-white/5",children:ye.jsx("img",{src:i,alt:t,className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500",referrerPolicy:"no-referrer"})}),ye.jsx("h4",{className:"text-xl font-bold mb-1 text-white",children:t}),ye.jsx("p",{className:"text-sky-400 text-xs font-bold uppercase tracking-widest mb-4",children:e}),ye.jsx("p",{className:"text-sm text-zinc-300 leading-relaxed",children:n})]}),_V=[{name:"Population in Ag",value:60,color:"#0ea5e9"},{name:"No Digital Access",value:90,color:"#10b981"},{name:"Climate Crop Loss",value:30,color:"#f43f5e"},{name:"No 4G Coverage",value:75,color:"#fbbf24"}],Swe=[{label:"Global Farmers",value:"500M+"},{label:"No Connectivity",value:"70%"},{label:"Smart Ag Market",value:"$52B"},{label:"Serviceable Market",value:"$8B"},{label:"Target Revenue",value:"$50M"}],Mwe=[{label:"Tech Dev & Optimization",value:"35%"},{label:"Large-Scale Pilot",value:"30%"},{label:"Team Expansion",value:"15%"},{label:"Manufacturing",value:"10%"},{label:"Partnerships",value:"5%"},{label:"Legal & Admin",value:"5%"}],wwe=()=>ye.jsxs("div",{className:"h-[300px] w-full mt-8 bg-white/5 p-6 rounded-3xl border border-white/10 backdrop-blur-xl",children:[ye.jsx(jhe,{width:"100%",height:"100%",children:ye.jsxs(gwe,{data:_V,layout:"vertical",margin:{left:40,right:40},children:[ye.jsx(_W,{type:"number",hide:!0,domain:[0,100]}),ye.jsx(SW,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,tick:{fill:"#cbd5e1",fontSize:10,fontWeight:"bold"},width:120}),ye.jsx(Lxe,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"#0f172a",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px"}}),ye.jsx(xW,{dataKey:"value",radius:[0,4,4,0],barSize:20,children:_V.map((t,e)=>ye.jsx(VI,{fill:t.color},`cell-${e}`))})]})}),ye.jsx("p",{className:"text-[9px] text-zinc-500 text-right mt-2 uppercase tracking-widest font-bold",children:"Source: FAO & World Bank 2023"})]}),Ewe=({items:t})=>ye.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-12 w-full",children:t.map((e,n)=>ye.jsxs("div",{className:"p-6 bg-white/10 border border-white/20 rounded-2xl text-center backdrop-blur-sm",children:[ye.jsx("div",{className:"text-2xl font-black text-white mb-1",children:e.value}),ye.jsx("div",{className:"text-[9px] text-zinc-300 uppercase tracking-widest font-bold",children:e.label})]},n))}),Awe=()=>ye.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-12 w-full max-w-4xl",children:Mwe.map((t,e)=>ye.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/10 border border-white/20 rounded-xl backdrop-blur-sm",children:[ye.jsx("span",{className:"text-xs font-bold text-zinc-200 uppercase tracking-widest",children:t.label}),ye.jsx("span",{className:"text-lg font-black text-sky-400",children:t.value})]},e))});function Twe(){const[t,e]=U.useState(!1),n=i=>{const r=document.getElementById(i);r&&r.scrollIntoView({behavior:"smooth"})};return ye.jsxs("div",{className:"h-screen w-full bg-[#020617] overflow-hidden",children:[ye.jsx(_we,{onMenuToggle:()=>e(!0)}),ye.jsx(bwe,{isOpen:t,onClose:()=>e(!1),onNavigate:n}),ye.jsxs(bne,{shadows:!0,dpr:[1,2],children:[ye.jsx(bie,{makeDefault:!0,position:[0,0,5],fov:50}),ye.jsx(U.Suspense,{fallback:null,children:ye.jsxs(Zne,{pages:14,damping:.15,children:[ye.jsx(xwe,{}),ye.jsx(Jne,{html:!0,children:ye.jsxs("div",{className:"w-full overflow-x-hidden",children:[ye.jsx(Tu,{id:"hero",isHero:!0,subtitle:"Connecting the Unconnected",title:ye.jsxs(ye.Fragment,{children:["Agri",ye.jsx("br",{}),ye.jsx("span",{className:"text-stroke",children:"Mesh."})]}),description:"A decentralised agritech platform delivering real-time soil, weather, and crop data to rural farmers through LoRa mesh networks  no internet required."}),ye.jsx(Tu,{id:"crisis",align:"left",subtitle:"The Digital Black Hole",title:ye.jsxs(ye.Fragment,{children:["Agriculture",ye.jsx("br",{}),"is a Digital",ye.jsx("br",{}),"Crisis."]}),description:"Across Africa, smallholder farmers account for over 70% of food production, yet operate almost entirely without data. Up to 30% of crops are lost each season due to climate events that better data could have prevented.",children:ye.jsx(wwe,{})}),ye.jsx(Tu,{id:"market",align:"center",subtitle:"Market Overview",title:ye.jsxs(ye.Fragment,{children:["A Growing",ye.jsx("br",{}),"Opportunity."]}),description:"The serviceable market for rural IoT and connectivity solutions is estimated at $8B. AgriMesh is positioned to capture this rapidly growing sector.",children:ye.jsx(Ewe,{items:Swe})}),ye.jsx(Tu,{id:"solution",align:"right",subtitle:"Mesh Resilience",title:ye.jsxs(ye.Fragment,{children:["Resilience",ye.jsx("br",{}),"by Design."]}),description:"The genius of AgriMesh lies in its mesh topology. Every sensor node acts as both a data collector and a data relay. Information hops from device to device until it reaches the farmer's phone."}),ye.jsx(Tu,{id:"technology",align:"left",subtitle:"Built for Reality",title:ye.jsxs(ye.Fragment,{children:["LoRa Mesh",ye.jsx("br",{}),"Technology."]}),description:"Operating on unlicensed radio spectrum, data travels up to 15 km per hop without any cellular or broadband infrastructure. Ultra-low power, solar-powered, and built for harsh environments.",children:ye.jsxs("div",{className:"mt-12 w-full max-w-2xl",children:[ye.jsx(h1,{title:"LoRa Mesh Node",url:"https://sketchfab.com/models/e290f228fb394168b9dcc3a2de34c3b8/embed?autospin=1&autostart=1&preload=1&transparent=1&ui_theme=dark"}),ye.jsx("p",{className:"mt-4 text-[10px] text-zinc-500 uppercase tracking-widest font-bold",children:"* Visual representation of the core mesh hardware"})]})}),ye.jsx(Tu,{id:"sensors",align:"center",subtitle:"Precision Hardware",title:ye.jsxs(ye.Fragment,{children:["The Sensor",ye.jsx("br",{}),"Ecosystem."]}),children:ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12 w-full max-w-6xl mx-auto",children:[ye.jsx(h1,{title:"Soil Moisture",url:"https://sketchfab.com/models/bf1a61072e994563a23a005f4121dd66/embed?autospin=1&autostart=1&preload=1&transparent=1"}),ye.jsx(h1,{title:"Air Temperature",url:"https://sketchfab.com/models/782186847cda4c4587325f021cacc02b/embed?autospin=1&autostart=1&preload=1&transparent=1&ui_theme=dark"}),ye.jsx(h1,{title:"Humidity",url:"https://sketchfab.com/models/77a5f7b07f3740678a8cf3edab612723/embed?autospin=1&autostart=1&preload=1&transparent=1&ui_theme=dark"})]})}),ye.jsx(Tu,{id:"hult",align:"center",subtitle:"Investment Ask",title:ye.jsxs(ye.Fragment,{children:["Scaling with",ye.jsx("br",{}),"the $1M Hult Prize."]}),description:"With $1M, we can achieve immediate multi-region deployment and accelerated impact across West Africa.",children:ye.jsx(Awe,{})}),ye.jsx(Tu,{id:"roadmap",align:"right",subtitle:"The Journey",title:ye.jsx(ye.Fragment,{children:"Our Roadmap."}),description:"From functional prototypes in 2026 to connecting 10,000+ farmers by 2028. We are building the digital tools to feed the world more efficiently and sustainably."}),ye.jsx(Tu,{id:"team",align:"center",subtitle:"The Visionaries",title:ye.jsx(ye.Fragment,{children:"Our Team."}),children:ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-12 w-full max-w-7xl mx-auto",children:[ye.jsx(d1,{name:"Pape Birame Thiombane",role:"CEO",bio:"Leads AgriMesh's vision and strategy, driving partnerships and business development.",image:"https://res.cloudinary.com/dkpqkwjgo/image/upload/v1772235994/thiombaneCEO_hxzfeo.png"}),ye.jsx(d1,{name:"Samba Sene",role:"CTO",bio:"Leads the technical architecture, designing and developing the decentralized mesh network.",image:"https://res.cloudinary.com/dkpqkwjgo/image/upload/v1772235994/sambaCTO_i2zfxi.png"}),ye.jsx(d1,{name:"Mouhamadou Lamine Diop",role:"COO",bio:"Oversees field operations and partnerships with local communities.",image:"https://res.cloudinary.com/dkpqkwjgo/image/upload/v1772235993/lamineCOO_ywadzh.png"}),ye.jsx(d1,{name:"Mouhamadoul Ousmane Faye",role:"CFO",bio:"Leads financial strategy, revenue modeling, and investment planning.",image:"https://res.cloudinary.com/dkpqkwjgo/image/upload/v1772235993/ousmaneCFO_fke85a.png"})]})}),ye.jsx(Tu,{id:"mission",align:"center",subtitle:"Our Mission",title:ye.jsxs(ye.Fragment,{children:["Smart Data.",ye.jsx("br",{}),"Modern Farming."]}),description:"To turn raw data into clear, daily actions. By connecting sensors directly to decisions, we help secure crops and save natural resources."}),ye.jsxs("div",{className:"py-24 flex flex-col items-center justify-center text-[10px] uppercase tracking-[0.4em] text-zinc-400 font-bold gap-6",children:[ye.jsx("div",{className:"w-12 h-[1px] bg-zinc-700"}),ye.jsx(YI,{}),ye.jsxs("div",{className:"flex flex-col items-center gap-2",children:[ye.jsx("span",{children:" 2026 AgriMesh Startup  Dakar, Senegal"}),ye.jsx("span",{className:"text-sky-400",children:"Built by ESP Telecommunications Students"})]})]})]})})]})})]})]})}wV.createRoot(document.getElementById("root")).render(ye.jsx(U.StrictMode,{children:ye.jsx(Twe,{})}));
